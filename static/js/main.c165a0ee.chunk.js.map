{"version":3,"sources":["nyt-data/us-states.csv","components/util/cleanStateInfo.js","components/util/importCSV.js","components/appGapminder/appParams.js","context/dataContext.js","context/statesContext.js","context/selectionContext.js","components/appGapminder/chart/CirclesGapminder.js","components/appGapminder/interface/OpacitySlider.js","components/appGapminder/interface/DayCounterSlider.js","components/appGapminder/chart/ChartGapminder.js","components/appGapminder/pickers/ParamPicker.js","components/sharedComponents/SectionTitle.js","components/appGapminder/interface/ParamDashboard.js","components/appGapminder/sharedComponents/pickers/Filter.js","components/appGapminder/pickers/FilterBatch.js","components/appGapminder/pickers/SelectedStatus.js","components/appGapminder/pickers/NumberPicker.js","components/appGapminder/interface/FilterDashboard.js","components/sharedComponents/ChartPicker.js","components/appGapminder/interface/MenuDrawer.js","context/ThemeContext.js","components/Settings.js","components/appGapminder/interface/Navbar.js","components/appGapminder/gapminderData.js","components/appGapminder/styles/dimensions.js","components/appGapminder/AppGapminder.js","components/util/MouseMove.js","components/appCovidCompare/chart/Line.js","components/appCovidCompare/chart/ChartCovidCompare.js","components/appCovidCompare/components/FilterValues.js","components/appCovidCompare/pickers/FilterCases.js","components/appCovidCompare/pickers/FilterPopulation.js","components/appCovidCompare/components/FilterCategories.js","components/appCovidCompare/pickers/FilterRegion.js","components/appCovidCompare/pickers/BatchSelect.js","components/appCovidCompare/pickers/Dashboard.js","components/appCovidCompare/pickers/ParamPicker.js","components/appCovidCompare/interface/Navbar.js","components/appCovidCompare/appParams.js","components/appCovidCompare/AppCovidCompare.js","components/sharedComponents/Footer.js","styles/dimensions.js","styles/theme.js","styles/colors.js","App.js","serviceWorker.js","index.js"],"names":["cleanStateInfo","data","stateInfo","colors","a","revisedStates","Object","keys","forEach","s","i","color","nest","key","d","state","entries","nested","lastIndex","values","length","latestCaseCount","cases","latestCaseCountPerThou","population","importCSV","rawData","csv","dateParser","timeParse","date","fips","parseInt","deaths","filter","Date","includes","stateData","caseCounter","dayOfOutbreak","casesPerThousand","deathsPerThousand","mortalityRate","newCases","chartParams","chartType","toTimestamp","multiple","normalize","xParam","output","type","format","selected","alt1","options","yParam","zParam","cParam","tParam","cParamCategories","region","division","governor","DAY_RANGE","dataContext","React","createContext","statesContext","selectionContext","CirclesGapminder","props","dayCounter","selector","scales","opacityNotSel","xScale","yScale","colorScale","infoStates","useContext","selectedCircles","setSelectedCircles","circlesRef","useRef","classes","makeStyles","theme","circle","stroke","opacity","circleSelected","strokeWidth","circleLabel","fill","palette","text","primary","fontSize","useStyles","useTheme","bisectDay","d3","left","dataAt","day","map","valueAt","b","t","useEffect","current","selectAll","join","sort","attr","htmlFormat","call","append","toFixed","toLocaleString","on","mouseOverCircle","style","mouseOutCircle","notSelected","label","abbreviation","ref","OpacitySlider","setOpacityNotSel","Typography","variant","Slider","id","value","valueLabelDisplay","step","min","max","onChange","e","newVal","DayCounterSlider","setDayCounter","dayStart","dayEnd","ChartGapminder","wrapper","bounds","wrapperWidth","wrapperHeight","margin","width","height","dataStates","useState","setScales","mqSmall","useMediaQuery","breakpoints","down","bodyWrapper","paddingLeft","up","rootSVG","display","position","verticalAlign","overflow","chartTitle","textAnchor","fontWeight","chartSubtitle","chartWrapper","top","axes","legend","contrastText","sliderContainer","flexDirection","justifyContent","maxWidth","alignItems","slider","svgRef","boundsRef","yAxisRef","xAxisRef","legendRef","domain","range","yAxisGenerator","scale","xAxisGenerator","axis","enter","transition","duration","update","exit","remove","renderChart","Box","className","viewBox","transform","x","y","Grid","container","item","rootContainer","minWidth","padding","filterSelector","filterMenuItem","ParamPicker","handleSelector","p","FormControl","InputLabel","Select","name","o","MenuItem","typography","divider","backgroundColor","marginBottom","SectionTitle","href","innerProps","defaultClasses","clsx","children","Divider","defaultProps","paramPickerContainer","menuButton","filterBody","spacing","paddingRight","ParamDashboard","Filter","forwardRef","handleFilter","filterData","anchorEl","setAnchorEl","handleMenu","currentTarget","onClick","onClose","button","chipContainer","listStyle","chip","main","FilterBatch","filters","handleDeleteFilter","nStates","filterParams","category","params","chartParam","n","handleFilters","currSelection","newFilter","filtered","handleFilterCategories","slice","handleFilterValues","prevState","all","f","component","Chip","size","onDelete","stateLabelList","deselectAll","alignContent","paddingTop","deselectAllButton","selectedLabel","notSelectedLabel","SelectedStatus","handleChange","handleDeselectAll","Tooltip","title","IconButton","FormControlLabel","checked","control","Checkbox","input","NumberPicker","setNStates","TextField","InputProps","inputProps","defaultValue","target","filterBatch","selectedStatus","marginTop","FilterDashboard","setFilters","FormGroup","deletedFilter","newFilterList","secondary","ChartPicker","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","MenuDrawer","mobileOpen","handleDrawer","persistent","Hidden","mdUp","Drawer","anchor","direction","open","paper","ModalProps","keepMounted","Toolbar","smDown","drawerContainer","ThemeContext","Settings","darkMode","setDarkMode","rootGrid","window","innerWidth","footerButton","pathArray","location","split","queryID","saveSvgAsPng","document","querySelector","background","default","encoderOptions","fonts","url","placement","root","appBar","dark","appBarShift","marginLeft","transitions","create","easing","easeOut","enteringScreen","hide","Navbar","setMobileOpen","handleOptions","AppBar","edge","disableRipple","Button","Menu","Boolean","MenuList","gapminderData","newData","eachState","push","innerHeight","right","bottom","AppGapminder","setData","setSelector","navbar","then","res","Provider","param","MouseMove","focus","overlay","linesStates","selectedStates","selectedYParam","dateFormatter","timeFormat","x0","invert","mouse","this","bisectDate","bisector","dataEachState","stateHTML","dataEachStateRangeY","dataEachStateRangeX","dataEachStateRangeDate","dataEachStateRangeCases","frozen","select","Line","setLinesStates","filterStates","generateLine","lineGenerator","line","lineData","lastDayOfOutbreak","lastCasesDatum","lineLabelX","lineLabelY","generateFocus","xShift","yShift","mounted","Fragment","strokeLinejoin","strokeLinecap","fontFamily","axisLabel","footnotes","ChartCovidCompare","scaleLinear","extent","scaleLog","axisLeft","ticks","tickFormat","axisBottom","FilterValues","filterOptions","handleSelectedFilter","FilterCases","FilterPopulation","FilterCategories","FilterRegion","tab","menuItem","BatchSelect","setSelectedStates","selectedFilter","setSelectedFilter","newSelectedFilter","newSelection","info","sectionTitleTypography","drawerBody","alignText","selectAllButton","stateLabelSelected","stateLabelNotSelected","Dashboard","handleSelectedStates","handleSelectAllStates","handleDeselectAllStates","formControl","selectInput","setChartParams","autoWidth","drawerWidth","sharp","leavingScreen","navbarPickers","setOpen","handleFilterMenu","textAlign","ClickAwayListener","onClickAway","CHART_PARAMS","AppCovidCompare","flexBasis","about","utils","DateFnsUtils","Footer","rel","lightTheme","light","darkTheme","createMuiTheme","overrides","MuiInputBase","MuiButton","MuiIconButton","getTheme","COLORS","App","setDataStates","setInfoStates","STATE_INFO","USStates","ThemeProvider","CssBaseline","path","render","exact","from","to","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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KAAM,WAERyD,UAAW,CACTzD,KAAM,WAERgG,WAAY,CACVC,QAAS,UACTtB,MAAO,UACPkK,MAAO,UACPrI,KAAM,WAER1Q,KAAM,CACJC,QAAS,SAKFV,GAAQ0Z,aAAe,CAClC/Q,WAAY,CACVkN,WAAY,CAAC,gBAAiB,YAAa,QAAS,cAAcnU,KAAK,MAEzEiY,UAAW,CACTC,aAAc,CACZ3I,KAAM,CACJ7V,MAAO,OACPwJ,YAAa,KAGjBiV,UAAW,CACT5I,KAAM,CACJnK,WAAY,cACZ,UAAW,CACT+B,gBAAiB,cACjB1I,QAAS,MAIf2Z,cAAe,CACb7I,KAAM,CACJnK,WAAY,cACZ,UAAW,CACT+B,gBAAiB,cACjB1I,QAAS,SAON4Z,GAAW,SAAC/Z,EAAO8P,GAC9B,OAAIA,EACK4J,aAAe,2BACjB1Z,GADgB,IAEnBQ,QAAQ,eACHiZ,OAIAC,aAAe,2BACjB1Z,GADgB,IAEnBQ,QAAQ,eACH+Y,QCzFES,GAAS,CACpB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,W,oBCrCaC,OAjDf,WACE,MAAoC5V,mBAAS,IAA7C,mBAAOD,EAAP,KAAmB8V,EAAnB,KACA,EAAoC7V,mBAAS,MAA7C,mBAAO7E,EAAP,KAAmB2a,EAAnB,KACA,EAAgC9V,oBAAS,GAAzC,mBAAOyL,EAAP,KAAiBC,EAAjB,KAYA,OAVAxO,qBAAU,WACR9G,EAAe2J,EAAYgW,EAAYJ,IAAQ/G,MAAK,SAAAC,GAAG,OACrDiH,EAAcjH,QAEf,CAAC9O,IAEJ7C,qBAAU,WACRrF,EAAUme,EAAUD,GAAYnH,MAAK,SAAAC,GAAG,OAAIgH,EAAchH,QACzD,IAGD,oCACE,kBAACtD,GAAauD,SAAd,CAAuBnQ,MAAO,CAAE8M,WAAUC,gBACxC,kBAACuK,GAAA,EAAD,CAAeta,MAAO+Z,GAAS/Z,GAAO8P,IACpC,kBAACyK,GAAA,EAAD,MACA,kBAAC,IAAD,CAAyBpB,MAAOC,KAC9B,kBAAC1a,EAAYyU,SAAb,CAAsBnQ,MAAO,CAAEoB,aAAY8V,kBACzC,kBAACrb,EAAcsU,SAAf,CAAwBnQ,MAAO,CAAExD,aAAY2a,kBAE3C,kBAAC,IAAD,CACEK,KAAK,YACLnT,UAAU,WACV0E,UAAW,kBACT,kBAAC,GAAD,CAAiBlI,QAASA,GAASC,OAAQA,QAG/C,kBAAC,IAAD,CACE0W,KAAK,iBACLnT,UAAU,gBACVoT,OAAQ,kBAAM,kBAAC,GAAD,SAEhB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUC,OAAK,EAACC,KAAK,IAAIC,GAAG,oBAE9B,kBAAC,GAAD,aCxDIxI,QACW,cAA7BnC,OAAOI,SAASwK,UAEe,UAA7B5K,OAAOI,SAASwK,UAEhB5K,OAAOI,SAASwK,SAASC,MACvB,2D,cCZNC,IAASN,OACP,kBAAC,KAAD,KACE,kBAAC,GAAD,OAEFhK,SAASuK,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBlI,MAAK,SAAAmI,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,a","file":"static/js/main.c165a0ee.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/us-states.e9a93610.csv\";","import { nest } from \"d3\";\n\nconst cleanStateInfo = async (data, stateInfo, colors) => {\n  const revisedStates = {};\n\n  Object.keys(stateInfo).forEach((s, i) => {\n    revisedStates[s] = {\n      ...stateInfo[s],\n      color: colors[i],\n    };\n  });\n\n  const nested = await nest()\n    .key(d => d.state)\n    .entries(data);\n\n  await Object.keys(nested).forEach(i => {\n    const s = nested[i].key;\n\n    const lastIndex = nested[i].values.length - 1;\n    const latestCaseCount = nested[i].values[lastIndex].cases;\n    const latestCaseCountPerThou =\n      (nested[i].values[lastIndex].cases / stateInfo[s].population) * 1000;\n\n    revisedStates[s] = {\n      ...revisedStates[s],\n      latestCaseCount: latestCaseCount,\n      latestCaseCountPerThou: latestCaseCountPerThou,\n    };\n  });\n  return revisedStates;\n};\n\nexport { cleanStateInfo };\n","import { csv, timeParse } from \"d3\";\n\nconst importCSV = async (rawData, stateInfo) => {\n  let data = await csv(rawData);\n\n  // clean data\n  const dateParser = timeParse(\"%Y-%m-%d\");\n\n  data.forEach(d => {\n    d.date = dateParser(d.date);\n    d.fips = parseInt(d.fips);\n    d.cases = parseInt(d.cases);\n    d.deaths = parseInt(d.deaths);\n  });\n\n  // Filter data\n  data = data.filter(\n    d =>\n      d.date > new Date(2020, 1, 26) && Object.keys(stateInfo).includes(d.state)\n  );\n\n  // Normalize data:\n  // Add \"dayOfOutbreak\" to show elapsed time\n  // Add state population\n  // Add \"casesPerThousand\", \"deathsPerThousand\", \"mortalityRate\"\n  Object.keys(stateInfo).forEach(state => {\n    const stateData = data.filter(d => d.state === state);\n    let caseCounter = 0;\n    stateData.forEach(d => {\n      d.dayOfOutbreak =\n        (d.date - stateData[0].date) / (24 * 60 * 60 * 10 * 10 * 10) + 1; // day - day one, convert ms to days\n      d.casesPerThousand = (d.cases / stateInfo[state].population) * 1000;\n      d.deathsPerThousand = (d.deaths / stateInfo[state].population) * 1000;\n      d.mortalityRate = (d.deaths / d.cases) * 100;\n      d.newCases = d.cases - caseCounter;\n\n      caseCounter = d.cases;\n    });\n  });\n  return data;\n};\n\nexport { importCSV };\n","export const chartParams = {\n  chartType: \"bubble\",\n  toTimestamp: null,\n  multiple: true,\n  normalize: true,\n  xParam: {\n    // x-axis\n    output: \"x-axis\",\n    type: \"linear\",\n    format: \"none\",\n    selected: \"casesPerThousand\",\n    alt1: \"cases\",\n    options: [\"casesPerThousand\", \"cases\", \"deathsPerThousand\", \"deaths\"],\n  },\n  yParam: {\n    // y-axis\n    output: \"y-axis\",\n    type: \"linear\",\n    format: \"none\",\n    selected: \"deathsPerThousand\",\n    alt1: \"deaths\",\n    options: [\"casesPerThousand\", \"cases\", \"deathsPerThousand\", \"deaths\"],\n  },\n  zParam: {\n    // z-axis (3rd dimension) (eg. size)\n    output: \"circle-area\",\n    type: \"linear\",\n    format: \"none\",\n    selected: \"population\",\n    options: [\"population\", \"populationDensity\", \"gdp\", \"none\"],\n  },\n  cParam: {\n    // color axis (categorical/ordinal data) (eg. gender, birthplace, etc.)\n    output: \"color-grouping\",\n    type: \"categorical\",\n    selected: \"region\",\n    options: [\"region\", \"division\", \"governor\"],\n  },\n  tParam: {\n    // time axis (4th dimension) (ie. for animated charts)\n    output: \"time\",\n    type: \"time\",\n    selected: \"dayOfOutbreak\",\n    options: [\"dayOfOutbreak\", \"date\"],\n  },\n};\n\n// Label params:\nexport const labelParams = {\n  chartTitle: \"COVID-19 State Comparison\",\n  xLabel: \"Cases per Thousand\",\n  yLabel: \"Deaths per Thousand\",\n};\n\n// color param categories\nexport const cParamCategories = {\n  region: [\"Northeast\", \"Midwest\", \"South\", \"West\"],\n  division: [\n    \"New England\",\n    \"Mid-Atlantic\",\n    \"East North Central\",\n    \"West North Central\",\n    \"South Atlantic\",\n    \"East South Central\",\n    \"West South Central\",\n    \"Mountain\",\n    \"Pacific\",\n  ],\n  governor: [\"Republican\", \"Democrat\", \"n/a\"],\n};\n\n// data params\nexport const DAY_RANGE = {\n  start: 1,\n  end: 604\n}\n\n","import React from \"react\";\n\nconst dataContext = React.createContext();\n\nexport { dataContext };\n","import React from \"react\";\n\nconst statesContext = React.createContext();\n\nexport { statesContext };\n","import React from \"react\";\n\nexport const selectionContext = React.createContext();\n","import React, { useEffect, useContext, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\n// context\nimport { statesContext } from \"../../../context/statesContext\";\nimport { selectionContext } from \"../../../context/selectionContext\";\n\n// style\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nexport const CirclesGapminder = props => {\n  const { data, dayCounter, selector, scales, opacityNotSel } = props;\n  const { xParam, yParam, zParam, cParam } = selector;\n  const { xScale, yScale, colorScale } = scales;\n\n  // context and ref\n  const { infoStates } = useContext(statesContext);\n  const { selectedCircles, setSelectedCircles } = useContext(selectionContext);\n  const circlesRef = useRef(null);\n\n  // styles\n  const useStyles = makeStyles(theme => ({\n    circle: {\n      stroke: \"none\",\n      opacity: opacityNotSel,\n    },\n    circleSelected: {\n      stroke: \"#e91e63\",\n      strokeWidth: 2,\n      opacity: 0.8,\n    },\n    circleLabel: {\n      fill: theme.palette.text.primary,\n      fontSize: \".6rem\",\n    },\n  }));\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const bisectDay = d3.bisector(([d]) => d).left;\n\n  function dataAt(day) {\n    return data.map(d => ({\n      state: d.state,\n      region: d.region,\n      [xParam.selected]: valueAt(d[xParam.selected], day),\n      [yParam.selected]: valueAt(d[yParam.selected], day),\n    }));\n  }\n\n  function valueAt(values, day) {\n    const i = bisectDay(values, day, 0, values.length - 1);\n    const a = values[i];\n\n    if (i > 0) {\n      const b = values[i - 1];\n      const t = (day - a[0]) / (b[0] - a[0]);\n      return a[1] * (1 - t) + b[1] * t;\n    }\n    return a[1];\n  }\n\n  useEffect(() => {\n    if (data) {\n      const circle = d3\n        .select(circlesRef.current)\n        .selectAll(\"circle\")\n        .data(dataAt(dayCounter), d => d)\n        .join(\"circle\")\n        .sort((a, b) =>\n          d3.descending(\n            infoStates[a.state][zParam.selected],\n            infoStates[b.state][zParam.selected]\n          )\n        )\n        .attr(\"r\", d =>\n          zParam.selected === \"population\"\n            ? infoStates[d.state][zParam.selected] / 1000000\n            : zParam.selected === \"populationDensity\"\n            ? infoStates[d.state][zParam.selected] / 100\n            : zParam.selected === \"gdp\"\n            ? infoStates[d.state][zParam.selected] / 100000\n            : 5\n        )\n        .attr(\"cx\", d => xScale(d[xParam.selected]))\n        .attr(\"cy\", d => yScale(d[yParam.selected]))\n        .attr(\"fill\", d => colorScale(infoStates[d.state][cParam.selected]))\n        .attr(\"id\", d => `circle-${infoStates[d.state].htmlFormat}`)\n        .attr(\"class\", d =>\n          selectedCircles.selected.includes(d.state)\n            ? classes.circleSelected\n            : classes.circle\n        )\n        .call(circle =>\n          circle\n            .append(\"title\")\n            .text(d =>\n              [\n                d.state,\n                `Day ${dayCounter}`,\n                xParam.selected === \"casesPerThousand\"\n                  ? `Cases/1000: ${\n                      d.casesPerThousand && d.casesPerThousand.toFixed(2)\n                    }`\n                  : xParam.selected === \"cases\"\n                  ? `Cases: ${d.cases && d.cases.toLocaleString()}`\n                  : xParam.selected === \"deathsPerThousand\"\n                  ? `Deaths/1000: ${\n                      d.deathsPerThousand && d.deathsPerThousand.toFixed(2)\n                    }`\n                  : xParam.selected === \"deaths\"\n                  ? `Deaths: ${d.deaths && d.deaths.toLocaleString()}`\n                  : \"error\",\n                yParam.selected === \"casesPerThousand\"\n                  ? `Cases/1000: ${\n                      d.casesPerThousand && d.casesPerThousand.toFixed(2)\n                    }`\n                  : yParam.selected === \"cases\"\n                  ? `Cases: ${d.cases && d.cases.toLocaleString()}`\n                  : yParam.selected === \"deathsPerThousand\"\n                  ? `Deaths/1000: ${\n                      d.deathsPerThousand && d.deathsPerThousand.toFixed(2)\n                    }`\n                  : yParam.selected === \"deaths\"\n                  ? `Deaths: ${d.deaths && d.deaths.toLocaleString()}`\n                  : \"error\",\n              ].join(\"\\n\")\n            )\n        );\n\n      circle.on(\"mouseover\", d => {\n        const mouseOverCircle = d3.select(\n          `#circle-${infoStates[d.state].htmlFormat}`\n        );\n        if (opacityNotSel !== 0 || selectedCircles.selected.includes(d.state)) {\n          mouseOverCircle\n            .attr(\"cursor\", \"pointer\")\n            .style(\"opacity\", 0.9)\n            .style(\"stroke\", \"#e91e63\")\n            .style(\"stroke-width\", 2);\n        }\n      });\n\n      circle.on(\"mouseout\", d => {\n        const mouseOutCircle = d3.select(\n          `#circle-${infoStates[d.state].htmlFormat}`\n        );\n        if (selectedCircles.notSelected.includes(d.state)) {\n          mouseOutCircle\n            .style(\"opacity\", opacityNotSel)\n            .style(\"stroke\", \"none\");\n        }\n      });\n\n      circle.on(\"click\", d => {\n        if (selectedCircles.selected.includes(d.state)) {\n          setSelectedCircles({\n            ...selectedCircles,\n            selected: selectedCircles.selected.filter(s => s !== d.state),\n            notSelected: [...selectedCircles.notSelected, d.state],\n          });\n          d3.select(`#circle-${infoStates[d.state].htmlFormat}`)\n            .style(\"opacity\", opacityNotSel)\n            .style(\"stroke\", \"none\");\n        } else {\n          setSelectedCircles({\n            ...selectedCircles,\n            selected: [...selectedCircles.selected, d.state],\n            notSelected: selectedCircles.notSelected.filter(s => s !== d.state),\n          });\n          d3.select(`#circle-${infoStates[d.state].htmlFormat}`)\n            .style(\"opacity\", 0.9)\n            .style(\"stroke\", \"#e91e63\")\n            .style(\"stroke-width\", 2);\n        }\n      });\n\n      d3.select(circlesRef.current)\n        .selectAll(\"text\")\n        .data(dataAt(dayCounter), d => d)\n        .join(\"text\")\n        .call(label => {\n          const length = d => {\n            if (zParam.selected === \"population\") {\n              return infoStates[d.state][zParam.selected] / 1000000;\n            } else if (zParam.selected === \"populationDensity\") {\n              return infoStates[d.state][zParam.selected] / 100;\n            } else if (zParam.selected === \"gdp\") {\n              return infoStates[d.state][zParam.selected] / 100000;\n            } else {\n              return 4;\n            }\n          };\n          label\n            .attr(\"x\", d => xScale(d[xParam.selected]) + length(d))\n            .attr(\"y\", d => yScale(d[yParam.selected]) - length(d));\n        })\n        .attr(\"opacity\", d =>\n          selectedCircles.selected.includes(d.state) ? 0.8 : 0\n        )\n        .attr(\"class\", classes.circleLabel)\n        .attr(\"cursor\", \"context-menu\")\n        .text(d => infoStates[d.state].abbreviation);\n    }\n  }, [dayCounter, selector, scales, selectedCircles, opacityNotSel, theme]);\n\n  return (\n    <>\n      <g ref={circlesRef} />\n    </>\n  );\n};\n","import React from \"react\";\nimport { Slider, Typography } from \"@material-ui/core\";\n\nexport const OpacitySlider = props => {\n  const { opacityNotSel, setOpacityNotSel } = props;\n\n  return (\n    <>\n      <Typography variant=\"caption\">Non-selected opacity</Typography>\n      <Slider\n        id=\"opacity-slider\"\n        value={opacityNotSel}\n        valueLabelDisplay=\"auto\"\n        step={0.1}\n        min={0}\n        max={1}\n        onChange={(e, newVal) => setOpacityNotSel(newVal)}\n      />\n    </>\n  );\n};\n","import React from \"react\";\nimport { Slider, Typography } from \"@material-ui/core\";\n\nexport const DayCounterSlider = props => {\n  const { \n    dayCounter, setDayCounter, dayStart, dayEnd \n  } = props;\n\n  return (\n    <>\n      <Typography variant=\"caption\">Day of Outbreak</Typography>\n      <Slider\n        id=\"day-counter-slider\"\n        value={dayCounter}\n        valueLabelDisplay=\"auto\"\n        step={1}\n        min={dayStart}\n        max={dayEnd}\n        onChange={(e, newVal) => setDayCounter(newVal)}\n      />\n    </>\n  );\n};\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as d3 from \"d3\";\n\n// context\nimport { dataContext } from \"../../../context/dataContext\";\n\n// components\nimport { CirclesGapminder } from \"./CirclesGapminder\";\nimport { OpacitySlider } from \"../interface/OpacitySlider\";\nimport { DayCounterSlider } from \"../interface/DayCounterSlider\";\n\n// style\nimport { Grid, Box, useMediaQuery } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nexport const ChartGapminder = props => {\n  const { \n    cParamCategories, data, selector, wrapper, bounds, dayStart, dayEnd \n  } = props;\n  const { xParam, yParam, cParam } = selector;\n  const { wrapperWidth, wrapperHeight, margin } = wrapper;\n  const { width, height } = bounds;\n\n  const { dataStates } = useContext(dataContext);\n  const [scales, setScales] = useState(null);\n  const [dayCounter, setDayCounter] = useState(dayStart);\n  const [opacityNotSel, setOpacityNotSel] = useState(0.6);\n\n  const theme = useTheme();\n  const mqSmall = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const useStyles = makeStyles(theme => ({\n    bodyWrapper: {\n      paddingLeft: 0,\n      [theme.breakpoints.up(\"md\")]: {\n        paddingLeft: 260,\n      },\n    },\n    rootSVG: {\n      display: \"inline-block\",\n      position: \"relative\",\n      width: \"100%\",\n      verticalAlign: \"middle\",\n      overflow: \"hidden\",\n    },\n    chartTitle: {\n      textAnchor: \"middle\",\n      fill: theme.palette.text.primary,\n      fontWeight: 700,\n      fontSize: \".8rem\",\n      [theme.breakpoints.up(\"sm\")]: {\n        fontSize: \"1rem\",\n      },\n    },\n    chartSubtitle: {\n      textAnchor: \"middle\",\n      fill: theme.palette.text.primary,\n      fontSize: \".5rem\",\n      [theme.breakpoints.up(\"sm\")]: {\n        fontSize: \".6rem\",\n      },\n    },\n    chartWrapper: {\n      display: \"inline-block\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n    },\n    bounds: {\n      width: width,\n      height: height,\n    },\n    axes: {\n      color: theme.palette.text.primary,\n    },\n    legend: {\n      color: theme.palette.primary.contrastText,\n      fontWeight: 700,\n      fontSize: \".6rem\",\n      [theme.breakpoints.up(\"sm\")]: {\n        fontSize: \".8rem\",\n      },\n    },\n    sliderContainer: {\n      flexDirection: () => (mqSmall ? \"column\" : \"row\"),\n      justifyContent: () => (mqSmall ? \"center\" : \"space-between\"),\n      maxWidth: width,\n      margin: \"0 auto\",\n      alignItems: \"center\",\n    },\n    slider: {\n      width: () => (mqSmall ? \"95%\" : \"45%\"),\n    },\n  }));\n\n  const classes = useStyles();\n\n  const svgRef = useRef(null);\n  const boundsRef = useRef(null);\n  const yAxisRef = useRef(null);\n  const xAxisRef = useRef(null);\n  const legendRef = useRef(null);\n\n  const renderChart = () => {\n\t\tconst xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([0, d3.max(dataStates, d => d[xParam.selected]) + 3])\n\t\t\t.range([0, width]);\n    const yScale = d3\n      .scaleLinear()\n\t\t\t.domain([0, d3.max(dataStates, d => d[yParam.selected]) + .2])\n      .range([height, 0]);\n\n    let colorScale;\n\n    if (cParam.selected === \"region\") {\n      colorScale = d3\n        .scaleOrdinal()\n        .domain(cParamCategories.region)\n        .range(d3.schemePaired);\n    } else if (cParam.selected === \"division\") {\n      colorScale = d3\n        .scaleOrdinal()\n        .domain(cParamCategories.division)\n        .range(d3.schemePaired);\n    } else if (cParam.selected === \"governor\") {\n      colorScale = d3\n        .scaleOrdinal()\n        .domain(cParamCategories.governor)\n        .range([\"#B61515\", \"#2E84D5\", \"#009C72\"]);\n    }\n\n    setScales({\n      xScale: xScale,\n      yScale: yScale,\n      colorScale: colorScale,\n    });\n\n    // Axes\n    const yAxisGenerator = d3.axisLeft().scale(yScale);\n    const xAxisGenerator = d3.axisBottom().scale(xScale);\n\n    const xAxis = d3\n      .select(xAxisRef.current)\n      .call(xAxisGenerator)\n      .call(axis => {\n        axis.append(\"text\").attr(\"class\", \"xLabel\");\n        axis.append(\"text\").attr(\"class\", \"counter-display\");\n      });\n\n    xAxis\n      .selectAll(\".xLabel\")\n      .data(xParam.selected, d => d)\n      .join(\"text\")\n      .attr(\"x\", width)\n      .attr(\"y\", 40)\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"class\", \"xLabel\")\n      .attr(\"fill\", theme.palette.text.primary)\n      .text(xParam.selected);\n\n    const yAxis = d3\n      .select(yAxisRef.current)\n      .call(yAxisGenerator)\n      .call(axis => axis.append(\"text\").attr(\"class\", \"yLabel\"));\n\n    yAxis\n      .selectAll(\".yLabel\")\n      .data(yParam.selected, d => d)\n      .join(\"text\")\n      .attr(\"x\", 0)\n      .attr(\"y\", -40)\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"class\", \"yLabel\")\n      .attr(\"fill\", theme.palette.text.primary)\n      .text(yParam.selected);\n\n    // legend\n    d3.select(legendRef.current)\n      .selectAll(\"text\")\n      .data(cParamCategories[cParam.selected], d => d)\n      .join(\n        enter =>\n          enter\n            .append(\"text\")\n            .attr(\"x\", \"1rem\")\n            .attr(\"y\", -1000)\n            .attr(\"fill\", d => colorScale(d))\n            .attr(\"text-anchor\", \"start\")\n            .text(d => d)\n            .call(enter =>\n              enter\n                .transition()\n                .duration(750)\n                .attr(\"y\", (d, i) => -height + 10 + 20 * i)\n            ),\n        update =>\n          update\n            .append(\"text\")\n            .attr(\"fill\", d => colorScale(d))\n            .attr(\"text-anchor\", \"start\")\n            .attr(\"y\", 60)\n            .text(d => d)\n            .call(update => update.transition().duration(750)),\n        exit =>\n          exit\n            .attr(\"fill\", \"gray\")\n            .attr(\"text-anchor\", \"start\")\n            .text(d => d)\n            .call(exit => exit.transition().duration(750).attr(\"y\", 0).remove())\n      );\n  };\n\n  useEffect(() => {\n    if (dataStates) {\n      renderChart();\n    }\n  }, [dataStates, selector, theme]);\n\n  useEffect(() => {\n    d3.select(boundsRef.current)\n      .selectAll(\".counter-display\")\n      .join(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", width)\n      .attr(\"y\", -40)\n      .attr(\"class\", \"counter-display\")\n      .style(\"fill\", theme.palette.text.primary)\n      .text(`Day ${dayCounter}`);\n  }, [dayCounter, theme]);\n\n  return (\n    <Box className={classes.bodyWrapper}>\n      <div>\n        <svg\n          ref={svgRef}\n          id=\"gapminder-app\"\n          height={wrapperHeight}\n          width={wrapperWidth}\n          className={classes.rootSVG}\n          viewBox={`0 0 ${wrapperWidth} ${wrapperHeight}`}\n        >\n          <g\n            ref={boundsRef}\n            className={classes.bounds}\n            transform={`translate(${margin.left}, ${margin.top})`}\n          >\n            <text\n              x={width / 2}\n              y={mqSmall ? -margin.top * 0.5 : -margin.top * 0.7}\n              className={classes.chartTitle}\n            >\n              COVID-19 in the United States\n            </text>\n            <text\n              x={width / 2}\n              y={mqSmall ? -margin.top * 0.3 : -margin.top * 0.4}\n              className={classes.chartTitle}\n            >\n              {`Outbreak Days ${dayStart} - ${dayEnd}`}\n            </text>\n            <text\n              x={width / 2}\n              y={mqSmall ? -margin.top * 0.15 : -margin.top * 0.15}\n              className={classes.chartSubtitle}\n            >\n              *data from the New York Times\n            </text>\n            <g\n              ref={xAxisRef}\n              transform={`translate(0, ${height})`}\n              className={classes.axes}\n            />\n            <g ref={yAxisRef} className={classes.axes} />\n            <g\n              ref={legendRef}\n              transform={`translate(0, ${height})`}\n              className={classes.legend}\n            />\n            {data && scales ? (\n              <CirclesGapminder\n                {...props}\n                scales={scales}\n                dayCounter={dayCounter}\n                opacityNotSel={opacityNotSel}\n              />\n            ) : (\n              <></>\n            )}\n          </g>\n        </svg>\n      </div>\n      <Grid container className={classes.sliderContainer}>\n        <Grid item className={classes.slider}>\n          <DayCounterSlider\n            dayCounter={dayCounter}\n            setDayCounter={setDayCounter}\n            dayStart={dayStart}\n            dayEnd={dayEnd}\n          />\n        </Grid>\n        <Grid item className={classes.slider}>\n          <OpacitySlider\n            opacityNotSel={opacityNotSel}\n            setOpacityNotSel={setOpacityNotSel}\n          />\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nChartGapminder.propTypes = {\n  cParamCategories: PropTypes.object,\n  data: PropTypes.arrayOf(PropTypes.object),\n  selector: PropTypes.object,\n  wrapper: PropTypes.object,\n  bounds: PropTypes.object,\n};\n","import React from \"react\";\n\n// style\nimport {\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Grid,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  rootContainer: {\n    maxWidth: 750,\n    minWidth: 175,\n    justifyContent: \"space-evenly\",\n    padding: 0,\n    margin: 0,\n  },\n  filterSelector: {\n    minWidth: 150,\n    fontWeight: 500,\n    fontSize: \".8rem\",\n    color: theme.palette.text.primary,\n  },\n  filterMenuItem: {\n    color: theme.palette.text.primary,\n    fontWeight: 500,\n    fontSize: \".8rem\",\n  },\n}));\n\nexport const ParamPicker = props => {\n  const { flexDirection, selector, handleSelector } = props;\n  const classes = useStyles();\n\n  return (\n    <Grid\n      container\n      className={classes.rootContainer}\n      style={\n        flexDirection === \"row\"\n          ? { flexDirection: \"row\", justifyContent: \"space-evenly\" }\n          : { flexDirection: \"column\" }\n      }\n    >\n      {Object.keys(selector).map(p => {\n        return (\n          <FormControl key={selector[p].output}>\n            <InputLabel>{selector[p].output}</InputLabel>\n            <Select\n              name={p}\n              value={selector[p].selected}\n              onChange={handleSelector}\n              className={classes.filterSelector}\n            >\n              {selector[p].options.map(o => {\n                return (\n                  <MenuItem\n                    key={o}\n                    value={o}\n                    className={classes.filterMenuItem}\n                  >\n                    {o}\n                  </MenuItem>\n                );\n              })}\n            </Select>\n          </FormControl>\n        );\n      })}\n    </Grid>\n  );\n};\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\n\n// styles\nimport { Typography, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  typography: {\n    color: theme.palette.text.primary,\n    fontWeight: 700,\n    fontSize: \"1.2rem\",\n  },\n  divider: {\n    backgroundColor: theme.palette.text.primary,\n    marginBottom: \".2rem\",\n  },\n}));\n\nexport const SectionTitle = props => {\n  const { divider, href, classes, innerProps } = props;\n  const defaultClasses = useStyles();\n\n  return (\n    <>\n      <Typography\n        className={clsx(defaultClasses.typography, classes.typography)}\n        {...innerProps.typography}\n      >\n        {props.children}\n      </Typography>\n      {divider && (\n        <Divider\n          className={clsx(defaultClasses.divider, classes.divider)}\n          {...innerProps.divider}\n        />\n      )}\n    </>\n  );\n};\n\nSectionTitle.propTypes = {\n  classes: PropTypes.object,\n  innerProps: PropTypes.object,\n};\n\nSectionTitle.defaultProps = {\n  classes: {},\n  innerProps: {},\n};\n","import React from \"react\";\n\n// components\nimport { ParamPicker } from \"../pickers/ParamPicker\";\nimport { SectionTitle } from \"../../sharedComponents/SectionTitle\";\n\n// style\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  paramPickerContainer: {},\n  menuButton: {\n    color: theme.palette.primary.contrastText,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  filterBody: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(4),\n    marginBottom: theme.spacing(4),\n  },\n}));\n\nconst ParamDashboard = props => {\n  const { flexDirection, data, selector, handleSelector } = props;\n  const classes = useStyles();\n\n  return (\n    <div className={classes.paramPickerContainer}>\n      <SectionTitle divider>Parameters</SectionTitle>\n      <div className={classes.filterBody}>\n        <ParamPicker\n          flexDirection={flexDirection}\n          data={data}\n          selector={selector}\n          handleSelector={handleSelector}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ParamDashboard;\n","import React, { useState, useContext, forwardRef } from \"react\";\n\n// context\nimport { statesContext } from \"../../../../context/statesContext\";\n\n// style\nimport { MenuItem } from \"@material-ui/core\";\n\nexport const Filter = forwardRef((props, ref) => {\n  const { handleFilter, filterData } = props;\n\n  const { infoStates } = useContext(statesContext);\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenu = e => {\n    !anchorEl ? setAnchorEl(e.currentTarget) : setAnchorEl(null);\n  };\n\n  return (\n    <>\n      {infoStates &&\n        filterData.map(d => {\n          return (\n            <MenuItem\n              key={d.id}\n              id={d.id}\n              onClick={() => handleFilter(d)}\n              onClose={handleMenu}\n            >\n              {d.name}\n            </MenuItem>\n          );\n        })}\n    </>\n  );\n});\n","import React, { useState, useEffect, useContext } from \"react\";\n\n// context\nimport { selectionContext } from \"../../../context/selectionContext\";\nimport { statesContext } from \"../../../context/statesContext\";\n\n// components\nimport { Filter } from \"../sharedComponents/pickers/Filter\";\n\n// style\nimport { Chip, FormControl, InputLabel, Select, Box } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  filterSelector: {\n    display: \"block\",\n    minWidth: 175,\n    fontWeight: 500,\n    fontSize: \".8rem\",\n  },\n  chipContainer: {\n    listStyle: \"none\",\n    backgroundColor: \"transparent\",\n    padding: 0,\n  },\n  chip: {\n    color: theme.palette.primary.main,\n    backgroundColor: theme.palette.primary.contrastText,\n    padding: theme.spacing(0.5),\n    margin: theme.spacing(0.5),\n    fontSize: \".7rem\",\n  },\n}));\n\nexport const FilterBatch = props => {\n  const {\n    filters,\n    handleDeleteFilter,\n    handleFilter,\n    nStates,\n    handleSelector,\n  } = props;\n  const { setSelectedCircles } = useContext(selectionContext);\n  const { infoStates } = useContext(statesContext);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStyles();\n\n  const handleFilterCategories = newFilter => {\n    const filtered = Object.keys(infoStates).filter(\n      s => infoStates[s][newFilter.chartParam] === newFilter.name\n    );\n\n    setAnchorEl(null);\n    return filtered;\n  };\n\n  const filterParams = [\n    {\n      category: \"Region\",\n      params: [\n        {\n          id: \"northeast\",\n          name: \"Northeast\",\n          type: \"Region\",\n          chartParam: \"region\",\n        },\n        {\n          id: \"midwest\",\n          name: \"Midwest\",\n          type: \"Region\",\n          chartParam: \"region\",\n        },\n        {\n          id: \"south\",\n          name: \"South\",\n          type: \"Region\",\n          chartParam: \"region\",\n        },\n        {\n          id: \"west\",\n          name: \"West\",\n          type: \"Region\",\n          chartParam: \"region\",\n        },\n      ],\n    },\n    {\n      category: \"Gov. party\",\n      params: [\n        {\n          id: \"democrat\",\n          name: \"Democrat\",\n          type: \"Governor\",\n          chartParam: \"governor\",\n        },\n        {\n          id: \"republican\",\n          name: \"Republican\",\n          type: \"Governor\",\n          chartParam: \"governor\",\n        },\n      ],\n    },\n    {\n      category: \"Population\",\n      params: [\n        {\n          id: \"pop-high\",\n          name: `Top ${nStates} (pop. total)`,\n          type: \"Pop.\",\n          chartParam: \"population\",\n          sort: \"descending\",\n          n: nStates,\n        },\n        {\n          id: \"pop-low\",\n          name: `Bottom ${nStates} (pop. total)`,\n          type: \"Pop.\",\n          chartParam: \"population\",\n          sort: \"ascending\",\n          n: nStates,\n        },\n        {\n          id: \"pop-density-high\",\n          name: `Top ${nStates} (pop. density)`,\n          type: \"Pop.\",\n          chartParam: \"populationDensity\",\n          sort: \"descending\",\n          n: nStates,\n        },\n        {\n          id: \"pop-density-low\",\n          name: `Bottom ${nStates} (pop. density)`,\n          type: \"Pop.\",\n          chartParam: \"populationDensity\",\n          sort: \"ascending\",\n          n: nStates,\n        },\n      ],\n    },\n    {\n      category: \"GDP\",\n      params: [\n        {\n          id: \"gdp-high\",\n          name: `Top ${nStates} (2019 GDP)`,\n          type: \"GDP\",\n          chartParam: \"gdp\",\n          sort: \"descending\",\n          n: nStates,\n        },\n        {\n          id: \"gdp-low\",\n          name: `Bottom ${nStates} (2019 GDP)`,\n          type: \"GDP\",\n          chartParam: \"gdp\",\n          sort: \"ascending\",\n          n: nStates,\n        },\n      ],\n    },\n  ];\n\n  const handleFilterValues = newFilter => {\n    const n = newFilter.n;\n    const filtered = Object.keys(infoStates)\n      .sort((a, b) =>\n        newFilter.sort === \"descending\"\n          ? infoStates[b][newFilter.chartParam] -\n            infoStates[a][newFilter.chartParam]\n          : infoStates[a][newFilter.chartParam] -\n            infoStates[b][newFilter.chartParam]\n      )\n      .slice(0, n);\n\n    setAnchorEl(null);\n    return filtered;\n  };\n\n  const handleFilters = () => {\n    let selected = [];\n    let currSelection = [];\n    filters.forEach((d, i) => {\n      if (d.type === \"Region\" || d.type === \"Governor\") {\n        currSelection = handleFilterCategories(d);\n      } else if (d.type === \"Pop.\" || d.type === \"GDP\") {\n        currSelection = handleFilterValues(d);\n      }\n\n      selected =\n        selected.length < 1\n          ? currSelection\n          : currSelection.filter(s => selected.includes(s));\n    });\n\n    setSelectedCircles(prevState => ({\n      ...prevState,\n      selected: selected,\n      notSelected: prevState.all.filter(s => !selected.includes(s)),\n    }));\n  };\n\n  useEffect(() => {\n    filters.length > 0\n      ? handleFilters()\n      : setSelectedCircles(prevState => ({\n          ...prevState,\n          selected: [],\n          notSelected: prevState.all,\n        }));\n  }, [filters]);\n\n  return (\n    <>\n      {filterParams.map(f => (\n        <FormControl key={f.category}>\n          <InputLabel>{f.category}</InputLabel>\n          <Select\n            name={f.category}\n            onChange={handleSelector}\n            className={classes.filterSelector}\n          >\n            <Filter handleFilter={handleFilter} filterData={f.params} />\n          </Select>\n        </FormControl>\n      ))}\n      <Box component=\"ul\" className={classes.chipContainer}>\n        {filters.length > 0 &&\n          filters.map(f => {\n            return (\n              <li key={f.id}>\n                <Chip\n                  size=\"small\"\n                  className={classes.chip}\n                  label={f.name}\n                  onDelete={() => handleDeleteFilter(f)}\n                />\n              </li>\n            );\n          })}\n      </Box>\n    </>\n  );\n};\n","import React, { useContext } from \"react\";\n\n// context\nimport { selectionContext } from \"../../../context/selectionContext\";\n\n// style\nimport {\n  FormControlLabel,\n  Checkbox,\n  Divider,\n  Tooltip,\n  IconButton,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\n\nconst useStyles = makeStyles(theme => ({\n  stateLabelList: {\n    display: \"block\",\n  },\n  deselectAll: {\n    display: \"flex\",\n    alignContent: \"center\",\n    paddingTop: theme.spacing(2),\n  },\n  deselectAllButton: {\n    padding: 0,\n    color: \"#e32636\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  selectedLabel: {\n    fontSize: \".9rem\",\n    fontWeight: 300,\n  },\n  notSelectedLabel: {\n    fontSize: \".9rem\",\n    color: \"gray\",\n    fontWeight: 300,\n    opacity: 0.7,\n  },\n}));\n\nexport const SelectedStatus = props => {\n  const { handleChange, handleDeselectAll } = props;\n  const { selectedCircles } = useContext(selectionContext);\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <>\n      <div className={classes.deselectAll}>\n        <Tooltip title=\"Deselect all\">\n          <IconButton\n            className={classes.deselectAllButton}\n            onClick={handleDeselectAll}\n          >\n            <ClearIcon />\n          </IconButton>\n        </Tooltip>\n        <Typography display=\"inline\">Deselect All</Typography>\n      </div>\n      {selectedCircles.selected &&\n        selectedCircles.selected.sort().map((state, i) => {\n          return (\n            <FormControlLabel\n              key={i}\n              name={state}\n              checked={selectedCircles.selected.includes(state)}\n              onChange={handleChange}\n              control={\n                <Checkbox name={state} className={classes.selectedLabel} />\n              }\n              label={state}\n              className={classes.stateLabelList}\n              classes={{ label: classes.selectedLabel }}\n            />\n          );\n        })}\n      <Divider />\n      <br />\n      {selectedCircles.notSelected &&\n        selectedCircles.notSelected.sort().map((state, i) => {\n          return (\n            <FormControlLabel\n              key={i}\n              name={state}\n              checked={selectedCircles.selected.includes(state)}\n              onChange={handleChange}\n              control={\n                <Checkbox name={state} className={classes.notSelectedLabel} />\n              }\n              label={state}\n              className={classes.stateLabelList}\n              classes={{ label: classes.notSelectedLabel }}\n            />\n          );\n        })}\n    </>\n  );\n};\n","import React from \"react\";\n\n// style\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  filterSelector: {\n    minWidth: 150,\n    fontWeight: 500,\n    fontSize: \".8rem\",\n    color: theme.palette.text.primary,\n  },\n  input: {\n    color: theme.palette.text.primary,\n  },\n}));\n\nexport const NumberPicker = props => {\n  const { nStates, setNStates } = props;\n  const classes = useStyles();\n\n  return (\n    <TextField\n      id=\"n-states\"\n      size=\"small\"\n      type=\"number\"\n      label=\"Filter n states\"\n      InputProps={{\n        inputProps: {\n          min: 1,\n          max: 50,\n          className: classes.input,\n        },\n      }}\n      defaultValue={nStates}\n      onChange={e => setNStates(e.target.value)}\n      className={classes.filterSelector}\n    />\n  );\n};\n","import React, { useState, useContext } from \"react\";\nimport { FormGroup } from \"@material-ui/core\";\n\n// components\nimport { SectionTitle } from \"../../sharedComponents/SectionTitle\";\nimport { FilterBatch } from \"../pickers/FilterBatch\";\nimport { SelectedStatus } from \"../pickers/SelectedStatus\";\nimport { NumberPicker } from \"../pickers/NumberPicker\";\n\n// context\nimport { selectionContext } from \"../../../context/selectionContext\";\n\n// styles\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  deselectAll: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: theme.spacing(2),\n  },\n  filterBatch: {\n    justifyContent: \"flex-start\",\n    color: theme.palette.text.primary,\n  },\n  selectedStatus: {\n    marginTop: \"100\",\n  },\n  filterBody: {\n    paddingLeft: theme.spacing(3),\n    marginBottom: theme.spacing(4),\n  },\n}));\n\nconst FilterDashboard = props => {\n  const { handleSelector } = props;\n  const { selectedCircles, setSelectedCircles } = useContext(selectionContext);\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const [filters, setFilters] = useState([]);\n  const [nStates, setNStates] = useState(12);\n\n  const handleChange = e => {\n    const state = e.target.name;\n\n    if (selectedCircles.selected.includes(state)) {\n      setSelectedCircles({\n        ...selectedCircles,\n        selected: selectedCircles.selected.filter(d => d !== state),\n        notSelected: [...selectedCircles.notSelected, state],\n      });\n    } else {\n      setSelectedCircles({\n        ...selectedCircles,\n        selected: [...selectedCircles.selected, state],\n        notSelected: selectedCircles.notSelected.filter(d => d !== state),\n      });\n    }\n  };\n\n  const handleFilter = newFilter => {\n    if (filters.length > 0) {\n      setFilters(prevState => [...prevState, newFilter]);\n    } else setFilters([newFilter]);\n  };\n\n  const handleDeleteFilter = deletedFilter => {\n    const newFilterList = filters.filter(f => f.id !== deletedFilter.id);\n    setFilters(newFilterList);\n  };\n\n  const handleDeselectAll = () => {\n    setFilters([]);\n    setSelectedCircles(prevState => ({\n      ...prevState,\n      selected: [],\n      notSelected: prevState.all,\n    }));\n  };\n\n  return (\n    <>\n      <FormGroup>\n        <SectionTitle divider>Filters</SectionTitle>\n        <div className={classes.filterBody}>\n          <NumberPicker nStates={nStates} setNStates={setNStates} />\n          <FilterBatch\n            nStates={nStates}\n            setNStates={setNStates}\n            filters={filters}\n            setFilters={setFilters}\n            handleDeleteFilter={handleDeleteFilter}\n            handleFilter={handleFilter}\n            handleSelector={handleSelector}\n          />\n        </div>\n        <SectionTitle divider>Selections</SectionTitle>\n        <div className={classes.filterBody}>\n          <SelectedStatus\n            handleChange={handleChange}\n            handleDeselectAll={handleDeselectAll}\n          />\n        </div>\n      </FormGroup>\n    </>\n  );\n};\n\nexport default FilterDashboard;\n","import React from \"react\";\n\n// style\nimport { IconButton, Tooltip, Typography, MenuItem } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport BubbleChartIcon from \"@material-ui/icons/BubbleChart\";\nimport TimelineIcon from \"@material-ui/icons/Timeline\";\n\nconst useStyles = makeStyles(theme => ({\n  menuButton: {\n    color: theme.palette.text.secondary,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n}));\n\nexport const ChartPicker = () => {\n  const classes = useStyles();\n\n  return (\n    <>\n      <MenuItem component=\"a\" href=\"/covidcompare/#/line-app\">\n        <Tooltip title=\"Line chart\">\n          <IconButton className={classes.menuButton}>\n            <TimelineIcon />\n          </IconButton>\n        </Tooltip>\n        <Typography display=\"inline\">Line chart</Typography>\n      </MenuItem>\n      <MenuItem component=\"a\" href=\"/covidcompare/#/gapminder-app\">\n        <Tooltip title=\"Gapminder chart\">\n          <IconButton className={classes.menuButton}>\n            <BubbleChartIcon />\n          </IconButton>\n        </Tooltip>\n        <Typography display=\"inline\">Gapminder chart</Typography>\n      </MenuItem>\n    </>\n  );\n};\n","import React from \"react\";\n\n// style\nimport { Drawer, Hidden, Toolbar, Grid } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst drawerWidth = 250;\n\nconst useStyles = makeStyles(theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 1,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    alignItems: \"left\",\n    color: theme.palette.text.primary,\n    paddingLeft: \"1rem\",\n  },\n  drawerHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: \"flex-end\",\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nexport const MenuDrawer = props => {\n  const { mobileOpen, handleDrawer, persistent } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <>\n      <Hidden mdUp>\n        <Drawer\n          variant=\"temporary\"\n          anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n          open={mobileOpen}\n          onClose={handleDrawer}\n          classes={{ paper: classes.drawerPaper }}\n          ModalProps={{ keepMounted: true }}\n        >\n          <Toolbar />\n          <Grid item style={{ marginBottom: \"auto\" }}>\n            {props.children}\n          </Grid>\n        </Drawer>\n      </Hidden>\n      {persistent && (\n        <Hidden smDown>\n          <Drawer\n            className={classes.drawer}\n            variant=\"permanent\"\n            classes={{ paper: classes.drawerPaper }}\n            open\n          >\n            <Toolbar />\n            <div className={classes.drawerContainer}>{props.children}</div>\n          </Drawer>\n        </Hidden>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\n\nexport const ThemeContext = React.createContext();\n","import React, { useContext } from \"react\";\nimport { saveSvgAsPng } from \"save-svg-as-png\";\n\n// context\nimport { ThemeContext } from \"../context/ThemeContext\";\n\n// styles\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\nimport \"../styles/styles.css\";\n\nexport const Settings = () => {\n  const { darkMode, setDarkMode } = useContext(ThemeContext);\n\n  const useStyles = makeStyles(theme => ({\n    rootGrid: {\n      maxWidth: window.innerWidth,\n      margin: \"0 auto\",\n    },\n    footerButton: {\n      color: theme.palette.text.secondary,\n      \"&:hover\": {\n        backgroundColor: \"transparent\",\n      },\n    },\n  }));\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const pathArray = window.location.href.split(\"/\");\n  const queryID = `#${pathArray[pathArray.length - 1]}`;\n\n  const saveImage = () => {\n    saveSvgAsPng(document.querySelector(queryID), \"covid-19_chart.png\", {\n      backgroundColor: theme.palette.background.default,\n      encoderOptions: 1,\n      fonts: [\n        {\n          text:\n            \"@font-face {font-family:'ralewaymedium';src:url('../styles/fonts/raleway-medium-webfont.woff2') format('woff2'),url('../styles/fonts/raleway-medium-webfont.woff') format('woff')}\",\n          url: \"../styles/fonts/raleway-medium-webfont.woff\",\n          format: \"application/font-woff\",\n        },\n      ],\n    });\n  };\n\n  return (\n    <>\n      <MenuItem onClick={saveImage}>\n        <Tooltip title=\"Save chart as image\" placement=\"right\">\n          <IconButton className={classes.footerButton}>\n            <SaveIcon />\n          </IconButton>\n        </Tooltip>\n        <Typography display=\"inline\">Save chart</Typography>\n      </MenuItem>\n      <MenuItem onClick={() => setDarkMode(!darkMode)}>\n        <Tooltip title=\"Toggle dark/light theme\" placement=\"right\">\n          <IconButton className={classes.footerButton}>\n            <Brightness7Icon />\n          </IconButton>\n        </Tooltip>\n        <Typography display=\"inline\">Dark mode</Typography>\n      </MenuItem>\n    </>\n  );\n};\n","import React, { useState } from \"react\";\n\n// components\nimport ParamDashboard from \"./ParamDashboard\";\nimport FilterDashboard from \"./FilterDashboard\";\nimport { ChartPicker } from \"../../sharedComponents/ChartPicker\";\nimport { MenuDrawer } from \"./MenuDrawer\";\nimport { Settings } from \"../../Settings\";\n\n// style\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Button,\n  Menu,\n  MenuList,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\n\nconst drawerWidth = 250;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n  },\n  appBar: {\n    backgroundColor: theme.palette.background.dark,\n    color: theme.palette.text.primary,\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  hide: {\n    display: \"none\",\n  },\n}));\n\nexport const Navbar = props => {\n  const { data, selector, handleSelector } = props;\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const classes = useStyles();\n\n  const handleOptions = e => {\n    !anchorEl ? setAnchorEl(e.currentTarget) : setAnchorEl(null);\n  };\n\n  const handleDrawer = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  return (\n    <>\n      <AppBar position=\"relative\" className={classes.appBar}>\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            onClick={handleDrawer}\n            edge=\"start\"\n            disableRipple\n            className={classes.menuButton}\n          >\n            <MenuIcon className={classes.menuButton} />\n          </IconButton>\n          <span style={{ marginLeft: \"auto\" }}>\n            <Button onClick={handleOptions}>Options</Button>\n            <Menu\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleOptions}\n            >\n              <MenuList\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <ChartPicker />\n                <Settings />\n              </MenuList>\n            </Menu>\n          </span>\n        </Toolbar>\n      </AppBar>\n      <MenuDrawer\n        mobileOpen={mobileOpen}\n        handleDrawer={handleDrawer}\n        persistent\n      >\n        <div>\n          <ParamDashboard\n            flexDirection=\"column\"\n            data={data}\n            selector={selector}\n            handleSelector={handleSelector}\n          />\n        </div>\n        <div>\n          <FilterDashboard handleSelector={handleSelector} />\n        </div>\n      </MenuDrawer>\n    </>\n  );\n};\n","export const gapminderData = async (data, stateInfo, chartParams) => {\n  const { xParam, yParam, tParam } = chartParams;\n  let newData = [];\n  Object.keys(stateInfo).forEach((state, i) => {\n    let eachState = {\n      state: state,\n      region: stateInfo[state].region,\n      [tParam.selected]: [],\n      [xParam.selected]: [],\n      [xParam.alt1]: [],\n      [yParam.selected]: [],\n      [yParam.alt1]: [],\n    };\n\n    const filtered = data.filter(d => d.state === state);\n    filtered.forEach((d, i) => {\n      eachState[tParam.selected].push([d[tParam.selected], d[tParam.selected]]);\n      eachState[xParam.selected].push([d[tParam.selected], d[xParam.selected]]);\n      eachState[yParam.selected].push([d[tParam.selected], d[yParam.selected]]);\n      eachState[xParam.alt1].push([d[tParam.selected], d[xParam.alt1]]);\n      eachState[yParam.alt1].push([d[tParam.selected], d[yParam.alt1]]);\n    });\n    newData.push(eachState);\n  });\n\n  return newData;\n};\n","export const wrapper = {\n  wrapperWidth: window.innerWidth * 0.8,\n  wrapperHeight: window.innerHeight * 0.8,\n  margin: {\n    top: 80,\n    right: 40,\n    bottom: 60,\n    left: 60,\n  },\n};\n\nexport const bounds = {\n  width: wrapper.wrapperWidth - wrapper.margin.left - wrapper.margin.right,\n  height: wrapper.wrapperHeight - wrapper.margin.top - wrapper.margin.bottom,\n};\n","import React, { useState, useEffect, useContext } from \"react\";\n\n// params\nimport { chartParams, cParamCategories, DAY_RANGE } from \"./appParams\";\n\n// components\nimport { ChartGapminder } from \"./chart/ChartGapminder\";\nimport { Navbar } from \"./interface/Navbar\";\n\n// context\nimport { dataContext } from \"../../context/dataContext\";\nimport { selectionContext } from \"../../context/selectionContext\";\n\n// data\nimport stateInfo from \"../../data/stateInfo.json\";\nimport { gapminderData } from \"./gapminderData\";\n\n// style\nimport { wrapper, bounds } from \"./styles/dimensions\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst AppGapminder = props => {\n  const { darkMode, setDarkMode } = props;\n  const { margin } = wrapper;\n  const { width } = bounds;\n\n  const { dataStates } = useContext(dataContext);\n  const [data, setData] = useState(null);\n  const [selector, setSelector] = useState({\n    xParam: chartParams.xParam,\n    yParam: chartParams.yParam,\n    zParam: chartParams.zParam,\n    cParam: chartParams.cParam,\n  });\n  const [selectedCircles, setSelectedCircles] = useState({\n    selected: [],\n    notSelected: Object.keys(stateInfo),\n    all: Object.keys(stateInfo),\n  });\n\n  // style\n  const useStyles = makeStyles(theme => ({\n    navbar: {\n      width: width,\n      marginLeft: margin.left,\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n    },\n  }));\n  const classes = useStyles();\n\n  const handleSelector = e => {\n    const param = e.target.name;\n\n    setSelector({\n      ...selector,\n      [param]: {\n        ...selector[param],\n        selected: e.target.value,\n      },\n    });\n  };\n\n  useEffect(() => {\n    if (dataStates.length > 0) {\n      gapminderData(dataStates, stateInfo, chartParams).then(res =>\n        setData(res)\n      );\n    }\n  }, [dataStates]);\n\n  return (\n    <selectionContext.Provider value={{ selectedCircles, setSelectedCircles }}>\n      <Navbar\n        data={data}\n        selector={selector}\n        handleSelector={handleSelector}\n        className={classes.navbar}\n        darkMode={darkMode}\n        setDarkMode={setDarkMode}\n      />\n      <div transform={`translate(${margin.left}, ${margin.top})`}>\n        {data && (\n          <ChartGapminder\n            cParamCategories={cParamCategories}\n            selector={selector}\n            data={data}\n            wrapper={wrapper}\n            bounds={bounds}\n            dayStart={DAY_RANGE.start}\n            dayEnd={DAY_RANGE.end}\n          />\n        )}\n      </div>\n    </selectionContext.Provider>\n  );\n};\n\nexport default AppGapminder;\n","import { useEffect, useContext } from \"react\";\nimport { mouse, bisector, timeFormat } from \"d3\";\n\n// context\nimport { dataContext } from \"../../context/dataContext\";\n\nexport const MouseMove = props => {\n  const {\n    focus,\n    overlay,\n    linesStates,\n    selectedStates,\n    chartParams,\n    scales,\n  } = props;\n  const { xScale, yScale } = scales;\n  const { dataStates } = useContext(dataContext);\n\n  const selectedYParam = chartParams.yParam.selected;\n\n  const dateFormatter = timeFormat(\"%m-%d-%y\");\n\n  useEffect(() => {\n    if (dataStates.length > 0) {\n      overlay.on(\"mousemove\", mousemove);\n\n      let frozen = false;\n\n      function mousemove() {\n        let x0 = xScale.invert(mouse(this)[0]);\n        const bisectDate = bisector(d => d.dayOfOutbreak).left;\n\n        Object.keys(selectedStates)\n          .sort()\n          .filter(s => selectedStates[s].selected === true)\n          .forEach(state => {\n            const dataEachState = dataStates.filter(d => d.state === state);\n            const stateHTML = selectedStates[state].htmlFormat;\n            const i = bisectDate(dataEachState, x0, 0);\n\n            let dataEachStateRangeY = dataEachState[i]\n              ? dataEachState[i][selectedYParam]\n              : dataEachState[dataEachState.length - 1][selectedYParam];\n            let dataEachStateRangeX = dataEachState[i]\n              ? dataEachState[i].dayOfOutbreak\n              : dataEachState[dataEachState.length - 1].dayOfOutbreak;\n            let dataEachStateRangeDate = dataEachState[i]\n              ? dateFormatter(dataEachState[i].date)\n              : dateFormatter(dataEachState[dataEachState.length - 1].date);\n            let dataEachStateRangeCases = dataEachState[i]\n              ? dataEachState[i].cases\n              : dataEachState[dataEachState.length - 1].cases;\n\n            const toggleFreeze = () => {\n              frozen = !frozen;\n            };\n\n            overlay.on(\"click\", toggleFreeze);\n\n            if (!frozen) {\n              focus\n                .select(`#circle-${stateHTML}`)\n                .attr(\"cy\", yScale(dataEachStateRangeY))\n                .attr(\"cx\", xScale(dataEachStateRangeX));\n\n              focus\n                .select(`#d-label-${stateHTML}`)\n                .text(\n                  `${\n                    selectedStates[state].abbreviation\n                  } => Day ${dataEachStateRangeX} (${dataEachStateRangeDate\n                    .split(\"-\")\n                    .slice(0, 2)\n                    .join(\"-\")})`\n                )\n                .attr(\"fill\", selectedStates[state].color);\n\n              focus\n                .select(`#d-label-b-${stateHTML}`)\n                .text(d =>\n                  selectedYParam === \"casesPerThousand\"\n                    ? `${dataEachStateRangeY.toFixed(\n                        3\n                      )} (${dataEachStateRangeCases.toLocaleString()} tot.)`\n                    : selectedYParam === \"newCases\"\n                    ? `${dataEachStateRangeY.toLocaleString()} new (${dataEachStateRangeCases.toLocaleString()} tot.)`\n                    : `${dataEachStateRangeCases.toLocaleString()} tot.`\n                )\n                .attr(\"fill\", selectedStates[state].color);\n            }\n          });\n      }\n    }\n  }, [linesStates, dataStates, selectedStates]);\n\n  return null;\n};\n","import React, { useState, useContext, useEffect, Fragment } from \"react\";\nimport { line } from \"d3\";\n\n// functions\nimport { MouseMove } from \"../../util/MouseMove\";\n\n// context\nimport { dataContext } from \"../../../context/dataContext\";\nimport { statesContext } from \"../../../context/statesContext\";\n\n// style\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { useMediaQuery } from \"@material-ui/core\";\n\nexport const Line = props => {\n  const { focus, overlay, selectedStates, bounds, chartParams, scales } = props;\n  const { width, height } = bounds;\n  const { xScale, yScale } = scales;\n  const selectedYParam = chartParams.yParam.selected;\n\n  // context\n  const { dataStates } = useContext(dataContext);\n  const { infoStates } = useContext(statesContext);\n\n  // style\n  const theme = useTheme();\n\n  const [linesStates, setLinesStates] = useState([]);\n\n  const filterStates = async selectedStates => {\n    let filtered = Object.keys(selectedStates)\n      .sort()\n      .filter(s => selectedStates[s].selected === true);\n    return filtered;\n  };\n\n  const generateLine = async filtered => {\n    const lineGenerator = line()\n      .x(d => xScale(d.dayOfOutbreak))\n      .y(d => yScale(d[selectedYParam]));\n\n    const lineData = {};\n\n    // const filtered = filterStates(selectedStates);\n    filtered.forEach(state => {\n      const dataEachState = dataStates.filter(d => d.state === state);\n\n      // Line label placement\n      const lastDayOfOutbreak =\n        dataEachState[dataEachState.length - 1].dayOfOutbreak;\n      const lastCasesDatum =\n        dataEachState[dataEachState.length - 1][selectedYParam];\n\n      lineData[state] = {\n        line: lineGenerator(dataEachState),\n        lineLabelX: xScale(lastDayOfOutbreak) + 3,\n        lineLabelY: yScale(lastCasesDatum),\n      };\n    });\n\n    return lineData;\n  };\n\n  const generateFocus = async filtered => {\n    let xShift = 0;\n    let yShift = 0;\n\n    filtered.forEach((state, i) => {\n      const stateHTML = infoStates[state].htmlFormat;\n      focus\n        .append(\"circle\")\n        .attr(\"id\", `circle-${stateHTML}`)\n        .attr(\"r\", 5)\n        .attr(\"fill\", selectedStates[state].color)\n        .attr(\"stroke\", theme.palette.text.primary);\n\n      if (i === 0) {\n        xShift = 0;\n        yShift = 0;\n      } else if (i % 4 === 0) {\n        xShift += 135;\n        yShift = 0;\n      } else {\n        yShift += 35;\n      }\n\n      if (xShift + 65 < width) {\n        focus\n          .append(\"text\")\n          .attr(\"id\", `d-label-${stateHTML}`)\n          .attr(\"x\", xShift)\n          .attr(\"y\", d => 70 + height + yShift)\n          .style(\"font-size\", \".75rem\")\n          .style(\"font-family\", \"ralewaymedium, Helvetica, Arial, sans-serif\");\n        focus\n          .append(\"text\")\n          .attr(\"id\", `d-label-b-${stateHTML}`)\n          .attr(\"x\", xShift)\n          .attr(\"y\", d => 70 + height + yShift + 15)\n          .style(\"font-size\", \".75rem\")\n          .style(\"font-family\", \"ralewaymedium, Helvetica, Arial, sans-serif\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (!selectedStates || dataStates.length < 1 || !selectedYParam) return;\n    let mounted = true;\n    filterStates(selectedStates)\n      .then(filtered => generateLine(filtered))\n      .then(lineData => {\n        if (mounted) {\n          setLinesStates(lineData);\n        }\n      });\n\n    return () => {\n      mounted = false;\n      setLinesStates(null);\n    };\n  }, [dataStates, selectedStates, chartParams, selectedYParam, scales]);\n\n  useEffect(() => {\n    if (!selectedStates) return;\n    filterStates(selectedStates).then(filtered => generateFocus(filtered));\n\n    return () => {\n      focus.selectAll(\"circle\").remove();\n      focus.selectAll(\"text\").remove();\n    };\n  }, [linesStates]);\n\n  return (\n    <React.Fragment>\n      {dataStates && linesStates && selectedStates && (\n        <MouseMove\n          focus={focus}\n          overlay={overlay}\n          linesStates={linesStates}\n          bounds={bounds}\n          chartParams={chartParams}\n          {...props}\n        />\n      )}\n      {linesStates &&\n        selectedStates &&\n        Object.keys(linesStates)\n          .sort()\n          .map((state, i) => {\n            const stateHTML = infoStates[state].htmlFormat;\n\n            return (\n              <Fragment key={state}>\n                <g id={`bounds-render-${stateHTML}`}>\n                  <path\n                    fill=\"none\"\n                    stroke={selectedStates[state].color}\n                    strokeWidth={2.5}\n                    strokeLinejoin=\"round\"\n                    strokeLinecap=\"round\"\n                    d={linesStates[state].line}\n                  />\n                  <text\n                    id={`line-label-${stateHTML}`}\n                    className=\"line-label\"\n                    style={{\n                      fill: theme.palette.text.primary,\n                      fontSize: \"14px\",\n                      fontFamily: \"ralewaymedium, Helvetica, Arial, sans-serif\",\n                    }}\n                    x={linesStates[state].lineLabelX}\n                    y={linesStates[state].lineLabelY}\n                  >\n                    {selectedStates[state].abbreviation}\n                  </text>\n                </g>\n              </Fragment>\n            );\n          })}\n    </React.Fragment>\n  );\n};\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  select,\n  max,\n  scaleLinear,\n  scaleLog,\n  extent,\n  axisLeft,\n  axisBottom,\n} from \"d3\";\n\n// Components\nimport { Line } from \"./Line\";\n\n// Context\nimport { dataContext } from \"../../../context/dataContext\";\n\n// Styles\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  rootSVG: {\n    display: \"inline-block\",\n    position: \"relative\",\n    width: \"100%\",\n    verticalAlign: \"middle\",\n    overflow: \"hidden\",\n  },\n  bounds: {\n    width: props => props.width,\n    height: props => props.height,\n  },\n  title: {\n    fill: theme.palette.text.primary,\n    fontSize: \"1.2rem\",\n  },\n  axes: {\n    fill: theme.palette.text.primary,\n  },\n  axisLabel: {\n    fill: theme.palette.text.primary,\n    fontSize: \".8rem\",\n  },\n  footnotes: {\n    fill: theme.palette.text.primary,\n    fontSize: \".6rem\",\n  },\n}));\n\nconst ChartCovidCompare = props => {\n  const { wrapper, bounds, chartParams } = props;\n  const { wrapperWidth, wrapperHeight, margin } = wrapper;\n  const { width, height } = bounds;\n  const { dataStates } = useContext(dataContext);\n\n  const selectedYParam = chartParams.yParam.selected;\n\n  const [scales, setScales] = useState(null);\n  const classes = useStyles(props);\n  const theme = useTheme();\n\n  const yAxisRef = useRef(null);\n  const xAxisRef = useRef(null);\n  const svgRef = useRef(null);\n  const boundsRef = useRef(null);\n\n  const getFocus = () => {\n    return select(boundsRef.current)\n      .append(\"g\")\n      .attr(\"class\", \"focus\")\n      .style(\"display\", \"none\");\n  };\n\n  const focus = getFocus();\n\n  const getOverlay = () => {\n    return select(boundsRef.current)\n      .append(\"rect\")\n      .attr(\"class\", \"overlay\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .attr(\"opacity\", \"0\")\n      .on(\"mouseover\", () => focus.style(\"display\", null));\n  };\n  const overlay = getOverlay();\n\n  useEffect(() => {\n    // Scales\n    const xScale = scaleLinear()\n      .domain(extent(dataStates, d => d.dayOfOutbreak))\n      .range([0, width]);\n\n    const yScale =\n      chartParams.yParam.type === \"log\"\n        ? scaleLog().domain([1, 10000000]).range([height, 0])\n        : scaleLinear()\n            .domain([0, max(dataStates, d => d[selectedYParam])])\n            .range([height, 0]);\n\n    setScales({\n      xScale,\n      yScale,\n    });\n\n    // Axes\n    const yAxisGenerator =\n      chartParams.yParam.selected === \"cases\"\n        ? axisLeft()\n            .scale(yScale)\n            .ticks(6)\n            .tickFormat(t => t.toLocaleString())\n        : axisLeft().scale(yScale);\n    const xAxisGenerator = axisBottom().scale(xScale);\n    select(xAxisRef.current).call(xAxisGenerator);\n    select(yAxisRef.current).call(yAxisGenerator);\n\n    return () => {\n      setScales(null);\n    };\n  }, [dataStates, chartParams, selectedYParam, height, width]);\n\n  return (\n    <>\n      <svg\n        id=\"line-app\"\n        height={wrapperHeight}\n        width={wrapperWidth}\n        ref={svgRef}\n        className={classes.rootSVG}\n        viewBox={`0 0 ${wrapperWidth} ${wrapperHeight}`}\n      >\n        <g\n          id=\"bounds\"\n          transform={`translate(${margin.left}, ${margin.top})`}\n          ref={boundsRef}\n        >\n          <text\n            className={classes.title}\n            style={{\n              fontFamily: \"ralewaymedium, Helvetica, Arial, sans-serif\",\n            }}\n            textAnchor=\"middle\"\n            x={width / 2}\n            y={-margin.top * 0.5}\n          >\n            COVID-19 US State Comparison\n          </text>\n          <text\n            className={classes.axisLabel}\n            style={{\n              fontFamily: \"ralewaymedium, Helvetica, Arial, sans-serif\",\n            }}\n            textAnchor=\"middle\"\n            x={width / 2}\n            y={height + 40}\n          >\n            Day of Outbreak\n          </text>\n          <text\n            className={classes.axisLabel}\n            style={{\n              fontFamily: \"ralewaymedium, Helvetica, Arial, sans-serif\",\n            }}\n            textAnchor=\"middle\"\n            transform={`rotate(-90)`}\n            x={-height / 2}\n            y={-45}\n          >\n            {selectedYParam}\n          </text>\n          <g\n            ref={yAxisRef}\n            id=\"y-axis\"\n            style={{\n              fontFamily: \"ralewaymedium, Helvetica, Arial, sans-serif\",\n              color: theme.palette.text.primary,\n            }}\n          />\n          <g\n            ref={xAxisRef}\n            id=\"x-axis\"\n            transform={`translate(0,${height})`}\n            style={{\n              fontFamily: \"ralewaymedium, Helvetica, Arial, sans-serif\",\n              color: theme.palette.text.primary,\n            }}\n          />\n          {scales && (\n            <Line\n              focus={focus}\n              wrapper={wrapper}\n              overlay={overlay}\n              scales={scales}\n              {...props}\n            />\n          )}\n        </g>\n      </svg>\n    </>\n  );\n};\n\nChartCovidCompare.propTypes = {\n  wrapper: PropTypes.object,\n  bounds: PropTypes.object,\n};\n\nexport default ChartCovidCompare;\n","// REUSABLE COMPONENT\n\nimport React, { forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { MenuItem } from \"@material-ui/core\";\n\nexport const FilterValues = forwardRef((props, ref) => {\n  const { filterOptions, handleSelectedFilter, handleMenu } = props;\n\n  const handleMenuClick = newFilter => {\n    handleMenu();\n    handleSelectedFilter(newFilter);\n  };\n\n  return (\n    <>\n      {filterOptions.map(o => {\n        return (\n          <MenuItem\n            key={o.id}\n            id={o.id}\n            ref={ref}\n            onClick={() => handleMenuClick(o)}\n          >\n            {o.name}\n          </MenuItem>\n        );\n      })}\n    </>\n  );\n});\n\nFilterValues.propTypes = {\n  filterOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired, // unique ID; html format\n      name: PropTypes.string, // user-facing name of filter\n      type: PropTypes.string, // user-facing parameter being filtered (eg. \"GDP\")\n      chartParam: PropTypes.string.isRequired, // match exact parameter name (eg. \"realGDP2019\")\n      n: PropTypes.number.isRequired, // number of cases (ie. rows or documents) to filter\n      sort: PropTypes.string.isRequired, // \"ascending or descending\"\n    })\n  ),\n};\n","// WRAPPER COMPONENT (FilterValues)\n\nimport React, { useState } from \"react\";\nimport { FilterValues } from \"../components/FilterValues\";\n\nimport { Menu, Button } from \"@material-ui/core\";\n\nexport const FilterCases = props => {\n  const { nStates, handleSelectedFilter } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenu = e => {\n    !anchorEl ? setAnchorEl(e.currentTarget) : setAnchorEl(null);\n  };\n\n  const filterOptions = [\n    {\n      id: \"cases-high\",\n      name: `Top ${nStates} (total)`,\n      type: \"Cases\",\n      chartParam: \"latestCaseCount\",\n      sort: \"descending\",\n      n: nStates,\n    },\n    {\n      id: \"cases-low\",\n      name: `Bottom ${nStates} (total)`,\n      type: \"Cases\",\n      chartParam: \"latestCaseCount\",\n      sort: \"ascending\",\n      n: nStates,\n    },\n    {\n      id: \"cases-per-1000-high\",\n      name: `Top ${nStates} (per 1000)`,\n      type: \"Cases\",\n      chartParam: \"latestCaseCountPerThou\",\n      sort: \"descending\",\n      n: nStates,\n    },\n    {\n      id: \"cases-per-1000-low\",\n      name: `Bottom ${nStates} (per 1000)`,\n      type: \"Cases\",\n      chartParam: \"latestCaseCountPerThou\",\n      sort: \"ascending\",\n      n: nStates,\n    },\n  ];\n\n  return (\n    <>\n      <Button id=\"cases-btn\" onClick={handleMenu}>\n        Filter Cases\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        open={anchorEl ? Boolean(anchorEl.id === \"cases-btn\") : false}\n        onClose={handleMenu}\n      >\n        <FilterValues\n          filterOptions={filterOptions}\n          handleSelectedFilter={handleSelectedFilter}\n          handleMenu={handleMenu}\n        />\n      </Menu>\n    </>\n  );\n};\n","// WRAPPER COMPONENT (FilterValues)\n\nimport React, { useState } from \"react\";\nimport { FilterValues } from \"../components/FilterValues\";\n\nimport { Menu, Button } from \"@material-ui/core\";\n\nexport const FilterPopulation = props => {\n  const { nStates, handleSelectedFilter } = props;\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenu = e => {\n    !anchorEl ? setAnchorEl(e.currentTarget) : setAnchorEl(null);\n  };\n\n  const filterOptions = [\n    {\n      id: \"pop-high\",\n      name: `Top ${nStates} (pop. total)`,\n      type: \"Pop.\",\n      chartParam: \"population\",\n      sort: \"descending\",\n      n: nStates,\n    },\n    {\n      id: \"pop-low\",\n      name: `Bottom ${nStates} (pop. total)`,\n      type: \"Pop.\",\n      chartParam: \"population\",\n      sort: \"ascending\",\n      n: nStates,\n    },\n    {\n      id: \"pop-density-high\",\n      name: `Top ${nStates} (pop. density)`,\n      type: \"Pop.\",\n      chartParam: \"populationDensity\",\n      sort: \"descending\",\n      n: nStates,\n    },\n    {\n      id: \"pop-density-low\",\n      name: `Bottom ${nStates} (pop. density)`,\n      type: \"Pop.\",\n      chartParam: \"populationDensity\",\n      sort: \"ascending\",\n      n: nStates,\n    },\n  ];\n\n  return (\n    <>\n      <Button id=\"population-btn\" onClick={handleMenu}>\n        Filter Population\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        open={anchorEl ? Boolean(anchorEl.id === \"population-btn\") : false}\n        onClose={handleMenu}\n      >\n        <FilterValues\n          filterOptions={filterOptions}\n          handleSelectedFilter={handleSelectedFilter}\n          handleMenu={handleMenu}\n        />\n      </Menu>\n    </>\n  );\n};\n","// REUSABLE COMPONENT\n\nimport React, { forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { MenuItem } from \"@material-ui/core\";\n\nexport const FilterCategories = forwardRef((props, ref) => {\n  const { filterOptions, handleSelectedFilter, handleMenu } = props;\n\n  const handleMenuClick = newFilter => {\n    handleMenu();\n    handleSelectedFilter(newFilter);\n  };\n\n  return (\n    <>\n      {filterOptions.map(o => {\n        return (\n          <MenuItem\n            key={o.id}\n            id={o.id}\n            ref={ref}\n            onClick={() => handleMenuClick(o)}\n          >\n            {o.name}\n          </MenuItem>\n        );\n      })}\n    </>\n  );\n});\n\nFilterCategories.propTypes = {\n  filterOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired, // unique ID; html format\n      name: PropTypes.string, // user-facing name of filter\n      type: PropTypes.string, // user-facing parameter being filtered (eg. \"Region\")\n      chartParam: PropTypes.string.isRequired, // match exact parameter name (eg. \"region\")\n    })\n  ),\n};\n","// WRAPPER COMPONENT (FilterCategories)\n\nimport React, { useState } from \"react\";\n\n// components\nimport { FilterCategories } from \"../components/FilterCategories\";\n\nimport { Menu, Button } from \"@material-ui/core\";\n\nexport const FilterRegion = props => {\n  const { handleSelectedFilter } = props;\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleMenu = e => {\n    !anchorEl ? setAnchorEl(e.currentTarget) : setAnchorEl(null);\n  };\n\n  const filterOptions = [\n    {\n      id: \"northeast\",\n      name: \"Northeast\",\n      type: \"Region\",\n      chartParam: \"region\",\n    },\n    {\n      id: \"midwest\",\n      name: \"Midwest\",\n      type: \"Region\",\n      chartParam: \"region\",\n    },\n    { id: \"south\", name: \"South\", type: \"Region\", chartParam: \"region\" },\n    { id: \"west\", name: \"West\", type: \"Region\", chartParam: \"region\" },\n  ];\n\n  return (\n    <>\n      <Button id=\"region-btn\" onClick={handleMenu}>\n        Filter Region\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        open={anchorEl ? Boolean(anchorEl.id === \"region-btn\") : false}\n        onClose={handleMenu}\n      >\n        <FilterCategories\n          filterOptions={filterOptions}\n          handleSelectedFilter={handleSelectedFilter}\n          handleMenu={handleMenu}\n        />\n      </Menu>\n    </>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useMediaQuery, Grid } from \"@material-ui/core\";\n\n// components\nimport { FilterCases } from \"./FilterCases\";\nimport { FilterPopulation } from \"./FilterPopulation\";\nimport { FilterRegion } from \"./FilterRegion\";\n\n// context\nimport { statesContext } from \"../../../context/statesContext\";\n\n// styles\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  rootContainer: {\n    maxWidth: 550,\n    minWidth: 175,\n    justifyContent: \"space-evenly\",\n    padding: 0,\n    margin: 0,\n  },\n  tab: {\n    opacity: 0.7,\n  },\n  menuItem: {\n    opacity: 0.7,\n    \"&:hover\": {\n      opacity: 1,\n    },\n  },\n}));\n\nexport const BatchSelect = props => {\n  const { selectedStates, setSelectedStates } = props;\n\n  // ref and context\n  const { infoStates } = useContext(statesContext);\n\n  // assign\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [selectedFilter, setSelectedFilter] = useState(null);\n\n  // style\n  const theme = useTheme();\n  const classes = useStyles();\n  const mqSmall = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const handleSelectedFilter = newSelectedFilter => {\n    setSelectedFilter(newSelectedFilter);\n    setAnchorEl(null);\n  };\n\n  const handleFilterCategories = (newFilter, info) => {\n    const filtered = Object.keys(info).filter(\n      s => info[s][newFilter.chartParam] === newFilter.name\n    );\n\n    let newSelection = {};\n    Object.keys(info).forEach(s => {\n      if (filtered.includes(s)) {\n        newSelection[s] = { ...info[s], selected: true };\n      } else {\n        newSelection[s] = { ...info[s], selected: false };\n      }\n    });\n\n    return newSelection;\n  };\n\n  const handleFilterValues = (newFilter, info) => {\n    const n = newFilter.n;\n    let filtered;\n\n    filtered = Object.keys(info)\n      .sort((a, b) =>\n        newFilter.sort === \"descending\"\n          ? info[b][newFilter.chartParam] - info[a][newFilter.chartParam]\n          : info[a][newFilter.chartParam] - info[b][newFilter.chartParam]\n      )\n      .slice(0, n);\n\n    let newSelection = {};\n    Object.keys(info).forEach(s => {\n      if (filtered.includes(s)) {\n        newSelection[s] = { ...info[s], selected: true };\n      } else {\n        newSelection[s] = { ...info[s], selected: false };\n      }\n    });\n\n    return newSelection;\n  };\n\n  useEffect(() => {\n    if (selectedFilter) {\n      const newSelection = selectedFilter.n\n        ? handleFilterValues(selectedFilter, infoStates)\n        : handleFilterCategories(selectedFilter, infoStates);\n      setSelectedStates(newSelection);\n    }\n  }, [selectedFilter]);\n\n  return (\n    <Grid\n      container\n      className={classes.rootContainer}\n      style={\n        mqSmall\n          ? { flexDirection: \"column\", alignItems: \"center\" }\n          : { flexDirection: \"row\" }\n      }\n    >\n      <FilterCases\n        aria-controls=\"cases-btn\"\n        aria-haspopup=\"true\"\n        className={classes.tab}\n        nStates={12}\n        selectedStates={selectedStates}\n        setSelectedStates={setSelectedStates}\n        handleSelectedFilter={handleSelectedFilter}\n      />\n      <FilterPopulation\n        aria-controls=\"population-btn\"\n        aria-haspopup=\"true\"\n        className={classes.tab}\n        nStates={12}\n        selectedStates={selectedStates}\n        setSelectedStates={setSelectedStates}\n        handleSelectedFilter={handleSelectedFilter}\n      />\n      <FilterRegion\n        aria-controls=\"region-btn\"\n        aria-haspopup=\"true\"\n        className={classes.tab}\n        selectedStates={selectedStates}\n        setSelectedStates={setSelectedStates}\n        handleSelectedFilter={handleSelectedFilter}\n      />\n    </Grid>\n  );\n};\n","import React from \"react\";\n\n// components\nimport { SectionTitle } from \"../../sharedComponents/SectionTitle\";\n\n// styles\nimport {\n  IconButton,\n  FormControlLabel,\n  FormGroup,\n  Checkbox,\n  Divider,\n} from \"@material-ui/core\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n  sectionTitleTypography: {\n    color: theme.palette.text.primary,\n    fontWeight: 700,\n  },\n  drawerBody: {\n    alignText: \"left\",\n    paddingLeft: theme.spacing(3),\n  },\n  selectAllButton: {\n    color: \"green\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  deselectAllButton: {\n    color: \"red\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  stateLabelSelected: {\n    fontSize: \".9rem\",\n  },\n  stateLabelNotSelected: {\n    color: \"gray\",\n    opacity: 0.7,\n    fontSize: \".9rem\",\n  },\n}));\n\nexport const Dashboard = props => {\n  const {\n    selectedStates,\n    handleSelectedStates,\n    handleSelectAllStates,\n    handleDeselectAllStates,\n  } = props;\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <div>\n      <SectionTitle\n        divider\n        classes={{ typography: classes.sectionTitleTypography }}\n      >\n        Selections\n      </SectionTitle>\n      <FormGroup className={classes.drawerBody}>\n        <FormControlLabel\n          id=\"select-all\"\n          label=\"Select All\"\n          name=\"Select All\"\n          onClick={handleSelectAllStates}\n          control={\n            <IconButton\n              id=\"selector-all\"\n              name=\"select-all\"\n              className={classes.selectAllButton}\n            >\n              <CheckIcon />\n            </IconButton>\n          }\n        />\n        <FormControlLabel\n          id=\"deselect-all\"\n          label=\"Deselect All\"\n          name=\"Deselect All\"\n          onClick={handleDeselectAllStates}\n          control={\n            <IconButton\n              id=\"deselector-all\"\n              name=\"deselect-all\"\n              className={classes.deselectAllButton}\n            >\n              <ClearIcon />\n            </IconButton>\n          }\n        />\n        <Divider className={classes.divider} />\n        {selectedStates ? (\n          Object.keys(selectedStates)\n            .sort()\n            .filter(s => selectedStates[s].selected === true)\n            .map((state, i) => {\n              return (\n                <FormControlLabel\n                  key={i}\n                  id={selectedStates[state].htmlFormat}\n                  name={state}\n                  checked={selectedStates[state].selected}\n                  onChange={handleSelectedStates}\n                  classes={{\n                    label: classes.stateLabelSelected,\n                  }}\n                  control={\n                    <Checkbox\n                      name={state}\n                      className={classes.stateLabelSelected}\n                      style={{\n                        color: selectedStates[state].color,\n                      }}\n                    />\n                  }\n                  label={`${state} (${selectedStates[state].abbreviation})`}\n                />\n              );\n            })\n        ) : (\n          <div />\n        )}\n        <Divider className={classes.divider} />\n        {selectedStates ? (\n          Object.keys(selectedStates)\n            .sort()\n            .filter(s => selectedStates[s].selected === false)\n            .map((state, i) => {\n              return (\n                <FormControlLabel\n                  key={i}\n                  id={selectedStates[state].htmlFormat}\n                  name={state}\n                  checked={selectedStates[state].selected}\n                  onChange={handleSelectedStates}\n                  classes={{\n                    label: classes.stateLabelNotSelected,\n                  }}\n                  control={\n                    <Checkbox\n                      name={state}\n                      className={classes.stateLabelNotSelected}\n                    />\n                  }\n                  label={`${state} (${selectedStates[state].abbreviation})`}\n                />\n              );\n            })\n        ) : (\n          <div />\n        )}\n      </FormGroup>\n    </div>\n  );\n};\n","import React from \"react\";\n\n// styles\nimport { FormControl, Select, MenuItem } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    minWidth: 200,\n  },\n  selectInput: {\n    color: theme.palette.text.primary,\n  },\n}));\n\nconst ParamPicker = ({ chartParams, setChartParams }) => {\n  const classes = useStyles();\n\n  return (\n    <FormControl className={classes.formControl}>\n      <Select\n        id=\"parameter-picker-menu\"\n        autoWidth={true}\n        value={chartParams.yParam.selected}\n        onChange={e =>\n          setChartParams(prevState => ({\n            ...prevState,\n            yParam: {\n              ...prevState.yParam,\n              type: e.target.value === \"cases\" ? \"log\" : \"linear\",\n              selected: e.target.value,\n            },\n          }))\n        }\n        label=\"y-axis\"\n        className={classes.selectInput}\n      >\n        <MenuItem id=\"y-param-cases-100\" value=\"casesPerThousand\">\n          Cases/1000\n        </MenuItem>\n        <MenuItem id=\"y-param-cases-total\" value=\"cases\">\n          Total cases (log scale)\n        </MenuItem>\n        <MenuItem id=\"y-param-new-cases\" value=\"newCases\">\n          New cases\n        </MenuItem>\n      </Select>\n    </FormControl>\n  );\n};\n\nexport { ParamPicker };\n","import React, { useState } from \"react\";\nimport clsx from \"clsx\";\n\n// components\nimport { BatchSelect, Dashboard, ParamPicker } from \"../pickers\";\nimport { Settings } from \"../../Settings\";\nimport { ChartPicker } from \"../../sharedComponents/ChartPicker\";\n\n// styles\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  ClickAwayListener,\n  Drawer,\n  Divider,\n  Menu,\n  Button,\n  MenuList,\n  Tooltip,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\n\nconst drawerWidth = 250;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n  },\n  appBar: {\n    backgroundColor: theme.palette.background.dark,\n    color: theme.palette.text.primary,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    color: theme.palette.text.primary,\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 1,\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.text.primary,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: theme.palette.background.default,\n  },\n  drawerHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: \"flex-end\",\n    backgroundColor: theme.palette.background.default,\n  },\n  tab: {\n    opacity: 0.7,\n  },\n  menuItem: {\n    opacity: 0.7,\n    \"&:hover\": {\n      opacity: 1,\n    },\n  },\n  navbarPickers: {\n    width: 750,\n    display: \"flex\",\n    alignContent: \"baseline\",\n    justifyContent: \"space-between\",\n  },\n}));\n\nexport const Navbar = props => {\n  const {\n    chartParams,\n    setChartParams,\n    selectedStates,\n    setSelectedStates,\n  } = props;\n  const [open, setOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const theme = useTheme();\n  const classes = useStyles();\n  const mqSmall = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleOptions = e => {\n    !anchorEl ? setAnchorEl(e.currentTarget) : setAnchorEl(null);\n  };\n\n  const handleClickAway = e => {\n    if (e.x > drawerWidth && e.y > 70 && open) {\n      setOpen(false);\n    }\n  };\n\n  const handleFilterMenu = e => {\n    !anchorEl ? setAnchorEl(e.currentTarget) : setAnchorEl(null);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar\n        position=\"relative\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            onClick={handleDrawerOpen}\n            className={clsx(classes.menuButton, open && classes.hide)}\n            disableRipple\n          >\n            <MenuIcon className={classes.menuButton} />\n          </IconButton>\n          {mqSmall ? (\n            <>\n              <Tooltip title=\"Chart filters\">\n                <IconButton\n                  id=\"filters-btn-cc\"\n                  onClick={handleFilterMenu}\n                  className={classes.menuButton}\n                >\n                  <AssessmentIcon />\n                </IconButton>\n              </Tooltip>\n              <Menu\n                anchorEl={anchorEl}\n                open={\n                  anchorEl ? Boolean(anchorEl.id === \"filters-btn-cc\") : false\n                }\n                onClose={handleFilterMenu}\n                style={{ textAlign: \"center\" }}\n              >\n                <ParamPicker\n                  chartParams={chartParams}\n                  setChartParams={setChartParams}\n                />\n                <BatchSelect\n                  selectedStates={selectedStates}\n                  setSelectedStates={setSelectedStates}\n                />\n              </Menu>\n            </>\n          ) : (\n            <span className={classes.navbarPickers}>\n              <ParamPicker\n                chartParams={props.chartParams}\n                setChartParams={props.setChartParams}\n              />\n              <BatchSelect\n                selectedStates={selectedStates}\n                setSelectedStates={setSelectedStates}\n              />\n            </span>\n          )}\n\n          <span style={{ marginLeft: \"auto\" }}>\n            <Button id=\"options-btn-cc\" onClick={handleOptions}>\n              Options\n            </Button>\n            <Menu\n              anchorEl={anchorEl}\n              open={\n                anchorEl ? Boolean(anchorEl.id === \"options-btn-cc\") : false\n              }\n              onClose={handleOptions}\n            >\n              <MenuList\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <ChartPicker />\n                <Settings />\n              </MenuList>\n            </Menu>\n          </span>\n        </Toolbar>\n      </AppBar>\n      <ClickAwayListener onClickAway={handleClickAway}>\n        <Drawer\n          className={classes.drawer}\n          variant=\"persistent\"\n          anchor=\"left\"\n          open={open}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton\n              color=\"inherit\"\n              edge=\"end\"\n              onClick={handleDrawerClose}\n              style={{\n                color: theme.palette.primary.contrastText,\n              }}\n            >\n              <ChevronLeftIcon />\n            </IconButton>\n          </div>\n          <Divider />\n          <Dashboard {...props} />\n        </Drawer>\n      </ClickAwayListener>\n    </div>\n  );\n};\n","// Chart params: define params for drawing axes and chart\nexport const CHART_PARAMS = {\n  chartType: \"line\",\n  toTimestamp: null,\n  multiple: true,\n  normalize: true,\n  xParam: {\n    // x-axis\n    type: \"linear\",\n    format: \"number\",\n    selected: \"dayOfOutbreak\",\n    alt1: null,\n    options: [\"dayOfOutbreak\"],\n  },\n  yParam: {\n    // y-axis\n    type: \"linear\",\n    format: \"number\",\n    selected: \"casesPerThousand\",\n    alt1: \"deathsPerThousand\",\n    options: [\"casesPerThousand\", \"cases\", \"deathsPerThousand\", \"deaths\"],\n  },\n  zParam: {\n    // z-axis (3rd dimension) (eg. size)\n    type: null,\n    format: null,\n    selected: null,\n    options: [null],\n  },\n  cParam: {\n    // color axis (categorical/ordinal data) (eg. gender, birthplace, etc.)\n    type: \"categorical\",\n    selected: \"region\",\n    options: [\"region\", \"division\", \"governor\"],\n  },\n  tParam: {\n    // time axis (4th dimension) (ie. for animated charts)\n    type: null,\n    selected: null,\n    options: [null],\n  },\n};\n\n// Label params:\nexport const LABEL_PARAMS = {\n  chartTitle: \"COVID-19 State Comparison\",\n  xLabel: \"Cases per Thousand\",\n  yLabel: \"Deaths per Thousand\",\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\n// components\nimport ChartCovidCompare from \"./chart/ChartCovidCompare\";\nimport { Navbar } from \"./interface/Navbar\";\n\n// params\nimport { CHART_PARAMS } from \"./appParams\";\n\n// context\nimport { statesContext } from \"../../context/statesContext\";\n\n// styles\nimport { Grid, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst wrapper = {\n  wrapperWidth: window.innerWidth * 0.9,\n  wrapperHeight: window.innerHeight * 0.9,\n  margin: {\n    top: 80,\n    right: window.innerWidth * 0.1,\n    bottom: 200,\n    left: window.innerWidth * 0.1,\n  },\n};\n\nconst bounds = {\n  width: wrapper.wrapperWidth - wrapper.margin.left - wrapper.margin.right,\n  height: wrapper.wrapperHeight - wrapper.margin.top - wrapper.margin.bottom,\n};\n\nconst AppCovidCompare = () => {\n  const { infoStates } = useContext(statesContext);\n\n  const [selectedStates, setSelectedStates] = useState(null);\n  const [chartParams, setChartParams] = useState(CHART_PARAMS);\n\n  const useStyles = makeStyles(theme => ({\n    container: {\n      padding: 0,\n      width: \"100%\",\n      height: \"100%\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      flexDirection: \"column\",\n    },\n    item: {\n      width: \"100%\",\n      flexBasis: \"100%\",\n    },\n    about: {\n      padding: theme.spacing(4),\n      \"& h3, h4\": {\n        [theme.breakpoints.up(\"sm\")]: {\n          paddingLeft: theme.spacing(4),\n        },\n      },\n      \"& p\": {\n        paddingLeft: theme.spacing(2),\n        [theme.breakpoints.up(\"sm\")]: {\n          paddingLeft: theme.spacing(6),\n        },\n      },\n    },\n  }));\n\n  const classes = useStyles();\n\n  const handleSelectedStates = e => {\n    setSelectedStates({\n      ...selectedStates,\n      [e.target.name]: {\n        ...selectedStates[e.target.name],\n        selected: e.target.checked,\n      },\n    });\n  };\n\n  const handleSelectAllStates = e => {\n    const revisedStates = {};\n    Object.keys(selectedStates).forEach((s, i) => {\n      revisedStates[s] = {\n        ...selectedStates[s],\n        selected: true,\n      };\n    });\n    setSelectedStates(revisedStates);\n  };\n\n  const handleDeselectAllStates = e => {\n    const revisedStates = {};\n    Object.keys(selectedStates).forEach((s, i) => {\n      revisedStates[s] = {\n        ...selectedStates[s],\n        selected: false,\n      };\n    });\n    setSelectedStates(revisedStates);\n  };\n\n  useEffect(() => {\n    if (infoStates) {\n      setSelectedStates(infoStates);\n    }\n\n    return () => {\n      setSelectedStates(null);\n    };\n  }, [infoStates]);\n\n  return (\n    <Grid className={classes.container}>\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <Grid item className={classes.item}>\n          <Navbar\n            style={{ width: \"100%\" }}\n            chartParams={chartParams}\n            setChartParams={setChartParams}\n            selectedStates={selectedStates}\n            setSelectedStates={setSelectedStates}\n            handleSelectedStates={handleSelectedStates}\n            handleSelectAllStates={handleSelectAllStates}\n            handleDeselectAllStates={handleDeselectAllStates}\n          />\n          <ChartCovidCompare\n            chartParams={chartParams}\n            selectedStates={selectedStates}\n            setSelectedStates={setSelectedStates}\n            wrapper={wrapper}\n            bounds={bounds}\n          />\n        </Grid>\n      </MuiPickersUtilsProvider>\n      <Grid item className={classes.about}>\n        <div>\n          <h1>About</h1>\n          <Divider />\n          <h2>Data</h2>\n          <p>\n            Data is from The New York Times, based on reports from state and\n            local health agencies.\n          </p>\n          <p>\n            \"Day of Outbreak\" is used to measure time instead of \"Date\". This is\n            to easily compare spread among each state.\n          </p>\n          <section>\n            <h2>Parameters</h2>\n            <p>\n              <strong>Cases/1000 - </strong> number of cases per 1000 people in\n              a state population\n            </p>\n            <p>\n              <strong>Total cases (log chart) - </strong> total number of cases.\n              Log chart is used to better illustrate change in number of cases.\n            </p>\n            <p>\n              <strong>New Cases - </strong> daily new cases by day of outbreak.\n            </p>\n          </section>\n          <section>\n            <h2>Notes</h2>\n            <p>\n              2/27 is earliest possible 'Day 1,' since prior cases were isolated\n              and may skew insights of \"community spread\"\n            </p>\n          </section>\n        </div>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default AppCovidCompare;\n","import React from \"react\";\n\n// styles\nimport { IconButton, Toolbar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    paddingLeft: theme.spacing(4),\n    paddingRight: theme.spacing(4),\n    justifyContent: \"space-between\",\n    alignContent: \"center\",\n  },\n}));\n\nconst Footer = props => {\n  const classes = useStyles();\n  return (\n    <Toolbar className={classes.wrapper}>\n      <div>\n        <p>\n          <strong>You may freely share, but please credit the source:</strong>{\" \"}\n          Data is from the New York Times, based on reports from state and local\n          agencies.\n        </p>\n      </div>\n      <IconButton\n        href=\"https://github.com/stdyrm/covidcompare\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        <GitHubIcon />\n      </IconButton>\n    </Toolbar>\n  );\n};\n\nexport default Footer;\n","const wrapper = {\n  wrapperWidth: window.innerWidth * 0.9,\n  wrapperHeight: window.innerHeight * 0.9,\n  margin: {\n    top: 80,\n    right: window.innerWidth * 0.1,\n    bottom: 130,\n    left: window.innerWidth * 0.1,\n  },\n};\n\nconst bounds = {\n  width: wrapper.wrapperWidth - wrapper.margin.left - wrapper.margin.right,\n  height: wrapper.wrapperHeight - wrapper.margin.top - wrapper.margin.bottom,\n};\n\nexport { wrapper, bounds };\n","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nconst lightTheme = {\n  palette: {\n    type: \"light\",\n    primary: {\n      main: \"#03a9f4\",\n      contrastText: \"#29293d\",\n    },\n    secondary: {\n      main: \"#ff9800\",\n    },\n    background: {\n      default: \"#fff\",\n      paper: \"#fff\",\n      light: \"#fff\",\n      dark: \"#fff\",\n    },\n    text: {\n      primary: \"#29293d\",\n    },\n  },\n};\n\nconst darkTheme = {\n  palette: {\n    type: \"dark\",\n    primary: {\n      main: \"#4db6ac\",\n    },\n    secondary: {\n      main: \"#ffa07a\",\n    },\n    background: {\n      default: \"#29293d\",\n      paper: \"#29293d\",\n      light: \"#493f5e\",\n      dark: \"#000018\",\n    },\n    text: {\n      primary: \"#fff\",\n    },\n  },\n};\n\nexport const theme = createMuiTheme({\n  typography: {\n    fontFamily: [\"ralewaymedium\", \"Helvetica\", \"Arial\", \"sans-serif\"].join(\",\"),\n  },\n  overrides: {\n    MuiInputBase: {\n      root: {\n        color: \"#fff\",\n        paddingLeft: 10,\n      },\n    },\n    MuiButton: {\n      root: {\n        transition: \"opacity .3s\",\n        \"&:hover\": {\n          backgroundColor: \"transparent\",\n          opacity: 0.7,\n        },\n      },\n    },\n    MuiIconButton: {\n      root: {\n        transition: \"opacity .3s\",\n        \"&:hover\": {\n          backgroundColor: \"transparent\",\n          opacity: 0.7,\n        },\n      },\n    },\n  },\n});\n\nexport const getTheme = (theme, darkMode) => {\n  if (darkMode) {\n    return createMuiTheme({\n      ...theme,\n      palette: {\n        ...darkTheme.palette,\n      },\n    });\n  } else {\n    return createMuiTheme({\n      ...theme,\n      palette: {\n        ...lightTheme.palette,\n      },\n    });\n  }\n};\n","export const COLORS = [\n  \"#1b70fc\",\n  \"#faff16\",\n  \"#d50527\",\n  \"#158940\",\n  \"#f898fd\",\n  \"#24c9d7\",\n  \"#cb9b64\",\n  \"#866888\",\n  \"#22e67a\",\n  \"#e509ae\",\n  \"#9dabfa\",\n  \"#437e8a\",\n  \"#b21bff\",\n  \"#ff7b91\",\n  \"#94aa05\",\n  \"#ac5906\",\n  \"#82a68d\",\n  \"#fe6616\",\n  \"#7a7352\",\n  \"#f9bc0f\",\n  \"#b65d66\",\n  \"#07a2e6\",\n  \"#c091ae\",\n  \"#8a91a7\",\n  \"#88fc07\",\n  \"#ea42fe\",\n  \"#9e8010\",\n  \"#10b437\",\n  \"#c281fe\",\n  \"#f92b75\",\n  \"#07c99d\",\n  \"#a946aa\",\n  \"#bfd544\",\n  \"#16977e\",\n  \"#ff6ac8\",\n  \"#a88178\",\n  \"#5776a9\",\n  \"#678007\",\n  \"#fa9316\",\n  \"#85c070\",\n  \"#6aa2a9\",\n  \"#989e5d\",\n  \"#fe9169\",\n  \"#cd714a\",\n  \"#6ed014\",\n  \"#c5639c\",\n  \"#c23271\",\n  \"#698ffc\",\n  \"#678275\",\n  \"#c5a121\",\n  \"#a978ba\",\n  \"#ee534e\",\n  \"#d24506\",\n  \"#59c3fa\",\n  \"#ca7b0a\",\n  \"#6f7385\",\n  \"#9a634a\",\n  \"#48aa6f\",\n  \"#ad9ad0\",\n  \"#d7908c\",\n  \"#6a8a53\",\n  \"#8c46fc\",\n  \"#8f5ab8\",\n  \"#fd1105\",\n  \"#7ea7cf\",\n  \"#d77cd1\",\n  \"#a9804b\",\n  \"#0688b4\",\n  \"#6a9f3e\",\n  \"#ee8fba\",\n  \"#a67389\",\n  \"#9e8cfe\",\n  \"#bd443c\",\n  \"#6d63ff\",\n  \"#d110d5\",\n  \"#798cc3\",\n  \"#df5f83\",\n  \"#b1b853\",\n  \"#bb59d8\",\n  \"#1d960c\",\n  \"#867ba8\",\n  \"#18acc9\",\n  \"#25b3a7\",\n  \"#f3db1d\",\n  \"#938c6d\",\n  \"#936a24\",\n  \"#a964fb\",\n  \"#92e460\",\n  \"#a05787\",\n  \"#9c87a0\",\n  \"#20c773\",\n  \"#8b696d\",\n  \"#78762d\",\n  \"#e154c6\",\n  \"#40835f\",\n  \"#d73656\",\n  \"#1afd5c\",\n  \"#c4f546\",\n  \"#3d88d8\",\n  \"#bd3896\",\n  \"#1397a3\",\n  \"#f940a5\",\n  \"#66aeff\",\n  \"#d097e7\",\n  \"#fe6ef9\",\n  \"#d86507\",\n  \"#8b900a\",\n  \"#d47270\",\n  \"#e8ac48\",\n  \"#cf7c97\",\n  \"#cebb11\",\n  \"#718a90\",\n  \"#e78139\",\n  \"#ff7463\",\n  \"#bea1fd\",\n];\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\n// data\nimport USStates from \"./nyt-data/us-states.csv\";\nimport STATE_INFO from \"./data/stateInfo.json\";\n\n// util\nimport { cleanStateInfo, importCSV } from \"./components/util\";\n\n// components\nimport AppGapminder from \"./components/appGapminder/AppGapminder\";\nimport AppCovidCompare from \"./components/appCovidCompare/AppCovidCompare\";\nimport Footer from \"./components/sharedComponents/Footer\";\n\n// context\nimport { dataContext } from \"./context/dataContext\";\nimport { statesContext } from \"./context/statesContext\";\nimport { ThemeContext } from \"./context/ThemeContext\";\n\n// styles\nimport { wrapper, bounds } from \"./styles/dimensions\";\nimport { theme, getTheme } from \"./styles/theme\";\nimport { COLORS } from \"./styles/colors\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport { CssBaseline } from \"@material-ui/core\";\n\nfunction App() {\n  const [dataStates, setDataStates] = useState([]);\n  const [infoStates, setInfoStates] = useState(null);\n  const [darkMode, setDarkMode] = useState(true);\n\n  useEffect(() => {\n    cleanStateInfo(dataStates, STATE_INFO, COLORS).then(res =>\n      setInfoStates(res)\n    );\n  }, [dataStates]);\n\n  useEffect(() => {\n    importCSV(USStates, STATE_INFO).then(res => setDataStates(res));\n  }, []);\n\n  return (\n    <>\n      <ThemeContext.Provider value={{ darkMode, setDarkMode }}>\n        <ThemeProvider theme={getTheme(theme, darkMode)}>\n          <CssBaseline />\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <dataContext.Provider value={{ dataStates, setDataStates }}>\n              <statesContext.Provider value={{ infoStates, setInfoStates }}>\n                {/* <AppCounty /> */}\n                <Route\n                  path=\"/line-app\"\n                  className=\"line-app\"\n                  component={() => (\n                    <AppCovidCompare wrapper={wrapper} bounds={bounds} />\n                  )}\n                />\n                <Route\n                  path=\"/gapminder-app\"\n                  className=\"gapminder-app\"\n                  render={() => <AppGapminder />}\n                />\n                <Switch>\n                  <Redirect exact from=\"/\" to=\"/gapminder-app\" />\n                </Switch>\n                <Footer />\n              </statesContext.Provider>\n            </dataContext.Provider>\n          </MuiPickersUtilsProvider>\n        </ThemeProvider>\n      </ThemeContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}