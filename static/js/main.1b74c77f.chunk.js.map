{"version":3,"sources":["context/dataContext.js","context/statesContext.js","components/util/constants.js","components/util/MouseMove.js","components/chart/Line.js","components/chart/ChartUSCompare.js","components/dataParams/BatchSelect.js","styles/colors.js","components/dataParams/Dashboard.js","components/dataParams/FilterBar.js","styles/theme.js","components/chart/Footnotes.js","App.js","serviceWorker.js","index.js","data/us-states.csv"],"names":["dataContext","React","createContext","statesContext","date","dateFormatter","d3","dateParser","dimensions","width","window","innerWidth","height","margin","top","right","bottom","left","bounded","MouseMove","focus","overlay","linesStates","dataStates","useContext","selectedStates","xScale","domain","d","dayOfOutbreak","range","yScale","casesPerThousand","useEffect","on","x0","invert","this","bisectDate","Object","keys","sort","filter","s","selected","forEach","state","index","dataEachState","stateHTML","htmlFormat","i","dataEachStateRangeY","length","dataEachStateRangeX","dataEachStateRangeDate","dataEachStateRangeCases","cases","frozen","select","attr","text","abbreviation","color","toFixed","Line","useState","setLinesStates","console","log","selectAll","lineGenerator","x","y","linesObject","stateInfo","lastDayOfOutbreak","lastCasesPerThousand","lockdownDay","lockdown","lockdownDayDatum","line","lineLabelX","lineLabelY","lockdownMarkerX","lockdownMarkerY","xShift","yShift","append","style","map","key","id","fill","stroke","strokeWidth","strokeLinejoin","strokeLinecap","r","cx","cy","className","fontSize","ChartUSCompare","yAxisRef","useRef","xAxisRef","svgRef","boundsRef","current","yAxisGenerator","scale","xAxisGenerator","call","ref","textAnchor","transform","useStyles","makeStyles","backgroundColor","maxWidth","paddingLeft","BatchSelect","setSelectedStates","anchorEl","setAnchorEl","selectedFilter","setSelectedFilter","Date","selectedDate","setDateChange","lockdownRef","classes","handleClick","e","currentTarget","name","handleClose","filterCases","revisedStates","revisedOrder","a","b","latestCaseCount","revisedOrderToPopulation","population","target","reverse","filterLockdown","filterPopulation","filterRegion","filteredByRegion","region","includes","Button","onClick","Menu","keepMounted","open","Boolean","onClose","MenuItem","DatePicker","variant","disableToolbar","autoOk","value","onChange","disableFuture","format","colors","Dashboard","handleChange","checked","timeParse","startsWith","nested","nest","entries","lastIndex","values","FormGroup","alignItems","FormControlLabel","label","control","IconButton","Typography","Divider","Checkbox","theme","root","display","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","spacing","hide","drawer","flexShrink","drawerPaper","drawerHeader","padding","mixins","toolbar","justifyContent","palette","background","default","FilterBar","setOpen","AppBar","position","clsx","Toolbar","edge","ClickAwayListener","onClickAway","Drawer","anchor","paper","createMuiTheme","primary","secondary","contrastThreshold","typography","fontFamily","overrides","MuiMenu","MuiPickersCalendarHeader","switchHeader","MuiPickersDay","day","daySelected","dayDisabled","textAlign","saveButton","float","Footnotes","Tooltip","title","placement","saveSvgAsPng","document","querySelector","encoderOptions","App","setDataStates","USStates","then","data","fips","parseInt","deaths","stateData","deathsPerThousand","minWidth","utils","DateFnsUtils","Provider","ThemeProvider","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","module","exports"],"mappings":"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AK,SAASmB,QAAStB,GAAlD,oBAGA,kBAACuB,EAAA,EAAD,CACEhE,GAAG,qBACHgC,SAAUA,EACViC,aAAW,EACXC,KAAMC,QAA2B,WAAnBjC,GACdkC,QAASvB,GAET,kBAACwB,EAAA,EAAD,CAAUrE,GAAG,YAAY+D,QAASL,GAAlC,aAGN,kBAACW,EAAA,EAAD,CAAUrE,GAAG,UAAU+D,QAASL,GAAhC,WAGA,kBAACW,EAAA,EAAD,CAAUrE,GAAG,QAAQ+D,QAASL,GAA9B,SAGA,kBAACW,EAAA,EAAD,CAAUrE,GAAG,OAAO+D,QAASL,GAA7B,W,oCCvSWoB,EAAS,CAClB,YACA,eACA,aACA,QACA,QACA,aACA,QACA,YACA,YACA,aACA,YACA,OACA,QACA,WACA,UACA,OACA,WACA,cACA,aACA,YACA,cACA,cACA,UACA,YACA,aACA,OACA,YACA,QACA,cACA,WACA,UACA,YACA,QACA,WACA,gBACA,YACA,eACA,YACA,aACA,YACA,uBACA,YACA,YACA,aACA,YACA,cACA,gBACA,eACA,iBACA,iBACA,iBACA,cACA,OACA,YACA,QACA,UACA,SACA,mBACA,aACA,eACA,eACA,iBACA,kBACA,oBACA,kBACA,kBACA,eACA,YACA,YACA,WACA,cACA,OACA,UACA,QACA,YACA,SACA,YACA,SACA,gBACA,YACA,gBACA,gBACA,aACA,YACA,OACA,OACA,OACA,aACA,SACA,gBACA,MACA,YACA,YACA,cACA,SACA,aACA,WACA,WACA,SACA,SACA,UACA,YACA,YACA,YACA,OACA,cACA,YACA,MACA,OACA,UACA,SACA,YACA,SACA,QACA,QACA,aACA,SACA,e,kCCtGEC,EAAY,WAAO,IACdpJ,EAAcC,qBAAWxB,GAAzBuB,WADa,EAEwBC,qBAAWrB,GAAhDsB,EAFa,EAEbA,eAAgBkG,EAFH,EAEGA,kBAEjBiD,EAAe,SAACtC,GAClBX,EAAkB,eACXlG,EADU,eAEZ6G,EAAEY,OAAOV,KAFG,eAGN/G,EAAe6G,EAAEY,OAAOV,MAHlB,CAIT5F,SAAU0F,EAAEY,OAAO2B,cAy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","file":"static/js/main.1b74c77f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst dataContext = React.createContext();\r\n\r\nexport { dataContext };","import React from 'react';\r\n\r\nconst statesContext = React.createContext();\r\n\r\nexport { statesContext };","import * as d3 from \"d3\";\r\n\r\nconst date = {\r\n  dateFormatter: d3.timeFormat(\"%m-%d-%y\"),\r\n  dateParser: d3.timeParse(\"%m-%d-%y\"),\r\n};\r\n\r\nconst dimensions = {\r\n  width: window.innerWidth,\r\n  height: 750,\r\n  margin: {\r\n    top: 80,\r\n    right: 100,\r\n    bottom: 60,\r\n    left: 100,\r\n  },\r\n};\r\n\r\nconst bounded = {\r\n  width: dimensions.width - dimensions.margin.left - dimensions.margin.right,\r\n  height: dimensions.height - dimensions.margin.top - dimensions.margin.bottom,\r\n};\r\n\r\nexport { date, dimensions, bounded };\r\n","import { useEffect, useContext } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n// context\r\nimport { dataContext } from '../../context/dataContext';\r\nimport { statesContext } from '../../context/statesContext';\r\nimport { date, bounded } from '../util/constants';\r\n\r\nexport const MouseMove = ({ focus, overlay, linesStates }) => {\r\n    const { dataStates } = useContext(dataContext);\r\n    const { selectedStates } = useContext(statesContext);\r\n\r\n    const xScale = d3.scaleLinear().domain(d3.extent(dataStates, d => d.dayOfOutbreak)).range([0, bounded.width]);\r\n    const yScale = d3.scaleLinear().domain(d3.extent(dataStates, d => d.casesPerThousand)).range([bounded.height, 0]);\r\n\r\n    useEffect(() => {\r\n        if (overlay) {\r\n\r\n            overlay.on('mousemove', mousemove);\r\n\r\n            let frozen = false;\r\n\r\n            function mousemove() {\r\n                let x0 = xScale.invert(d3.mouse(this)[0]);\r\n                const bisectDate = d3.bisector(d => d.dayOfOutbreak).left;\r\n\r\n                Object.keys(selectedStates).sort()\r\n                    .filter(s => selectedStates[s].selected === true)\r\n                    .forEach((state, index) => {\r\n                        const dataEachState = dataStates.filter(d => d.state === state);\r\n                        const stateHTML = selectedStates[state].htmlFormat;\r\n                        const i = bisectDate(dataEachState, x0, 0);\r\n\r\n                        let dataEachStateRangeY = dataEachState[i]\r\n                            ? dataEachState[i].casesPerThousand \r\n                            : dataEachState[dataEachState.length - 1].casesPerThousand;\r\n                        let dataEachStateRangeX = dataEachState[i] \r\n                            ? dataEachState[i].dayOfOutbreak \r\n                            : dataEachState[dataEachState.length - 1].dayOfOutbreak;\r\n                        let dataEachStateRangeDate = dataEachState[i] \r\n                            ? date.dateFormatter(dataEachState[i].date) \r\n                            : date.dateFormatter(dataEachState[dataEachState.length - 1].date);\r\n                        let dataEachStateRangeCases = dataEachState[i]\r\n                            ? dataEachState[i].cases \r\n                            : dataEachState[dataEachState.length - 1].cases;\r\n\r\n                        const toggleFreeze = () => {\r\n                            frozen = !frozen;\r\n                        };\r\n\r\n                        overlay.on('click', toggleFreeze);\r\n\r\n                        if (!frozen) {\r\n                            focus.select(`#circle-${stateHTML}`)\r\n                                .attr('cy', yScale(dataEachStateRangeY))\r\n                                .attr('cx', xScale(dataEachStateRangeX));\r\n\r\n                            focus.select(`#d-label-${stateHTML}`)\r\n                                .text(`${selectedStates[state].abbreviation} => ${dataEachStateRangeDate} (Day: ${dataEachStateRangeX})`)\r\n                                .attr('fill', selectedStates[state].color)\r\n\r\n                            focus.select(`#d-label-b-${stateHTML}`)\r\n                                .text(`${dataEachStateRangeCases} cases (${dataEachStateRangeY.toFixed(3)} per 1000)`)\r\n                                .attr('fill', selectedStates[state].color)\r\n                        } \r\n                    });\r\n                }\r\n            }\r\n    }, [linesStates]);\r\n    return null;\r\n}","import React, { useState, useContext, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\n// functions\r\nimport { MouseMove } from \"../util/MouseMove\";\r\n\r\n// data\r\nimport stateInfo from \"../../data/stateInfo.json\";\r\n\r\n// context\r\nimport { dataContext } from \"../../context/dataContext\";\r\nimport { statesContext } from \"../../context/statesContext\";\r\n\r\n// constants\r\nimport { bounded } from \"../util/constants\";\r\n\r\nconst Line = ({ focus, overlay }) => {\r\n  const { selectedStates } = useContext(statesContext);\r\n  const { dataStates } = useContext(dataContext);\r\n  const [linesStates, setLinesStates] = useState([]);\r\n\r\n  const clearFocus = () => {\r\n    console.log(\"clearing focus\");\r\n    focus.selectAll(['circle', 'text']).attr('display', 'none')\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => clearFocus();\r\n  }, [selectedStates]);\r\n\r\n  useEffect(() => {\r\n    if (dataStates.length > 0) {\r\n\r\n      // Scales\r\n      const xScale = d3\r\n        .scaleLinear()\r\n        .domain(d3.extent(dataStates, (d) => d.dayOfOutbreak))\r\n        .range([0, bounded.width]);\r\n      const yScale = d3\r\n        .scaleLinear()\r\n        .domain(d3.extent(dataStates, (d) => d.casesPerThousand))\r\n        .range([bounded.height, 0]);\r\n\r\n      // Lines\r\n      const lineGenerator = d3\r\n        .line()\r\n        .x((d) => xScale(d.dayOfOutbreak))\r\n        .y((d) => yScale(d.casesPerThousand));\r\n\r\n      const linesObject = {};\r\n\r\n      Object.keys(selectedStates)\r\n        .sort()\r\n        .filter((s) => selectedStates[s].selected === true)\r\n        .forEach((state, i) => {\r\n          const dataEachState = dataStates.filter((d) => d.state === state);\r\n          const stateHTML = stateInfo[state].htmlFormat;\r\n\r\n          // Line label placement\r\n          const lastDayOfOutbreak =\r\n            dataEachState[dataEachState.length - 1].dayOfOutbreak;\r\n          const lastCasesPerThousand =\r\n            dataEachState[dataEachState.length - 1].casesPerThousand;\r\n\r\n          // markers for lockdown date\r\n          const lockdownDate = selectedStates[state].lockdown;\r\n          const lockdownDay =\r\n            (lockdownDate - dataEachState[0].date) /\r\n              (24 * 60 * 60 * 10 * 10 * 10) +\r\n            1;\r\n          const lockdownDayDatum = dataEachState.filter(\r\n            (d) => d.dayOfOutbreak === lockdownDay\r\n          )[0];\r\n\r\n          if (lockdownDayDatum) {\r\n            linesObject[state] = {\r\n              line: lineGenerator(dataEachState),\r\n              lineLabelX: xScale(lastDayOfOutbreak) + 3,\r\n              lineLabelY: yScale(lastCasesPerThousand),\r\n              lockdownMarkerX: xScale(lockdownDay),\r\n              lockdownMarkerY: yScale(lockdownDayDatum.casesPerThousand),\r\n            };\r\n          } else {\r\n            linesObject[state] = {\r\n              line: lineGenerator(dataEachState),\r\n              lineLabelX: xScale(lastDayOfOutbreak) + 3,\r\n              lineLabelY: yScale(lastCasesPerThousand),\r\n            };\r\n          }\r\n\r\n          // for mousemove\r\n          let xShift = 0;\r\n          let yShift = 0;\r\n\r\n          if (i > 14) {\r\n            xShift += 200;\r\n            yShift = 15 * 40;\r\n          }\r\n\r\n          focus\r\n            .append(\"circle\")\r\n            .attr(\"id\", `circle-${stateHTML}`)\r\n            .attr(\"r\", 5)\r\n            .attr(\"fill\", selectedStates[state].color)\r\n            .attr(\"stroke\", \"white\");\r\n\r\n          if (i < 30) {\r\n            focus\r\n              .append(\"text\")\r\n              .attr(\"id\", `d-label-${stateHTML}`)\r\n              .attr(\"x\", 10 + xShift)\r\n              .attr(\"y\", 10 + i * 40 - yShift)\r\n              .style(\"font-size\", 12);\r\n\r\n            focus\r\n              .append(\"text\")\r\n              .attr(\"id\", `d-label-b-${stateHTML}`)\r\n              .attr(\"x\", 10 + xShift)\r\n              .attr(\"y\", 25 + i * 40 - yShift)\r\n              .style(\"font-size\", 12);\r\n          }\r\n        });\r\n      setLinesStates(linesObject);\r\n    }\r\n  }, [dataStates, selectedStates]);\r\n\r\n  return (\r\n    <>\r\n      <MouseMove focus={focus} overlay={overlay} linesStates={linesStates} />\r\n      {dataStates.length > 0 ? (\r\n        Object.keys(linesStates)\r\n          .sort()\r\n          .map((state, i) => {\r\n            const stateHTML = stateInfo[state].htmlFormat;\r\n\r\n            return (\r\n              <g key={i} id={`bounds-render-${stateHTML}`}>\r\n                <path\r\n                  fill=\"none\"\r\n                  stroke={selectedStates[state].color}\r\n                  strokeWidth={2}\r\n                  strokeLinejoin=\"round\"\r\n                  strokeLinecap=\"round\"\r\n                  d={linesStates[state].line}\r\n                />\r\n                <circle\r\n                  id=\"line-marker-lockdown\"\r\n                  r={4}\r\n                  fill={\r\n                    linesStates[state].lockdownMarkerX\r\n                      ? selectedStates[state].color\r\n                      : \"none\"\r\n                  }\r\n                  cx={linesStates[state].lockdownMarkerX}\r\n                  cy={linesStates[state].lockdownMarkerY}\r\n                />\r\n                <text\r\n                  id={`line-label-${stateHTML}`}\r\n                  className=\"line-label\"\r\n                  x={linesStates[state].lineLabelX}\r\n                  y={linesStates[state].lineLabelY}\r\n                  fontSize={14}\r\n                >\r\n                  {selectedStates[state].abbreviation}\r\n                </text>\r\n              </g>\r\n            );\r\n          })\r\n      ) : (\r\n        <g></g>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { Line };\r\n","import React, { useContext, useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n// Components\r\nimport { Line } from './Line';\r\n\r\n// Context\r\nimport { dataContext } from '../../context/dataContext';\r\n\r\n// constants\r\nimport { dimensions, bounded } from '../util/constants';\r\n\r\n// Styles\r\nimport '../../styles/styles.css';\r\n\r\nconst { width, height, margin } = dimensions;\r\n\r\nconst ChartUSCompare = () => {\r\n    const {dataStates} = useContext(dataContext);\r\n    const yAxisRef = useRef(null);\r\n    const xAxisRef = useRef(null);\r\n    const svgRef = useRef(null);\r\n    const boundsRef = useRef(null);\r\n\r\n    const focus = d3.select(boundsRef.current).append('g')\r\n        .attr('class', 'focus')\r\n        .style('display', 'none');\r\n\r\n    const overlay = d3.select(boundsRef.current).append('rect')\r\n        .attr('class', 'overlay')\r\n        .attr('width', bounded.width)\r\n        .attr('height', bounded.height)\r\n        .on('mouseover', () => focus.style('display', null))\r\n\r\n    useEffect(() => {\r\n        // Scales\r\n        const xScale = d3.scaleLinear()\r\n            .domain(d3.extent(dataStates, d => d.dayOfOutbreak))\r\n            .range([0, bounded.width]);\r\n        const yScale = d3.scaleLinear()\r\n            .domain(d3.extent(dataStates, d => d.casesPerThousand))\r\n            .range([bounded.height, 0]);\r\n\r\n        // Axes\r\n        const yAxisGenerator = d3.axisLeft().scale(yScale);\r\n        const xAxisGenerator = d3.axisBottom().scale(xScale);\r\n        d3.select(xAxisRef.current).call(xAxisGenerator);\r\n        d3.select(yAxisRef.current).call(yAxisGenerator);\r\n    }, [dataStates, window.innerWidth]);\r\n\r\n    return (\r\n        <div height={height} width={width}>\r\n            <svg \r\n                id=\"chart\" \r\n                height={height} \r\n                width={width} \r\n                ref={svgRef}\r\n            >\r\n                <text\r\n                    className=\"title\"\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate (${margin.left + bounded.width / 2}, ${margin.top / 2})`}\r\n                >\r\n                    COVID-19 US State Comparison\r\n                </text>\r\n                <text \r\n                    className=\"axes-label\"\r\n                    textAnchor=\"middle\"\r\n                    style={{fill: \"#f2ffcc\"}}\r\n                    transform={`translate(${margin.left + bounded.width / 2}, ${bounded.height + margin.top + 40})`}\r\n                >\r\n                    Day of Outbreak\r\n                </text>\r\n                <text \r\n                    className=\"axes-label\" \r\n                    textAnchor=\"middle\"\r\n                    style={{fill: \"#f2ffcc\"}}\r\n                    transform={`translate(${width - bounded.width - margin.right - 40}, ${bounded.height / 2}) rotate(-90)`}\r\n                >\r\n                    Cases per 1000 people\r\n                </text>\r\n                <g id=\"bounds\" transform={`translate(${margin.left}, ${margin.top})`} ref={boundsRef}>\r\n                    <g ref={yAxisRef} id=\"y-axis\" />\r\n                    <g ref={xAxisRef} id=\"x-axis\" transform={`translate(0,${bounded.height})`} />\r\n                    <Line focus={focus} overlay={overlay}/>\r\n                </g>\r\n            </svg>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport { ChartUSCompare };","import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport { Button, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\n\r\n// context\r\nimport { statesContext } from \"../../context/statesContext\";\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  date: {\r\n    backgroundColor: \"#29293d\",\r\n    maxWidth: 100,\r\n    paddingLeft: 10,\r\n  },\r\n});\r\n\r\nconst BatchSelect = () => {\r\n  const { selectedStates, setSelectedStates } = useContext(statesContext);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [selectedFilter, setSelectedFilter] = useState(null);\r\n  const [selectedDate, setDateChange] = useState(new Date());\r\n  const lockdownRef = useRef(null);\r\n  const classes = useStyles();\r\n\r\n  const handleClick = (e) => {\r\n    setAnchorEl(e.currentTarget);\r\n    setSelectedFilter(e.currentTarget.name);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setSelectedFilter(null);\r\n  };\r\n\r\n  const handleDateChange = (e) => {\r\n    setDateChange(e);\r\n  };\r\n\r\n  const filterCases = (e) => {\r\n    // top/bottom by total cases\r\n    // top/bottom by cases per 1000 people\r\n    const revisedStates = {};\r\n    const revisedOrder = Object.keys(selectedStates).sort(\r\n      (a, b) =>\r\n        selectedStates[b].latestCaseCount - selectedStates[a].latestCaseCount\r\n    );\r\n    const revisedOrderToPopulation = Object.keys(selectedStates).sort(\r\n      (a, b) =>\r\n        selectedStates[b].latestCaseCount / selectedStates[b].population -\r\n        selectedStates[a].latestCaseCount / selectedStates[a].population\r\n    );\r\n\r\n    if (e.target.id === \"cases-top-12\") {\r\n      revisedOrder.forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    } else if (e.target.id === \"cases-bottom-12\") {\r\n      revisedOrder.reverse().forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    } else if (e.target.id === \"cases-top-12-per-1000\") {\r\n      revisedOrderToPopulation.forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    } else if (e.target.id === \"cases-bottom-12-per-1000\") {\r\n      revisedOrderToPopulation.reverse().forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    }\r\n    setSelectedStates(revisedStates);\r\n    handleClose();\r\n  };\r\n\r\n  const filterLockdown = (e) => {\r\n    // before/after x date\r\n    // no current lockdown\r\n    const revisedStates = {};\r\n\r\n    if (e.target.id === \"all-with-lockdown\") {\r\n      Object.keys(selectedStates).forEach((s) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: selectedStates[s].lockdown < new Date() ? true : false,\r\n        };\r\n      });\r\n    } else if (e.target.id === \"all-without-lockdown\") {\r\n      Object.keys(selectedStates).forEach((s) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: selectedStates[s].lockdown < new Date() ? false : true,\r\n        };\r\n      });\r\n    }\r\n    setSelectedStates(revisedStates);\r\n    handleClose();\r\n  };\r\n\r\n  const filterPopulation = (e) => {\r\n    // above/below x population\r\n    const revisedStates = {};\r\n    const revisedOrder = Object.keys(selectedStates).sort(\r\n      (a, b) => selectedStates[b].population - selectedStates[a].population\r\n    );\r\n\r\n    if (e.target.id === \"population-top-12\") {\r\n      revisedOrder.forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    } else {\r\n      revisedOrder.reverse().forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    }\r\n    setSelectedStates(revisedStates);\r\n    handleClose();\r\n  };\r\n\r\n  const filterRegion = (e) => {\r\n\tconst revisedStates = {};\r\n\tconst filteredByRegion = Object.keys(selectedStates).filter(s => selectedStates[s].region === e.target.id);\r\n\r\n\tObject.keys(selectedStates).forEach(s => {\r\n\t\tif (filteredByRegion.includes(s)) {\r\n\t\t\trevisedStates[s] = {\r\n\t\t\t\t...selectedStates[s],\r\n\t\t\t\tselected: true\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\trevisedStates[s] = {\r\n\t\t\t\t...selectedStates[s],\r\n\t\t\t\tselected: false\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\tsetSelectedStates(revisedStates);\r\n\thandleClose();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const revisedStates = {};\r\n\r\n    if (lockdownRef.current === \"lockdown-before\") {\r\n      Object.keys(selectedStates).forEach((s) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: selectedStates[s].lockdown < selectedDate ? true : false,\r\n        };\r\n      });\r\n    } else if (lockdownRef.current === \"lockdown-after\") {\r\n      Object.keys(selectedStates).forEach((s) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: selectedStates[s].lockdown > selectedDate ? true : false,\r\n        };\r\n      });\r\n    }\r\n    setSelectedStates(revisedStates);\r\n    handleClose();\r\n  }, [selectedDate]);\r\n\r\n  return (\r\n    <>\r\n      <Button id=\"filter-cases\" name=\"cases\" onClick={handleClick}>\r\n        Filter by Case Counts\r\n      </Button>\r\n      <Menu\r\n        id=\"filter-cases-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(selectedFilter === \"cases\")}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem id=\"cases-top-12\" onClick={filterCases}>\r\n          Highest 12 (total)\r\n        </MenuItem>\r\n        <MenuItem id=\"cases-bottom-12\" onClick={filterCases}>\r\n          Lowest 12 (total)\r\n        </MenuItem>\r\n        <MenuItem id=\"cases-top-12-per-1000\" onClick={filterCases}>\r\n          Highest 12 (per 1000)\r\n        </MenuItem>\r\n        <MenuItem id=\"cases-bottom-12-per-1000\" onClick={filterCases}>\r\n          Lowest 12 (per 1000)\r\n        </MenuItem>\r\n      </Menu>\r\n      <Button id=\"filter-lockdown\" name=\"lockdown\" onClick={handleClick}>\r\n        Filter by Lockdown Date\r\n      </Button>\r\n      <Menu\r\n        id=\"filter-lockdown-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(selectedFilter === \"lockdown\")}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem id=\"all-with-lockdown\" onClick={filterLockdown}>\r\n          All with lockdown\r\n        </MenuItem>\r\n        <MenuItem id=\"all-without-lockdown\" onClick={filterLockdown}>\r\n          All without lockdown\r\n        </MenuItem>\r\n        <MenuItem\r\n          id=\"lockdown-before\"\r\n          ref={lockdownRef}\r\n          onClick={(e) => (lockdownRef.current = e.currentTarget.id)}\r\n        >\r\n          Lockdown before:\r\n          <DatePicker\r\n            variant=\"inline\"\r\n            disableToolbar\r\n            autoOk\r\n            value={selectedDate}\r\n            onChange={handleDateChange}\r\n            disableFuture={true}\r\n            format=\"MM/dd/yyyy\"\r\n            className={classes.date}\r\n          />\r\n        </MenuItem>\r\n        <MenuItem\r\n          id=\"lockdown-after\"\r\n          ref={lockdownRef}\r\n          onClick={(e) => (lockdownRef.current = e.currentTarget.id)}\r\n        >\r\n          Lockdown after:\r\n          <DatePicker\r\n            variant=\"inline\"\r\n            disableToolbar\r\n            autoOk\r\n            value={selectedDate}\r\n            onChange={(date) => setDateChange(date)}\r\n            disableFuture={true}\r\n            format=\"MM/dd/yyyy\"\r\n            className={classes.date}\r\n          />\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      <Button id=\"filter-population\" name=\"population\" onClick={handleClick}>\r\n        Filter by Total Population\r\n      </Button>\r\n      <Menu\r\n        id=\"filter-population-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(selectedFilter === \"population\")}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem id=\"population-top-12\" onClick={filterPopulation}>\r\n          Highest 12\r\n        </MenuItem>\r\n        <MenuItem id=\"population-bottom-12\" onClick={filterPopulation}>\r\n          Lowest 12\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      <Button id=\"filter-region\" name=\"region\" onClick={handleClick}>\r\n        Filter by Region\r\n      </Button>\r\n      <Menu\r\n        id=\"filter-region-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(selectedFilter === \"region\")}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem id=\"northeast\" onClick={filterRegion}>\r\n\t\t\tNortheast\r\n        </MenuItem>\r\n\t\t<MenuItem id=\"midwest\" onClick={filterRegion}>\r\n\t\t\tMidwest\r\n\t\t</MenuItem>\r\n\t\t<MenuItem id=\"south\" onClick={filterRegion}>\r\n\t\t\tSouth\r\n\t\t</MenuItem>\r\n\t\t<MenuItem id=\"west\" onClick={filterRegion}>\r\n\t\t\tWest\r\n\t\t</MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport { BatchSelect };\r\n","export const colors = [\r\n    \"AliceBlue\",\r\n    \"AntiqueWhite\",\r\n    \"Aquamarine\",\r\n    \"Azure\",\r\n    \"Beige\",\r\n    \"BlueViolet\",\r\n    \"Brown\",\r\n    \"BurlyWood\",\r\n    \"CadetBlue\",\r\n    \"Chartreuse\",\r\n    \"Chocolate\",\r\n    \"Aqua\",\r\n    \"Coral\",\r\n    \"Cornsilk\",\r\n    \"Crimson\",\r\n    \"Cyan\",\r\n    \"DeepPink\",\r\n    \"DeepSkyBlue\",\r\n    \"DodgerBlue\",\r\n    \"FireBrick\",\r\n    \"FloralWhite\",\r\n    \"ForestGreen\",\r\n    \"Fuchsia\",\r\n    \"Gainsboro\",\r\n    \"GhostWhite\",\r\n    \"Gold\",\r\n    \"GoldenRod\",\r\n    \"Green\",\r\n    \"GreenYellow\",\r\n    \"HoneyDew\",\r\n    \"HotPink\",\r\n    \"IndianRed\",\r\n    \"Ivory\",\r\n    \"Lavender\",\r\n    \"LavenderBlush\",\r\n    \"LawnGreen\",\r\n    \"LemonChiffon\",\r\n    \"LightBlue\",\r\n    \"LightCoral\",\r\n    \"LightCyan\",\r\n    \"LightGoldenRodYellow\",\r\n    \"LightGray\",\r\n    \"LightGrey\",\r\n    \"LightGreen\",\r\n    \"LightPink\",\r\n    \"LightSalmon\",\r\n    \"LightSeaGreen\",\r\n    \"LightSkyBlue\",\r\n    \"LightSlateGray\",\r\n    \"LightSlateGrey\",\r\n    \"LightSteelBlue\",\r\n    \"LightYellow\",\r\n    \"Lime\",\r\n    \"LimeGreen\",\r\n    \"Linen\",\r\n    \"Magenta\",\r\n    \"Maroon\",\r\n    \"MediumAquaMarine\",\r\n    \"MediumBlue\",\r\n    \"MediumOrchid\",\r\n    \"MediumPurple\",\r\n    \"MediumSeaGreen\",\r\n    \"MediumSlateBlue\",\r\n    \"MediumSpringGreen\",\r\n    \"MediumTurquoise\",\r\n    \"MediumVioletRed\",\r\n    \"MidnightBlue\",\r\n    \"MintCream\",\r\n    \"MistyRose\",\r\n    \"Moccasin\",\r\n    \"NavajoWhite\",\r\n    \"Navy\",\r\n    \"OldLace\",\r\n    \"Olive\",\r\n    \"OliveDrab\",\r\n    \"Orange\",\r\n    \"OrangeRed\",\r\n    \"Orchid\",\r\n    \"PaleGoldenRod\",\r\n    \"PaleGreen\",\r\n    \"PaleTurquoise\",\r\n    \"PaleVioletRed\",\r\n    \"PapayaWhip\",\r\n    \"PeachPuff\",\r\n    \"Peru\",\r\n    \"Pink\",\r\n    \"Plum\",\r\n    \"PowderBlue\",\r\n    \"Purple\",\r\n    \"RebeccaPurple\",\r\n    \"Red\",\r\n    \"RosyBrown\",\r\n    \"RoyalBlue\",\r\n    \"SaddleBrown\",\r\n    \"Salmon\",\r\n    \"SandyBrown\",\r\n    \"SeaGreen\",\r\n    \"SeaShell\",\r\n    \"Sienna\",\r\n    \"Silver\",\r\n    \"SkyBlue\",\r\n    \"SlateBlue\",\r\n    \"SlateGray\",\r\n    \"SlateGrey\",\r\n    \"Snow\",\r\n    \"SpringGreen\",\r\n    \"SteelBlue\",\r\n    \"Tan\",\r\n    \"Teal\",\r\n    \"Thistle\",\r\n    \"Tomato\",\r\n    \"Turquoise\",\r\n    \"Violet\",\r\n    \"Wheat\",\r\n    \"White\",\r\n    \"WhiteSmoke\",\r\n    \"Yellow\",\r\n    \"YellowGreen\",\r\n  ];","import React, { useContext, useEffect } from 'react';\r\nimport { timeParse, nest } from 'd3';\r\nimport { IconButton, FormControlLabel, FormGroup, Checkbox, Typography, Divider } from '@material-ui/core';\r\n\r\n// context\r\nimport { dataContext } from '../../context/dataContext';\r\nimport { statesContext } from '../../context/statesContext';\r\n\r\n// data\r\nimport stateInfo from '../../data/stateInfo.json';\r\n\r\n// styles\r\nimport { colors } from '../../styles/colors';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst Dashboard = () => {\r\n    const {dataStates} = useContext(dataContext);\r\n    const {selectedStates, setSelectedStates} = useContext(statesContext);\r\n\r\n    const handleChange = (e) => {\r\n        setSelectedStates({\r\n            ...selectedStates,\r\n            [e.target.name]: {\r\n                ...selectedStates[e.target.name],\r\n                selected: e.target.checked\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleSelectAll = (e) => {\r\n        const revisedStates = {}\r\n        Object.keys(selectedStates).forEach((s,i) => {\r\n            revisedStates[s] = {\r\n                ...selectedStates[s],\r\n                selected: true\r\n            }\r\n        });\r\n        setSelectedStates(revisedStates);\r\n    };\r\n\r\n    const handleDeselectAll = (e) => {\r\n        const revisedStates = {}\r\n        Object.keys(selectedStates).forEach((s,i) => {\r\n            revisedStates[s] = {\r\n                ...selectedStates[s],\r\n                selected: false\r\n            }\r\n         });\r\n        setSelectedStates(revisedStates);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // clean stateInfo data and assign selectedStates\r\n        const dateParser = timeParse('%m-%d-%y');\r\n        const revisedStates = {};\r\n\r\n        Object.keys(stateInfo).forEach((s,i) => {\r\n            revisedStates[s] = {\r\n                ...stateInfo[s],\r\n                lockdown: stateInfo[s].lockdown.startsWith(\"none\") ? stateInfo[s].lockdown : dateParser(stateInfo[s].lockdown),\r\n                color: colors[i],\r\n            }\r\n        });\r\n\r\n        const nested = nest()\r\n            .key(d => d.state)\r\n            .entries(dataStates);\r\n\r\n        Object.keys(nested).forEach(i => {\r\n            const s = nested[i].key;\r\n\r\n            const lastIndex = nested[i].values.length - 1;\r\n            const latestCaseCount = nested[i].values[lastIndex].cases;\r\n            revisedStates[s] = {\r\n                ...revisedStates[s],\r\n                latestCaseCount: latestCaseCount\r\n            };\r\n        });\r\n        setSelectedStates(revisedStates);\r\n    }, [dataStates]);\r\n\r\n    return (\r\n        <div>\r\n            <FormGroup style={{alignItems: 'left', backgroundColor: '#29293d'}}>\r\n                <FormControlLabel\r\n                id=\"select-all\"\r\n                label=\"Select All\"\r\n                name=\"Select All\"\r\n                onClick={handleSelectAll} \r\n                control={\r\n                    <IconButton \r\n                        id='selector-all' \r\n                        name=\"select-all\"\r\n                        style={{color: 'green'}}\r\n                    >\r\n                        <CheckIcon />\r\n                    </IconButton>\r\n                }\r\n                />\r\n                <FormControlLabel\r\n                    id=\"deselect-all\"\r\n                    label=\"Deselect All\"\r\n                    name=\"Deselect All\"\r\n                    onClick={handleDeselectAll}  \r\n                    control={\r\n                        <IconButton \r\n                            id='deselector-all' \r\n                            name=\"deselect-all\"\r\n                            style={{color: 'red'}}\r\n                        >\r\n                            <ClearIcon />\r\n                        </IconButton>\r\n                    }\r\n                /><br />\r\n                <Typography variant=\"h6\">Selected</Typography>\r\n                <Divider style={{backgroundColor: \"white\"}} />\r\n                {selectedStates\r\n                    ? Object.keys(selectedStates).sort()\r\n                        .filter(s => selectedStates[s].selected === true)\r\n                        .map((state, i) => {\r\n                            return (\r\n                                <FormControlLabel\r\n                                    key={i} \r\n                                    id={selectedStates[state].htmlFormat}\r\n                                    name={state}\r\n                                    checked={selectedStates[state].selected}\r\n                                    onChange={handleChange}\r\n                                    control={<Checkbox name={state} style={{color: selectedStates[state].color}}/>}\r\n                                    label={`${state} (${selectedStates[state].abbreviation})`} \r\n                                />\r\n                            )\r\n                        })\r\n                    : <div />\r\n                }<br />\r\n                <Typography variant=\"h6\">Not Selected</Typography>\r\n                <Divider style={{backgroundColor: \"white\"}} />\r\n                {selectedStates\r\n                    ? Object.keys(selectedStates).sort()\r\n                        .filter(s => selectedStates[s].selected === false)\r\n                        .map((state, i) => {\r\n                            return (\r\n                                <FormControlLabel\r\n                                    key={i} \r\n                                    id={selectedStates[state].htmlFormat}\r\n                                    name={state}\r\n                                    checked={selectedStates[state].selected}\r\n                                    onChange={handleChange}\r\n                                    control={<Checkbox name={state} style={{color: selectedStates[state].color}}/>}\r\n                                    label={`${state} (${selectedStates[state].abbreviation})`} \r\n                                />\r\n                            )\r\n                        })\r\n                    : <div />\r\n                }\r\n            </FormGroup>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport { Dashboard };","import React, { useState } from \"react\";\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  ClickAwayListener,\r\n  Drawer,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\n\r\n// components\r\nimport { BatchSelect } from \"./BatchSelect\";\r\nimport { Dashboard } from \"./Dashboard\";\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuOutlinedIcon from \"@material-ui/icons/MenuOutlined\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\n\r\nconst drawerWidth = 250;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    backgroundColor: \"#000018\",\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    color: \"#ffffff\",\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 1,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n    backgroundColor: theme.palette.background.default,\r\n  }\r\n}));\r\n\r\nconst FilterBar = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClickAway = (e) => {\r\n    if (e.x > drawerWidth && e.y > 70 && open) {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        position=\"relative\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuOutlinedIcon />\r\n          </IconButton>\r\n          <BatchSelect />\r\n        </Toolbar>\r\n      </AppBar>\r\n      <ClickAwayListener onClickAway={handleClickAway}>\r\n        <Drawer\r\n          className={classes.drawer}\r\n          variant=\"persistent\"\r\n          anchor=\"left\"\r\n          open={open}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n        >\r\n          <div className={classes.drawerHeader}>\r\n            <IconButton color=\"inherit\" edge=\"end\" onClick={handleDrawerClose}>\r\n              <ChevronLeftIcon />\r\n            </IconButton>\r\n          </div>\r\n          <Divider />\r\n          <Dashboard />\r\n        </Drawer>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { FilterBar };\r\n","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n      background: {\r\n        default: \"#29293d\",\r\n      },\r\n      text: {\r\n        primary: \"#fff\",\r\n        secondary: \"#f2ffcc\",\r\n      },\r\n      contrastThreshold: 3,\r\n    },\r\n    typography: {\r\n      fontFamily: \"Raleway, Arial\",\r\n    },\r\n    overrides: {\r\n      MuiMenu: {\r\n        paper: {\r\n          backgroundColor: \"#29293d\"\r\n        },\r\n      },\r\n      MuiPickersCalendarHeader: {\r\n        switchHeader: {\r\n          color: \"#29293d\",\r\n        },\r\n      },\r\n      MuiPickersDay: {\r\n        day: {\r\n          color: \"#29293d\",\r\n        },\r\n        daySelected: {\r\n          backgroundColor: \"#29293d\",\r\n        },\r\n        dayDisabled: {\r\n          color: \"#29293d\",\r\n        },\r\n        current: {\r\n          color: \"#29293d\",\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\nexport { theme };","import React from 'react';\r\nimport { saveSvgAsPng } from 'save-svg-as-png';\r\n\r\n// constants\r\nimport { dimensions } from '../util/constants';\r\n\r\n// styles\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport '../../styles/styles.css';\r\nimport { theme } from '../../styles/theme';\r\nimport { IconButton, Tooltip } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nconst { margin } = dimensions;\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        color: '#f2ffcc',\r\n        textAlign: 'left',\r\n        padding: 0,\r\n        fontSize: 10,\r\n        marginLeft: margin.left,\r\n        marginRight: margin.right\r\n    },\r\n    saveButton: {\r\n        color: '#f2ffcc',\r\n        float: 'left',\r\n        marginLeft: margin.left,\r\n        marginRight: margin.right,\r\n        padding: 0\r\n    }\r\n});\r\n\r\nconst Footnotes = () => {\r\n    const classes = useStyles();\r\n\r\n    const saveImage = () => {\r\n        saveSvgAsPng(document.querySelector(\"#chart\"), \"covid-19_chart.png\", {\r\n            backgroundColor: theme.palette.background.default,\r\n            encoderOptions: 1 \r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <p className={classes.root}>Line marking indicates day of lockdown order/advisory</p>\r\n            <p className={classes.root}>Freeze/unfreeze focus by clicking on chart</p>\r\n            <p className={classes.root}>*Data from The New York Times, based on reports from state and local health agencies.</p>\r\n            <p className={classes.root}>**Population data from US Census Bureau (2019).</p>\r\n            <p className={classes.root}>***WA: although 2/27 is counted as 'Day 1,' WA had an isolated case on 1/21.</p>\r\n            <Tooltip title=\"Save chart as image\" placement=\"right\">\r\n            <IconButton onClick={saveImage} className={classes.saveButton}>\r\n                <SaveIcon />\r\n            </IconButton>\r\n            </Tooltip>\r\n        </>\r\n    )\r\n};\r\n\r\nexport { Footnotes };","import React, { useState, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\n// data\r\nimport USStates from \"./data/us-states.csv\";\r\nimport stateInfo from \"./data/stateInfo.json\";\r\n\r\n// components\r\nimport { ChartUSCompare } from \"./components/chart/ChartUSCompare\";\r\nimport { FilterBar } from \"./components/dataParams/FilterBar\";\r\nimport { Footnotes } from \"./components/chart/Footnotes\";\r\n// import { FileSaver } from \"./components/util/FileSaver\";\r\n\r\n// context\r\nimport { dataContext } from \"./context/dataContext\";\r\nimport { statesContext } from \"./context/statesContext\";\r\n\r\n// styles\r\nimport './styles/styles.css';\r\nimport { theme } from './styles/theme';\r\n\r\nfunction App() {\r\n  const [dataStates, setDataStates] = useState([]);\r\n  const [selectedStates, setSelectedStates] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // get COVID-19 state data\r\n    d3.csv(USStates).then((data) => {\r\n      // clean data\r\n      const dateParser = d3.timeParse(\"%Y-%m-%d\");\r\n\r\n      data.forEach((d) => {\r\n        d.date = dateParser(d.date);\r\n        d.fips = parseInt(d.fips);\r\n        d.cases = parseInt(d.cases);\r\n        d.deaths = parseInt(d.deaths);\r\n      });\r\n\r\n      // Filter data:\r\n      // Prior to 02-27-20, Washington had 1 or 2 cases from January.\r\n      // However, these were isolated cases and this graph is trying to track Covid-19 spread\r\n      // Also filter out territories Guam, Puerto Rico, etc.\r\n      data = data.filter(\r\n        (d) =>\r\n          d.date > new Date(2020, 1, 26) &&\r\n          Object.keys(stateInfo).includes(d.state)\r\n      );\r\n\r\n      // Normalize data:\r\n      // Add \"dayOfOutbreak\" to show elapsed time\r\n      // Add state population\r\n      // Add \"casesPerThousand\" and \"deathsPerThousand\"\r\n      Object.keys(stateInfo).forEach((state) => {\r\n        const stateData = data.filter((d) => d.state === state);\r\n        stateData.forEach((d) => {\r\n          d.dayOfOutbreak =\r\n            (d.date - stateData[0].date) / (24 * 60 * 60 * 10 * 10 * 10) + 1; // day - day one, convert ms to days\r\n          d.casesPerThousand = (d.cases / stateInfo[state].population) * 1000;\r\n          d.deathsPerThousand = (d.deaths / stateInfo[state].population) * 1000;\r\n        });\r\n      });\r\n      setDataStates(data);\r\n      console.log(\"imported dataset\");\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div minWidth=\"sm\">\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <dataContext.Provider value={{ dataStates, setDataStates }}>\r\n          <statesContext.Provider value={{ selectedStates, setSelectedStates }}>\r\n            <ThemeProvider theme={theme}>\r\n              <FilterBar className=\"header\" />\r\n              <ChartUSCompare className=\"chart\" />\r\n              <Footnotes />\r\n            </ThemeProvider>\r\n          </statesContext.Provider>\r\n        </dataContext.Provider>\r\n      </MuiPickersUtilsProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/us-states.4f693cde.csv\";"],"sourceRoot":""}