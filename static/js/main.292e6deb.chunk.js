(this.webpackJsonpcovidcompare=this.webpackJsonpcovidcompare||[]).push([[0],{132:function(e,t,a){e.exports=a.p+"static/media/us-states.498a15ba.csv"},18:function(e){e.exports=JSON.parse('{"Alabama":{"name":"Alabama","abbreviation":"AL","htmlFormat":"alabama","lockdown":"04-04-20","lockdownEnd":"04-30-20","population":4903185,"populationDensity":97,"region":"South","division":"East South Central","governor":"Republican","gdp":230968.2,"selected":false},"Alaska":{"name":"Alaska","abbreviation":"AK","htmlFormat":"alaska","lockdown":"03-28-20","lockdownEnd":"none as of 05-03","population":731545,"populationDensity":1,"region":"West","division":"Pacific","governor":"Republican","gdp":55406.1,"selected":false},"Arizona":{"name":"Arizona","abbreviation":"AZ","htmlFormat":"arizona","lockdown":"03-31-20","lockdownEnd":"none as of 05-03","population":7278717,"populationDensity":65,"region":"West","division":"Mountain","governor":"Republican","gdp":366189.9,"selected":false},"Arkansas":{"name":"Arkansas","abbreviation":"AR","htmlFormat":"arkansas","lockdown":"none as of 04-24","lockdownEnd":"none as of 05-03","population":3017804,"populationDensity":58,"region":"South","division":"West South central","governor":"Republican","gdp":133180.9,"selected":false},"California":{"name":"California","abbreviation":"CA","htmlFormat":"california","lockdown":"03-19-20","lockdownEnd":"none as of 05-03","population":39512223,"populationDensity":256,"region":"West","division":"Pacific","governor":"Democrat","gdp":3137469,"selected":true},"Colorado":{"name":"Colorado","abbreviation":"CO","htmlFormat":"colorado","lockdown":"03-26-20","lockdownEnd":"04-26-20","population":5758736,"populationDensity":56,"region":"West","division":"Mountain","governor":"Republican","gdp":390283.9,"selected":false},"Connecticut":{"name":"Connecticut","abbreviation":"CT","htmlFormat":"connecticut","lockdown":"03-23-20","lockdownEnd":"none as of 05-03","population":3565287,"populationDensity":736,"region":"Northeast","division":"New England","governor":"Democrat","gdp":285640.4,"selected":false},"Delaware":{"name":"Delaware","abbreviation":"DE","htmlFormat":"delaware","lockdown":"03-24-20","lockdownEnd":"none as of 05-03","population":973764,"populationDensity":504,"region":"South","division":"South Atlantic","governor":"Democrat","gdp":75415.5,"selected":false},"District of Columbia":{"name":"District of Columbia","abbreviation":"DC","htmlFormat":"district-of-columbia","lockdown":"04-01-20","lockdownEnd":"none as of 05-03","population":705749,"populationDensity":11815,"region":"South","division":"South Atlantic","governor":"n/a","gdp":146194.3,"selected":false},"Florida":{"name":"Florida","abbreviation":"FL","htmlFormat":"florida","lockdown":"04-02-20","lockdownEnd":"none as of 05-03","population":21477737,"populationDensity":410,"region":"South","division":"South Atlantic","governor":"Republican","gdp":1093350.7,"selected":true},"Georgia":{"name":"Georgia","abbreviation":"GA","htmlFormat":"georgia","lockdown":"04-03-20","lockdownEnd":"04-30-20","population":10617423,"populationDensity":187,"region":"South","division":"South Atlantic","governor":"Republican","gdp":616333.3,"selected":false},"Hawaii":{"name":"Hawaii","abbreviation":"HI","htmlFormat":"hawaii","lockdown":"03-25-20","lockdownEnd":"none as of 05-03","population":1415872,"populationDensity":220,"region":"West","division":"Pacific","governor":"Democrat","gdp":97281.7,"selected":true},"Idaho":{"name":"Idaho","abbreviation":"ID","htmlFormat":"idaho","lockdown":"03-25-20","lockdownEnd":"04-30-20","population":1787065,"populationDensity":22,"region":"West","division":"Mountain","governor":"Republican","gdp":80911,"selected":false},"Illinois":{"name":"Illinois","abbreviation":"IL","htmlFormat":"illinois","lockdown":"03-21-20","lockdownEnd":"none as of 05-03","population":12671821,"populationDensity":228,"region":"Midwest","division":"East North Central","governor":"Democrat","gdp":897123.5,"selected":true},"Indiana":{"name":"Indiana","abbreviation":"IN","htmlFormat":"indiana","lockdown":"03-24-20","lockdownEnd":"none as of 05-03","population":6732219,"populationDensity":188,"region":"Midwest","division":"East North Central","governor":"Republican","gdp":377104.3,"selected":false},"Iowa":{"name":"Iowa","abbreviation":"IA","htmlFormat":"iowa","lockdown":"none as of 04-24","lockdownEnd":"none as of 05-03","population":3155070,"populationDensity":57,"region":"Midwest","division":"West North Central","governor":"Republican","gdp":194788.7,"selected":false},"Kansas":{"name":"Kansas","abbreviation":"KS","htmlFormat":"kansas","lockdown":"03-30-20","lockdownEnd":"none as of 05-03","population":2913314,"populationDensity":36,"region":"Midwest","division":"West North Central","governor":"Democrat","gdp":173142.5,"selected":false},"Kentucky":{"name":"Kentucky","abbreviation":"KY","htmlFormat":"kentucky","lockdown":"03-26-20","lockdownEnd":"none as of 05-03","population":4467673,"populationDensity":114,"region":"South","division":"East South Central","governor":"Democrat","gdp":214671.2,"selected":false},"Louisiana":{"name":"Louisiana","abbreviation":"LA","htmlFormat":"louisiana","lockdown":"03-23-20","lockdownEnd":"none as of 05-03","population":4648794,"populationDensity":108,"region":"South","division":"West South central","governor":"Democrat","gdp":263856.8,"selected":true},"Maine":{"name":"Maine","abbreviation":"ME","htmlFormat":"maine","lockdown":"04-02-20","lockdownEnd":"04-30-20","population":1344212,"populationDensity":44,"region":"Northeast","division":"New England","governor":"Democrat","gdp":67518.6,"selected":false},"Maryland":{"name":"Maryland","abbreviation":"MD","htmlFormat":"maryland","lockdown":"03-30-20","lockdownEnd":"none as of 05-03","population":6045680,"populationDensity":627,"region":"South","division":"South Atlantic","governor":"Republican","gdp":428338.6,"selected":false},"Massachusetts":{"name":"Massachusetts","abbreviation":"MA","htmlFormat":"massachusetts","lockdown":"03-24-20","lockdownEnd":"none as of 05-03","population":6892503,"populationDensity":894,"region":"Northeast","division":"New England","governor":"Republican","gdp":595558.7,"selected":false},"Michigan":{"name":"Michigan","abbreviation":"MI","htmlFormat":"michigan","lockdown":"03-24-20","lockdownEnd":"none as of 05-03","population":9986857,"populationDensity":178,"region":"Midwest","division":"East North Central","governor":"Democrat","gdp":541550.6,"selected":true},"Minnesota":{"name":"Minnesota","abbreviation":"MN","htmlFormat":"minnesota","lockdown":"03-27-20","lockdownEnd":"none as of 05-03","population":5639632,"populationDensity":72,"region":"Midwest","division":"West North Central","governor":"Democrat","gdp":380854.9,"selected":false},"Mississippi":{"name":"Mississippi","abbreviation":"MS","htmlFormat":"mississippi","lockdown":"04-03-20","lockdownEnd":"04-27-20","population":2976149,"populationDensity":64,"region":"South","division":"East South Central","governor":"Republican","gdp":118779.9,"selected":false},"Missouri":{"name":"Missouri","abbreviation":"MO","htmlFormat":"missouri","lockdown":"04-06-20","lockdownEnd":"none as of 05-03","population":6137428,"populationDensity":90,"region":"Midwest","division":"West North Central","governor":"Republican","gdp":332082.1,"selected":false},"Montana":{"name":"Montana","abbreviation":"MT","htmlFormat":"montana","lockdown":"03-28-20","lockdownEnd":"04-26-20","population":1068778,"populationDensity":7,"region":"West","division":"Mountain","governor":"Democrat","gdp":332082.1,"selected":false},"Nebraska":{"name":"Nebraska","abbreviation":"NE","htmlFormat":"nebraska","lockdown":"none as of 04-24","lockdownEnd":"none as of 05-03","population":1934408,"populationDensity":25,"region":"Midwest","division":"West North Central","governor":"Republican","gdp":127036.5,"selected":false},"Nevada":{"name":"Nevada","abbreviation":"NV","htmlFormat":"nevada","lockdown":"04-02-20","lockdownEnd":"none as of 05-03","population":3080156,"populationDensity":29,"region":"West","division":"Mountain","governor":"Democrat","gdp":177614.6,"selected":false},"New Hampshire":{"name":"New Hampshire","abbreviation":"NH","htmlFormat":"new-hampshire","lockdown":"03-27-20","lockdownEnd":"none as of 05-03","population":1359711,"populationDensity":153,"region":"Northeast","division":"New England","governor":"Republican","gdp":88595,"selected":false},"New Jersey":{"name":"New Jersey","abbreviation":"NJ","htmlFormat":"new-jersey","lockdown":"03-21-20","lockdownEnd":"none as of 05-03","population":8882190,"populationDensity":1215,"region":"Northeast","division":"Mid-Atlantic","governor":"Democrat","gdp":644841.4,"selected":true},"New Mexico":{"name":"New Mexico","abbreviation":"NM","htmlFormat":"new-mexico","lockdown":"03-24-20","lockdownEnd":"none as of 05-03","population":2096829,"populationDensity":17,"region":"West","division":"Mountain","governor":"Democrat","gdp":104001.5,"selected":false},"New York":{"name":"New York","abbreviation":"NY","htmlFormat":"new-york","lockdown":"03-22-20","lockdownEnd":"none as of 05-03","population":19453561,"populationDensity":413,"region":"Northeast","division":"Mid-Atlantic","governor":"Democrat","gdp":1731910.4,"selected":true},"North Carolina":{"name":"North Carolina","abbreviation":"NC","htmlFormat":"north-carolina","lockdown":"03-30-20","lockdownEnd":"none as of 05-03","population":10488084,"populationDensity":218,"region":"South","division":"South Atlantic","governor":"Democrat","gdp":587711,"selected":false},"North Dakota":{"name":"North Dakota","abbreviation":"ND","htmlFormat":"north-dakota","lockdown":"none as of 04-24","lockdownEnd":"none as of 05-03","population":762062,"populationDensity":11,"region":"Midwest","division":"West North Central","governor":"Republican","gdp":57036.8,"selected":false},"Ohio":{"name":"Ohio","abbreviation":"OH","htmlFormat":"ohio","lockdown":"03-23-20","lockdownEnd":"none as of 05-03","population":11689100,"populationDensity":288,"region":"Midwest","division":"East North Central","governor":"Republican","gdp":698458.2,"selected":false},"Oklahoma":{"name":"Oklahoma","abbreviation":"OK","htmlFormat":"oklahoma","lockdown":"04-02-20","lockdownEnd":"none as of 05-03","population":3956971,"populationDensity":58,"region":"South","division":"West South central","governor":"Republican","gdp":206058.1,"selected":false},"Oregon":{"name":"Oregon","abbreviation":"OR","htmlFormat":"oregon","lockdown":"03-23-20","lockdownEnd":"none as of 05-03","population":4217737,"populationDensity":45,"region":"West","division":"Pacific","governor":"Democrat","gdp":251604.5,"selected":false},"Pennsylvania":{"name":"Pennsylvania","abbreviation":"PA","htmlFormat":"pennsylvania","lockdown":"04-02-20","lockdownEnd":"none as of 05-03","population":12801989,"populationDensity":287,"region":"Northeast","division":"Mid-Atlantic","governor":"Democrat","gdp":813513.6,"selected":true},"Rhode Island":{"name":"Rhode Island","abbreviation":"RI","htmlFormat":"rhode-island","lockdown":"03-28-20","lockdownEnd":"none as of 05-03","population":1059361,"populationDensity":1021,"region":"Northeast","division":"New England","governor":"Democrat","gdp":63541.1,"selected":false},"South Carolina":{"name":"South Carolina","abbreviation":"SC","htmlFormat":"south-carolina","lockdown":"04-07-20","lockdownEnd":"none as of 05-03","population":5148714,"populationDensity":173,"region":"South","division":"South Atlantic","governor":"Republican","gdp":246308.9,"selected":false},"South Dakota":{"name":"South Dakota","abbreviation":"SD","htmlFormat":"south-dakota","lockdown":"none as of 04-24","lockdownEnd":"none as of 05-03","population":884659,"populationDensity":12,"region":"Midwest","division":"West North Central","governor":"Republican","gdp":53305.7,"selected":false},"Tennessee":{"name":"Tennessee","abbreviation":"TN","htmlFormat":"tennessee","lockdown":"03-31-20","lockdownEnd":"04-30-20","population":6829174,"populationDensity":167,"region":"South","division":"East South Central","governor":"Republican","gdp":380137.9,"selected":false},"Texas":{"name":"Texas","abbreviation":"TX","htmlFormat":"texas","lockdown":"04-02-20","lockdownEnd":"04-30-20","population":28995881,"populationDensity":113,"region":"South","division":"West South central","governor":"Republican","gdp":1886956.1,"selected":false},"Utah":{"name":"Utah","abbreviation":"UT","htmlFormat":"utah","lockdown":"none as of 04-24","lockdownEnd":"none as of 05-03","population":3205958,"populationDensity":40,"region":"West","division":"Mountain","governor":"Republican","gdp":188501.4,"selected":false},"Vermont":{"name":"Vermont","abbreviation":"VT","htmlFormat":"vermont","lockdown":"03-25-20","lockdownEnd":"none as of 05-03","population":623989,"populationDensity":68,"region":"Northeast","division":"New England","governor":"Republican","gdp":34785.1,"selected":false},"Virginia":{"name":"Virginia","abbreviation":"VA","htmlFormat":"virginia","lockdown":"03-30-20","lockdownEnd":"none as of 05-03","population":8535519,"populationDensity":218,"region":"South","division":"South Atlantic","governor":"Democrat","gdp":554211,"selected":false},"Washington":{"name":"Washington","abbreviation":"WA","htmlFormat":"washington","lockdown":"03-23-20","lockdownEnd":"none as of 05-03","population":7614893,"populationDensity":117,"region":"West","division":"Pacific","governor":"Democrat","gdp":599607.7,"selected":true},"West Virginia":{"name":"West Virginia","abbreviation":"WV","htmlFormat":"west-virginia","lockdown":"03-24-20","lockdownEnd":"none as of 05-03","population":1792147,"populationDensity":74,"region":"South","division":"South Atlantic","governor":"Republican","gdp":78189.5,"selected":false},"Wisconsin":{"name":"Wisconsin","abbreviation":"WI","htmlFormat":"wisconsin","lockdown":"03-25-20","lockdownEnd":"none as of 05-03","population":5822434,"populationDensity":108,"region":"Midwest","division":"East North Central","governor":"Democrat","gdp":347306.1,"selected":false},"Wyoming":{"name":"Wyoming","abbreviation":"WY","htmlFormat":"wyoming","lockdown":"none as of 04-24","lockdownEnd":"none as of 05-03","population":578759,"populationDensity":6,"region":"West","division":"Mountain","governor":"Republican","gdp":39646.2,"selected":false}}')},211:function(e,t,a){e.exports=a(223)},216:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(13),l=a.n(r),i=a(11),c=a(7),s=a(142),d=a(40),u=a(6),m=a(277),p=a(276),f=a(77),h=a(132),g=a.n(h),b=a(18),y=a(133),E={dateFormatter:u.n("%m-%d-%y"),dateParser:u.o("%m-%d-%y")},v=750,w={top:80,right:100,bottom:140,left:100},k=(window.innerWidth,w.left,w.right,w.top,w.bottom,a(258)),O=a(21),S=(a(216),a(284)),j=a(263),C=a(138),x=a.n(C),D=a(139),F=a.n(D),P=w,N=Object(k.a)((function(e){return{footnoteText:{color:e.palette.text.primary,textAlign:"left",padding:0,fontSize:10,marginLeft:P.left,marginRight:P.right},saveButton:{color:e.palette.text.secondary,float:"left",marginLeft:P.left,padding:0},themeButton:{color:e.palette.text.secondary,float:"left",marginLeft:20,padding:0}}})),T=function(e){var t=e.darkMode,a=e.setDarkMode,n=N(),r=Object(O.a)(),l=window.location.pathname.replace("/","");return o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,{title:"Save chart as image",placement:"right"},o.a.createElement(j.a,{onClick:function(){Object(y.saveSvgAsPng)(document.querySelector("#".concat(l)),"covid-19_chart.png",{backgroundColor:r.palette.background.default,encoderOptions:1,fonts:[{url:"../../styles/ralewaymedium/raleway-medium-webfont.woff",format:"application/font-woff",text:"@font-face {font-family: 'ralewaymedium'; src: url('./ralewaymedium/raleway-medium-webfont.woff2') format('woff2'), url('./ralewaymedium/raleway-medium-webfont.woff') format('woff'); font-weight: normal;font-style: normal;}"}]})},className:n.saveButton},o.a.createElement(x.a,null))),o.a.createElement(S.a,{title:"Toggle dark/light theme",placement:"right"},o.a.createElement(j.a,{onClick:function(){return a(!t)},className:n.themeButton},o.a.createElement(F.a,null))))},A=a(17),M={wrapperWidth:.8*window.innerWidth,wrapperHeight:.8*window.innerHeight,marginTop:30,marginRight:30,marginBottom:40,marginLeft:60},B={width:M.wrapperWidth-M.marginLeft-M.marginRight,height:M.wrapperHeight-M.marginTop-M.marginBottom},R={chartType:"bubble",toTimestamp:null,multiple:!0,normalize:!0,xParam:{output:"x-axis",type:"linear",format:"none",selected:"casesPerThousand",alt1:"cases",options:["casesPerThousand","cases","deathsPerThousand","deaths"]},yParam:{output:"y-axis",type:"linear",format:"none",selected:"deathsPerThousand",alt1:"deaths",options:["casesPerThousand","cases","deathsPerThousand","deaths"]},zParam:{output:"circle-area",type:"linear",format:"none",selected:"population",options:["population","populationDensity","gdp","none"]},cParam:{output:"color-grouping",type:"categorical",selected:"region",options:["region","division","governor"]},tParam:{output:"time",type:"time",selected:"dayOfOutbreak",options:["dayOfOutbreak","date"]}},W=o.a.createContext(),L=a(46),I=o.a.createContext(),H=o.a.createContext(),z=function(e){var t=e.data,a=e.dayCounter,r=e.selector,l=e.scales,s=e.opacityNotSel,d=r.xParam,m=r.yParam,p=r.zParam,f=r.cParam,h=l.xScale,g=l.yScale,b=l.colorScale,y=Object(n.useContext)(I).infoStates,E=Object(n.useContext)(H),v=E.selectedCircles,w=E.setSelectedCircles,O=Object(n.useRef)(null),S=Object(k.a)((function(e){return{circle:{stroke:"none",opacity:s},circleSelected:{stroke:"#e91e63",strokeWidth:2,opacity:.8}}}))(),j=u.c((function(e){return Object(c.a)(e,1)[0]})).left;function C(e,t){var a=j(e,t,0,e.length-1),n=e[a];if(a>0){var o=e[a-1],r=(t-n[0])/(o[0]-n[0]);return n[1]*(1-r)+o[1]*r}return n[1]}return Object(n.useEffect)((function(){if(t){var e=u.m(O.current).selectAll("circle").data((n=a,t.map((function(e){var t;return t={state:e.state,region:e.region},Object(A.a)(t,d.selected,C(e[d.selected],n)),Object(A.a)(t,m.selected,C(e[m.selected],n)),t}))),(function(e){return e})).join("circle").sort((function(e,t){return u.e(e[p],t[p])})).attr("r",(function(e){return"population"===p.selected?y[e.state][p.selected]/1e6:"populationDensity"===p.selected?y[e.state][p.selected]/100:"gdp"===p.selected?y[e.state][p.selected]/1e5:5})).attr("cx",(function(e){return h(e[d.selected])})).attr("cy",(function(e){return g(e[m.selected])})).attr("fill",(function(e){return b(y[e.state][f.selected])})).attr("id",(function(e){return"circle-".concat(y[e.state].htmlFormat)})).attr("class",(function(e){return v.selected.includes(e.state)?S.circleSelected:S.circle})).call((function(e){return e.append("title").text((function(e){return[e.state,"Day ".concat(a),"casesPerThousand"===d.selected?"Cases/1000: ".concat(e.casesPerThousand&&e.casesPerThousand.toFixed(2)):"cases"===d.selected?"Cases: ".concat(e.cases&&e.cases.toLocaleString()):"deathsPerThousand"===d.selected?"Deaths/1000: ".concat(e.deathsPerThousand&&e.deathsPerThousand.toFixed(2)):"deaths"===d.selected?"Deaths: ".concat(e.deaths&&e.deaths.toLocaleString()):"error","casesPerThousand"===m.selected?"Cases/1000: ".concat(e.casesPerThousand&&e.casesPerThousand.toFixed(2)):"cases"===m.selected?"Cases: ".concat(e.cases&&e.cases.toLocaleString()):"deathsPerThousand"===m.selected?"Deaths/1000: ".concat(e.deathsPerThousand&&e.deathsPerThousand.toFixed(2)):"deaths"===m.selected?"Deaths: ".concat(e.deaths&&e.deaths.toLocaleString()):"error"].join("\n")}))}));e.on("mouseover",(function(e){var t=u.m("#circle-".concat(y[e.state].htmlFormat));(0!==s||v.selected.includes(e.state))&&t.attr("cursor","pointer").style("opacity",.9).style("stroke","#e91e63").style("stroke-width",2)})),e.on("mouseout",(function(e){var t=u.m("#circle-".concat(y[e.state].htmlFormat));v.notSelected.includes(e.state)&&t.style("opacity",s).style("stroke","none")})),e.on("click",(function(e){v.selected.includes(e.state)?(w(Object(i.a)({},v,{selected:v.selected.filter((function(t){return t!==e.state})),notSelected:[].concat(Object(L.a)(v.notSelected),[e.state])})),u.m("#circle-".concat(y[e.state].htmlFormat)).style("opacity",s).style("stroke","none")):(w(Object(i.a)({},v,{selected:[].concat(Object(L.a)(v.selected),[e.state]),notSelected:v.notSelected.filter((function(t){return t!==e.state}))})),u.m("#circle-".concat(y[e.state].htmlFormat)).style("opacity",.9).style("stroke","#e91e63").style("stroke-width",2))}))}var n}),[a,r,l,v,s]),o.a.createElement(o.a.Fragment,null,o.a.createElement("g",{ref:O}))},G=a(225),V=a(285),Y=function(e){var t=e.opacityNotSel,a=e.setOpacityNotSel;return o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{variant:"caption"},"Non-selected opacity"),o.a.createElement(V.a,Object.assign({id:"opacity-slider",value:t,valueLabelDisplay:"auto",step:.1,min:0,max:1,onChange:function(e,t){return a(t)}},e)))},K=function(e){var t=e.dayCounter,a=e.setDayCounter;return o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{variant:"caption"},"Day of Outbreak"),o.a.createElement(V.a,{id:"day-counter-slider",value:t,valueLabelDisplay:"auto",step:1,min:1,max:60,onChange:function(e,t){return a(t)}}))},X=a(264),J=Object(k.a)((function(e){return{axes:{color:e.palette.text.primary},legend:{fontWeight:700,fontSize:".8rem"}}})),U={region:["Northeast","Midwest","South","West"],division:["New England","Mid-Atlantic","East North Central","West North Central","South Atlantic","East South Central","West South Central","Mountain","Pacific"],governor:["Republican","Democrat","n/a"]},q=function(e){var t=e.data,a=e.selector,r=e.wrapper,l=e.bounded,i=a.xParam,s=a.yParam,d=a.cParam,m=r.wrapperWidth,p=r.wrapperHeight,f=r.marginTop,h=(r.marginBottom,r.marginLeft),g=(r.marginRight,l.width),b=l.height,y=Object(n.useContext)(W).dataStates,E=Object(n.useState)(null),v=Object(c.a)(E,2),w=v[0],k=v[1],O=Object(n.useState)(1),S=Object(c.a)(O,2),j=S[0],C=S[1],x=Object(n.useState)(.6),D=Object(c.a)(x,2),F=D[0],P=D[1],N=J(),T=Object(n.useRef)(null),A=Object(n.useRef)(null),M=Object(n.useRef)(null),B=Object(n.useRef)(null);return Object(n.useEffect)((function(){y&&function(){var e,t=u.j().domain(u.f(y,(function(e){return e[i.selected]}))).range([0,g]),a=u.j().domain(u.f(y,(function(e){return e[s.selected]}))).range([b,0]);"region"===d.selected?e=u.k().domain(U.region).range(u.l):"division"===d.selected?e=u.k().domain(U.division).range(u.l):"governor"===d.selected&&(e=u.k().domain(U.governor).range(["#B61515","#2E84D5","#009C72"])),k({xScale:t,yScale:a,colorScale:e});var n=u.b().scale(a),o=u.a().scale(t);u.m(M.current).call(o).call((function(e){return e.append("text").attr("class","xLabel")})).selectAll(".xLabel").data(i.selected,(function(e){return e})).join("text").attr("x",g).attr("y",40).attr("class","xLabel").attr("text-anchor","end").attr("fill","white").text(i.selected),u.m(A.current).call(n).call((function(e){return e.append("text").attr("class","yLabel")})).selectAll(".yLabel").data(s.selected,(function(e){return e})).join("text").attr("x",0).attr("y",-40).attr("class","yLabel").attr("text-anchor","end").attr("transform","rotate(-90)").attr("fill","white").text(s.selected),u.m(B.current).selectAll("text").data(U[d.selected],(function(e){return e})).join((function(t){return t.append("text").attr("x","1rem").attr("y",-1e3).attr("fill",(function(t){return e(t)})).attr("text-anchor","start").text((function(e){return e})).call((function(e){return e.transition().duration(750).attr("y",(function(e,t){return 10-b+20*t}))}))}),(function(t){return t.append("text").attr("fill",(function(t){return e(t)})).attr("text-anchor","start").attr("y",60).text((function(e){return e})).call((function(e){return e.transition().duration(750)}))}),(function(e){return e.attr("fill","gray").attr("text-anchor","start").text((function(e){return e})).call((function(e){return e.transition().duration(750).attr("y",0).remove()}))}))}()}),[y,a]),Object(n.useEffect)((function(){u.m(".counter-display").join("text").text("Day ".concat(j))}),[j]),o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{id:"gapminder",className:"wrapper",height:p,width:m},o.a.createElement("g",{ref:T,className:"bounds",transform:"translate(".concat(h,", ").concat(f,")")},o.a.createElement("g",{ref:M,transform:"translate(0, ".concat(b,")"),className:N.axes}),o.a.createElement("g",{ref:A,className:N.axes}),o.a.createElement("g",{ref:B,transform:"translate(0, ".concat(b,")"),className:N.legend}),t&&w?o.a.createElement(z,Object.assign({},e,{scales:w,dayCounter:j,opacityNotSel:F})):o.a.createElement(o.a.Fragment,null))),o.a.createElement(X.a,{container:!0,style:{marginLeft:h,width:g,justifyContent:"space-evenly"}},o.a.createElement(X.a,{item:!0,style:{marginRight:32,flexGrow:2}},o.a.createElement(K,{dayCounter:j,setDayCounter:C})),o.a.createElement(X.a,{item:!0,style:{flexGrow:1}},o.a.createElement(Y,{opacityNotSel:F,setOpacityNotSel:P}))))},Z=a(3),$=a(266),_=a(267),Q=a(283),ee=a(271),te=a(281),ae=a(286),ne=a(145),oe=a(31),re=a.n(oe),le=[{id:"northeast",name:"Northeast",type:"Region",chartParam:"region"},{id:"midwest",name:"Midwest",type:"Region",chartParam:"region"},{id:"south",name:"South",type:"Region",chartParam:"region"},{id:"west",name:"West",type:"Region",chartParam:"region"}],ie=function(e){var t=e.handleFilter,a=Object(n.useContext)(I).infoStates,r=Object(n.useState)(null),l=Object(c.a)(r,2),i=l[0],s=l[1];return o.a.createElement(ae.a,{id:"region-btn",dense:!0,onClick:function(e){s(e.currentTarget)}},"Region",o.a.createElement(re.a,{style:{marginLeft:"auto"}}),o.a.createElement(ne.a,{anchorEl:i,open:!!i&&Boolean("region-btn"===i.id),onClose:function(){s(null)}},a&&le.map((function(e){return o.a.createElement(ae.a,{key:e.id,id:e.id,onClick:function(){return t(e)}},e.name)}))))},ce=[{id:"democrat",name:"Democrat",type:"Governor",chartParam:"governor"},{id:"republican",name:"Republican",type:"Governor",chartParam:"governor"}],se=function(e){var t=e.handleFilter,a=Object(n.useContext)(I).infoStates,r=Object(n.useState)(null),l=Object(c.a)(r,2),i=l[0],s=l[1];return o.a.createElement(ae.a,{id:"governor-btn",dense:!0,onClick:function(e){s(e.currentTarget)}},"Gov. party",o.a.createElement(re.a,{style:{marginLeft:"auto"}}),o.a.createElement(ne.a,{anchorEl:i,open:!!i&&Boolean("governor-btn"===i.id),onClose:function(){s(null)}},a&&ce.map((function(e){return o.a.createElement(ae.a,{key:e.id,id:e.id,onClick:function(){return t(e)}},e.name)}))))},de=function(e){var t=e.handleFilter,a=e.nStates,r=Object(n.useState)(null),l=Object(c.a)(r,2),i=l[0],s=l[1],d=[{id:"pop-high",name:"Top ".concat(a," (pop. total)"),type:"Pop.",chartParam:"population",sort:"descending",n:a},{id:"pop-low",name:"Bottom ".concat(a," (pop. total)"),type:"Pop.",chartParam:"population",sort:"ascending",n:a},{id:"pop-density-high",name:"Top ".concat(a," (pop. density)"),type:"Pop.",chartParam:"populationDensity",sort:"descending",n:a},{id:"pop-density-low",name:"Bottom ".concat(a," (pop. density)"),type:"Pop.",chartParam:"populationDensity",sort:"ascending",n:a}];return o.a.createElement(ae.a,{id:"pop-btn",dense:!0,onClick:function(e){s(e.currentTarget)}},"Population",o.a.createElement(re.a,{style:{marginLeft:"auto"}}),o.a.createElement(ne.a,{anchorEl:i,open:!!i&&Boolean("pop-btn"===i.id),onClose:function(){s(null)}},d.map((function(e){return o.a.createElement(ae.a,{key:e.id,id:e.id,onClick:function(){return t(e)}},e.name)}))))},ue=function(e){var t=e.handleFilter,a=e.nStates,r=Object(n.useState)(null),l=Object(c.a)(r,2),i=l[0],s=l[1],d=[{id:"gdp-high",name:"Top ".concat(a," (2019 GDP)"),type:"GDP",chartParam:"gdp",sort:"descending",n:a},{id:"gdp-low",name:"Bottom ".concat(a," (2019 GDP)"),type:"GDP",chartParam:"gdp",sort:"ascending",n:a}];return o.a.createElement(ae.a,{id:"gdp-btn",dense:!0,onClick:function(e){s(e.currentTarget)}},"GDP",o.a.createElement(re.a,{style:{marginLeft:"auto"}}),o.a.createElement(ne.a,{anchorEl:i,open:!!i&&Boolean("gdp-btn"===i.id),onClose:function(){s(null)}},d.map((function(e){return o.a.createElement(ae.a,{key:e.id,id:e.id,onClick:function(){return t(e)}},e.name)}))))},me=a(265),pe=a(287),fe=a(226),he=a(288),ge=Object(k.a)((function(e){return{button:{"&:hover":{backgroundColor:"transparent"}},chipContainer:{listStyle:"none",backgroundColor:e.palette.primary.main},chip:{backgroundColor:e.palette.secondary.main,padding:e.spacing(.5),margin:e.spacing(.5),fontSize:".7rem"}}})),be=function(e){var t=e.filters,a=e.handleDeleteFilter,r=e.handleFilter,l=e.nStates,s=Object(n.useContext)(H).setSelectedCircles,d=Object(n.useContext)(I).infoStates,u=Object(n.useState)(null),m=Object(c.a)(u,2),p=m[0],f=m[1],h=ge(),g=function(e){f(p?null:e.currentTarget)},b=function(){var e=[],a=[];t.forEach((function(t,n){"Region"===t.type||"Governor"===t.type?a=function(e){var t=Object.keys(d).filter((function(t){return d[t][e.chartParam]===e.name}));return f(null),t}(t):"Pop."!==t.type&&"GDP"!==t.type||(a=function(e){var t=e.n,a=Object.keys(d).sort((function(t,a){return"descending"===e.sort?d[a][e.chartParam]-d[t][e.chartParam]:d[t][e.chartParam]-d[a][e.chartParam]})).slice(0,t);return f(null),a}(t)),e=e.length<1?a:a.filter((function(t){return e.includes(t)}))})),s((function(t){return Object(i.a)({},t,{selected:e,notSelected:t.all.filter((function(t){return!e.includes(t)}))})}))};return Object(n.useEffect)((function(){t.length>0?b():s((function(e){return Object(i.a)({},e,{selected:[],notSelected:e.all})}))}),[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{id:"select-filter",onClick:g,className:h.button},"New Filter",o.a.createElement(re.a,{style:{marginLeft:"auto"}})),o.a.createElement(ne.a,{anchorEl:p,open:!!p&&Boolean("select-filter"===p.id),onClose:g},o.a.createElement(pe.a,null,o.a.createElement(ie,{handleFilter:r}),o.a.createElement(se,{handleFilter:r}),o.a.createElement(de,{handleFilter:r,nStates:l}),o.a.createElement(ue,{handleFilter:r,nStates:l}))),o.a.createElement(fe.a,{component:"ul",className:h.chipContainer},t.length>0?t.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(he.a,{size:"small",className:h.chip,label:e.name,onDelete:function(){return a(e)}}))})):o.a.createElement(G.a,null,"No filters")))},ye=a(72),Ee=a.n(ye),ve=Object(k.a)((function(e){return{dashboard:{alignItems:"left",backgroundColor:e.palette.primary.main,color:e.palette.text.primary},dashboardTitle:{color:e.palette.primary.contrastText,fontWeight:700,fontSize:"1.2rem"},dashboardDivider:{backgroundColor:e.palette.primary.contrastText,marginBottom:".2rem"},filterBatch:{justifyContent:"flex-start",color:e.palette.text.primary}}})),we=function(e){var t=Object(n.useContext)(H),a=t.selectedCircles,r=t.setSelectedCircles,l=ve(),s=Object(O.a)(),d=Object(n.useState)([]),u=Object(c.a)(d,2),m=u[0],p=u[1],f=Object(n.useState)(12),h=Object(c.a)(f,2),g=h[0],b=h[1],y=function(e){var t=e.target.name;a.selected.includes(t)?r(Object(i.a)({},a,{selected:a.selected.filter((function(e){return e!==t})),notSelected:[].concat(Object(L.a)(a.notSelected),[t])})):r(Object(i.a)({},a,{selected:[].concat(Object(L.a)(a.selected),[t]),notSelected:a.notSelected.filter((function(e){return e!==t}))}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{className:l.dashboard},o.a.createElement(_.a,{id:"deselect-all",label:"Deselect All",name:"Deselect All",onClick:function(){p([]),r((function(e){return Object(i.a)({},e,{selected:[],notSelected:e.all})}))},control:o.a.createElement(j.a,{id:"deselector-all",name:"deselect-all",style:{color:"red"}},o.a.createElement(Ee.a,null))}),o.a.createElement("br",null),o.a.createElement(Q.a,{id:"n-states",variant:"outlined",size:"small",type:"number",label:"Filter n states",InputProps:{inputProps:{min:1,max:50}},defaultValue:g,onChange:function(e){return b(e.target.value)}}),o.a.createElement(G.a,{className:l.dashboardTitle},"Filters"),o.a.createElement(ee.a,{className:l.dashboardDivider}),o.a.createElement(be,{className:l.filterBatch,nStates:g,setNStates:b,filters:m,setFilters:p,handleDeleteFilter:function(e){var t=m.filter((function(t){return t.id!==e.id}));p(t)},handleFilter:function(e){m.length>0?p((function(t){return[].concat(Object(L.a)(t),[e])})):p([e])}}),o.a.createElement(G.a,{className:l.dashboardTitle},"Selected"),o.a.createElement(ee.a,{className:l.dashboardDivider}),a.selected?a.selected.sort().map((function(e,t){return o.a.createElement(_.a,{key:t,name:e,checked:a.selected.includes(e),onChange:y,control:o.a.createElement(te.a,{name:e,style:{color:s.palette.primary.contrastText}}),label:e})})):o.a.createElement("div",null),o.a.createElement("br",null),o.a.createElement(G.a,{className:l.dashboardTitle},"Not Selected"),o.a.createElement(ee.a,{className:l.dashboardDivider}),a.notSelected?a.notSelected.sort().map((function(e,t){return o.a.createElement(_.a,{key:t,name:e,checked:a.selected.includes(e),onChange:y,control:o.a.createElement(te.a,{name:e,style:{color:s.palette.primary.contrastText}}),label:e})})):o.a.createElement("div",null)))},ke=a(270),Oe=a(290),Se=a(280),je=Object(k.a)((function(e){return{filterSelector:{minWidth:150,fontWeight:500,fontSize:".8rem",marginRight:30},filterMenuItem:{color:e.palette.text.primary,fontWeight:500,fontSize:".8rem"}}})),Ce=function(e){var t=e.selector,a=e.handleSelector,n=je();return o.a.createElement(o.a.Fragment,null,Object.keys(t).map((function(e){return o.a.createElement(ke.a,{key:t[e].output},o.a.createElement(Oe.a,null,t[e].output),o.a.createElement(Se.a,{name:e,value:t[e].selected,onChange:a,className:n.filterSelector},t[e].options.map((function(e){return o.a.createElement(ae.a,{key:e,value:e,className:n.filterMenuItem},e)}))))})))},xe=a(272),De=a(273),Fe=a(274),Pe=a(282),Ne=a(76),Te=a.n(Ne),Ae=a(75),Me=a.n(Ae),Be=a(73),Re=a.n(Be),We=a(74),Le=a.n(We),Ie=Object(k.a)((function(e){return{root:{display:"flex"},appBar:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(250,"px)"),marginLeft:250,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{color:e.palette.primary.contrastText,"&:hover":{backgroundColor:"transparent"}},hide:{display:"none"},drawer:{width:250,flexShrink:1},drawerPaper:{width:250},drawerHeader:Object(i.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end",backgroundColor:e.palette.background.default}),tab:{opacity:.7},menuItem:{opacity:.7,"&:hover":{opacity:1},toolbar:{display:"flex",justifyContent:"flex-start"}}}})),He=function(e){var t=e.data,a=e.selector,r=e.handleSelector,l=Object(n.useState)(!1),i=Object(c.a)(l,2),s=i[0],d=i[1],u=Ie(),m=Object(O.a)(),p=function(){d(!s)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(xe.a,{position:"relative",className:Object(Z.a)(u.appBar,Object(A.a)({},u.appBarShift,s))},o.a.createElement(De.a,{className:u.toolbar},o.a.createElement(j.a,{onClick:p,edge:"start",disableRipple:!0,className:Object(Z.a)(u.menuButton,s&&u.hide)},o.a.createElement(Re.a,{className:u.menuButton})),o.a.createElement(Ce,{data:t,selector:a,handleSelector:r,className:u.filters}),o.a.createElement("span",{style:{marginLeft:"auto"}},o.a.createElement(S.a,{title:"Line chart"},o.a.createElement(j.a,{component:"a",href:"/covidcompare/line",className:u.menuButton},o.a.createElement(Le.a,null))),o.a.createElement(S.a,{title:"Gapminder chart"},o.a.createElement(j.a,{component:"a",href:"/covidcompare/gapminder",className:u.menuButton},o.a.createElement(Me.a,null))))),o.a.createElement(Fe.a,{onClickAway:function(e){e.x>250&&e.y>70&&s&&d(!1)}},o.a.createElement(Pe.a,{className:u.drawer,variant:"persistent",anchor:"left",open:s,classes:{paper:u.drawerPaper}},o.a.createElement("div",{className:u.drawerHeader,style:{backgroundColor:m.palette.primary.main}},o.a.createElement(j.a,{color:"inherit",edge:"end",onClick:p,style:{color:m.palette.primary.contrastText}},o.a.createElement(Te.a,null))),o.a.createElement(we,{data:t})))))},ze=a(87),Ge=a.n(ze),Ve=a(140),Ye=function(){var e=Object(Ve.a)(Ge.a.mark((function e(t,a,n){var o,r,l,i;return Ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.xParam,r=n.yParam,l=n.tParam,i=[],Object.keys(a).forEach((function(e,n){var c,s=(c={state:e,region:a[e].region},Object(A.a)(c,l.selected,[]),Object(A.a)(c,o.selected,[]),Object(A.a)(c,o.alt1,[]),Object(A.a)(c,r.selected,[]),Object(A.a)(c,r.alt1,[]),c);t.filter((function(t){return t.state===e})).forEach((function(e,t){s[l.selected].push([e[l.selected],e[l.selected]]),s[o.selected].push([e[l.selected],e[o.selected]]),s[r.selected].push([e[l.selected],e[r.selected]]),s[o.alt1].push([e[l.selected],e[o.alt1]]),s[r.alt1].push([e[l.selected],e[r.alt1]])})),i.push(s)})),e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ke=Object(k.a)((function(e){return{navbar:{width:B.width,marginLeft:M.marginLeft,display:"flex",justifyContent:"flex-start"}}})),Xe=function(){var e=Object(n.useContext)(W).dataStates,t=Object(n.useState)(null),a=Object(c.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)({xParam:R.xParam,yParam:R.yParam,zParam:R.zParam,cParam:R.cParam}),d=Object(c.a)(s,2),u=d[0],m=d[1],p=Object(n.useState)({selected:[],notSelected:Object.keys(b),all:Object.keys(b)}),f=Object(c.a)(p,2),h=f[0],g=f[1],y=M.marginTop,E=M.marginLeft,v=Ke();return Object(n.useEffect)((function(){e.length>0&&Ye(e,b,R).then((function(e){return l(e)}))}),[e]),o.a.createElement(H.Provider,{value:{selectedCircles:h,setSelectedCircles:g}},o.a.createElement(He,{data:r,selector:u,handleSelector:function(e){var t=e.target.name;m(Object(i.a)({},u,Object(A.a)({},t,Object(i.a)({},u[t],{selected:e.target.value}))))},className:v.navbar}),o.a.createElement("div",{transform:"translate(".concat(E,", ").concat(y,")")},r&&o.a.createElement(q,{selector:u,data:r,wrapper:M,bounded:B})))},Je=function(e){var t=e.focus,a=e.overlay,o=e.linesStates,r=e.selectedStates,l=e.wrapperDim,i=e.boundedDim,c=(l.wrapperWidth,l.wrapperHeight,l.marginLeft,l.marginRight,l.marginBottom,l.marginTop,i.width),s=i.height,d=Object(n.useContext)(W).dataStates,m=u.j().domain(u.f(d,(function(e){return e.dayOfOutbreak}))).range([0,c]),p=u.j().domain(u.f(d,(function(e){return e.casesPerThousand}))).range([s,0]);return Object(n.useEffect)((function(){if(a){a.on("mousemove",(function(){var n=m.invert(u.h(this)[0]),o=u.c((function(e){return e.dayOfOutbreak})).left;Object.keys(r).sort().filter((function(e){return!0===r[e].selected})).forEach((function(l,i){var c=d.filter((function(e){return e.state===l})),s=r[l].htmlFormat,u=o(c,n,0),f=c[u]?c[u].casesPerThousand:c[c.length-1].casesPerThousand,h=c[u]?c[u].dayOfOutbreak:c[c.length-1].dayOfOutbreak,g=c[u]?E.dateFormatter(c[u].date):E.dateFormatter(c[c.length-1].date),b=c[u]?c[u].cases:c[c.length-1].cases;a.on("click",(function(){e=!e})),e||(t.select("#circle-".concat(s)).attr("cy",p(f)).attr("cx",m(h)),t.select("#d-label-".concat(s)).text("".concat(r[l].abbreviation," => Day ").concat(h," (").concat(g.split("-").slice(0,2).join("-"),")")).attr("fill",r[l].color),t.select("#d-label-b-".concat(s)).text("".concat(f.toFixed(3)," (").concat(b," tot.)")).attr("fill",r[l].color))}))}));var e=!1}}),[o]),null},Ue=a(275),qe=function(e){var t=e.chartParams,a=(e.labelParams,e.focus),r=e.overlay,l=e.selectedStates,i=e.wrapperDim,s=e.boundedDim,d=(t.xParam,t.yParam,i.wrapperWidth,i.wrapperHeight,i.marginLeft,i.marginRight,i.marginBottom,i.marginTop,s.width),m=s.height,p=Object(n.useContext)(W).dataStates,f=Object(n.useContext)(I).infoStates,h=Object(O.a)(),g=Object(Ue.a)(h.breakpoints.up("md")),b=Object(Ue.a)(h.breakpoints.up("lg")),y=Object(n.useState)([]),E=Object(c.a)(y,2),v=E[0],w=E[1];return Object(n.useEffect)((function(){if(l&&p.length>0){var e=u.j().domain(u.f(p,(function(e){return e.dayOfOutbreak}))).range([0,d]),t=u.j().domain(u.f(p,(function(e){return e.casesPerThousand}))).range([m,0]),n=u.g().x((function(t){return e(t.dayOfOutbreak)})).y((function(e){return t(e.casesPerThousand)})),o={};Object.keys(l).sort().filter((function(e){return!0===l[e].selected})).forEach((function(r,i){var c=p.filter((function(e){return e.state===r})),s=f[r].htmlFormat,d=c[c.length-1].dayOfOutbreak,u=c[c.length-1].casesPerThousand,m=(l[r].lockdown-c[0].date)/864e5+1,y=c.filter((function(e){return e.dayOfOutbreak===m}))[0];o[r]=y?{line:n(c),lineLabelX:e(d)+3,lineLabelY:t(u),lockdownMarkerX:e(m),lockdownMarkerY:t(y.casesPerThousand)}:{line:n(c),lineLabelX:e(d)+3,lineLabelY:t(u)};var E=0,v=0;i>11&&(b?(E=180,v=480):g&&(E=120,v=480)),a.append("circle").attr("id","circle-".concat(s)).attr("r",5).attr("fill",l[r].color).attr("stroke",h.palette.text.primary),(g?i<24:i<12)&&(a.append("text").attr("id","d-label-".concat(s)).attr("x",10+E).attr("y",(function(e){return g?10+40*i-v:10+30*i})).style("font-size",(function(e){return b?".8rem":".6rem"})).style("font-family","ralewaymedium, Helvetica, Arial, sans-serif"),a.append("text").attr("id","d-label-b-".concat(s)).attr("x",10+E).attr("y",(function(e){return g?25+40*i-v:25+30*i})).style("font-size",(function(e){return b?".8rem":".6rem"})).style("font-family","ralewaymedium, Helvetica, Arial, sans-serif"))})),w(o)}return function(){a.selectAll("circle").remove(),a.selectAll("text").remove()}}),[p,l,h]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Je,Object.assign({focus:a,overlay:r,linesStates:v},e)),p.length>0?Object.keys(v).sort().map((function(e,t){var a=f[e].htmlFormat;return o.a.createElement("g",{key:t,id:"bounds-render-".concat(a)},o.a.createElement("path",{fill:"none",stroke:l[e].color,strokeWidth:2.5,strokeLinejoin:"round",strokeLinecap:"round",d:v[e].line}),o.a.createElement("circle",{id:"line-marker-lockdown",r:4,fill:v[e].lockdownMarkerX?l[e].color:"none",cx:v[e].lockdownMarkerX,cy:v[e].lockdownMarkerY}),o.a.createElement("text",{id:"line-label-".concat(a),className:"line-label",style:{fill:h.palette.text.primary,fontSize:"14px",fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"},x:v[e].lineLabelX,y:v[e].lineLabelY},l[e].abbreviation))})):o.a.createElement("g",null))},Ze=Object(k.a)((function(e){return{title:{fill:e.palette.text.primary,fontSize:"1.2rem"},axes:{fill:e.palette.text.primary},axisLabel:{fill:e.palette.text.primary,fontSize:".8rem"},footnotes:{fontSize:".6rem"}}})),$e=function(e){var t=e.wrapperDim,a=e.boundedDim,r=t.wrapperWidth,l=t.wrapperHeight,i=t.marginLeft,c=(t.marginRight,t.marginBottom,t.marginTop),s=a.width,d=a.height,m=Object(n.useContext)(W).dataStates,p=Object(O.a)(),f=Object(n.useRef)(null),h=Object(n.useRef)(null),g=Object(n.useRef)(null),b=Object(n.useRef)(null),y=Ze(),E=u.m(b.current).append("g").attr("class","focus").style("display","none"),v=u.m(b.current).append("rect").attr("class","overlay").attr("width",s).attr("height",d).attr("opacity","0").on("mouseover",(function(){return E.style("display",null)}));return Object(n.useEffect)((function(){var e=u.j().domain(u.f(m,(function(e){return e.dayOfOutbreak}))).range([0,s]),t=u.j().domain(u.f(m,(function(e){return e.casesPerThousand}))).range([d,0]),a=u.b().scale(t),n=u.a().scale(e);u.m(h.current).call(n),u.m(f.current).call(a)}),[m,p]),o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{id:"covidcompare",height:l,width:r,ref:g},o.a.createElement("text",{className:y.title,style:{fill:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"},textAnchor:"middle",transform:"translate (".concat(i+s/2,", ").concat(c/2,")")},"COVID-19 US State Comparison"),o.a.createElement("text",{className:y.axisLabel,style:{fill:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"},textAnchor:"middle",transform:"translate(".concat(i+s/2,", ").concat(d+c+40,")")},"Day of Outbreak"),o.a.createElement("text",{className:y.axisLabel,style:{fill:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"},textAnchor:"middle",transform:"translate(".concat(.6*i,", ").concat(d/2,") rotate(-90)")},"Cases per 1000 people"),o.a.createElement("text",{className:y.footnotes,textAnchor:"left",style:{fill:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"},transform:"translate(".concat(i,", ").concat(d+c+60,")")},"*Data from The New York Times, based on reports from state and local health agencies."),o.a.createElement("text",{className:y.footnotes,textAnchor:"left",style:{fill:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"},transform:"translate(".concat(i,", ").concat(d+c+80,")")},"**Population data from US Census Bureau (2019)."),o.a.createElement("text",{className:y.footnotes,textAnchor:"left",style:{fill:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"},transform:"translate(".concat(i,", ").concat(d+c+100,")")},"***2/27 is earliest possible 'Day 1,' since prior cases were isolated and may skew insights of \"community spread\""),o.a.createElement("text",{className:y.footnotes,textAnchor:"left",style:{fill:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"},transform:"translate(".concat(i,", ").concat(d+c+120,")")},"\u2020Legend will display up to 24 states (alphabetical order)"),o.a.createElement("g",{id:"bounds",transform:"translate(".concat(i,", ").concat(c,")"),ref:b},o.a.createElement("g",{ref:f,id:"y-axis",style:{color:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"}}),o.a.createElement("g",{ref:h,id:"x-axis",transform:"translate(0,".concat(d,")"),style:{color:p.palette.text.primary,fontFamily:"ralewaymedium, Helvetica, Arial, sans-serif"}}),o.a.createElement(qe,Object.assign({focus:E,overlay:v},e)))))},_e=function(e){var t=e.filterOptions,a=e.handleSelectedFilter,n=e.handleMenu;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(ae.a,{key:e.id,id:e.id,onClick:function(){return t=e,n(),void a(t);var t}},e.name)})))},Qe=function(e){var t=e.nStates,a=e.handleSelectedFilter,r=Object(n.useState)(null),l=Object(c.a)(r,2),i=l[0],s=l[1],d=function(e){s(i?null:e.currentTarget)},u=[{id:"cases-high",name:"Top ".concat(t," (total)"),type:"Cases",chartParam:"latestCaseCount",sort:"descending",n:t},{id:"cases-low",name:"Bottom ".concat(t," (total)"),type:"Cases",chartParam:"latestCaseCount",sort:"ascending",n:t},{id:"cases-per-1000-high",name:"Top ".concat(t," (per 1000)"),type:"Cases",chartParam:"latestCaseCountPerThou",sort:"descending",n:t},{id:"cases-per-1000-low",name:"Bottom ".concat(t," (per 1000)"),type:"Cases",chartParam:"latestCaseCountPerThou",sort:"ascending",n:t}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{id:"cases-btn",dense:!0,onClick:d},"Filter By Case"),o.a.createElement(ne.a,{anchorEl:i,open:!!i&&Boolean("cases-btn"===i.id),onClose:d},o.a.createElement(_e,{filterOptions:u,handleSelectedFilter:a,handleMenu:d})))},et=function(e){var t=e.nStates,a=e.handleSelectedFilter,r=Object(n.useState)(null),l=Object(c.a)(r,2),i=l[0],s=l[1],d=function(e){s(i?null:e.currentTarget)},u=[{id:"pop-high",name:"Top ".concat(t," (pop. total)"),type:"Pop.",chartParam:"population",sort:"descending",n:t},{id:"pop-low",name:"Bottom ".concat(t," (pop. total)"),type:"Pop.",chartParam:"population",sort:"ascending",n:t},{id:"pop-density-high",name:"Top ".concat(t," (pop. density)"),type:"Pop.",chartParam:"populationDensity",sort:"descending",n:t},{id:"pop-density-low",name:"Bottom ".concat(t," (pop. density)"),type:"Pop.",chartParam:"populationDensity",sort:"ascending",n:t}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{id:"population-btn",dense:!0,onClick:d},"Filter By Population"),o.a.createElement(ne.a,{anchorEl:i,open:!!i&&Boolean("population-btn"===i.id),onClose:d},o.a.createElement(_e,{filterOptions:u,handleSelectedFilter:a,handleMenu:d})))},tt=function(e){var t=e.filterOptions,a=e.handleSelectedFilter,n=e.handleMenu;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(ae.a,{key:e.id,id:e.id,onClick:function(){return t=e,n(),void a(t);var t}},e.name)})))},at=function(e){var t=e.handleSelectedFilter,a=Object(n.useState)(null),r=Object(c.a)(a,2),l=r[0],i=r[1],s=function(e){i(l?null:e.currentTarget)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{id:"region-btn",dense:!0,onClick:s},"Filter By Region"),o.a.createElement(ne.a,{anchorEl:l,open:!!l&&Boolean("region-btn"===l.id),onClose:s},o.a.createElement(tt,{filterOptions:[{id:"northeast",name:"Northeast",type:"Region",chartParam:"region"},{id:"midwest",name:"Midwest",type:"Region",chartParam:"region"},{id:"south",name:"South",type:"Region",chartParam:"region"},{id:"west",name:"West",type:"Region",chartParam:"region"}],handleSelectedFilter:t,handleMenu:s})))},nt=Object(k.a)((function(e){return{tab:{opacity:.7},menuItem:{opacity:.7,"&:hover":{opacity:1}}}})),ot=function(e){var t=e.selectedStates,a=e.setSelectedStates,r=Object(n.useContext)(I).infoStates,l=Object(n.useState)(null),s=Object(c.a)(l,2),d=s[0],u=s[1],m=Object(n.useState)(null),p=Object(c.a)(m,2),f=p[0],h=p[1],g=Object(n.useState)(new Date),b=Object(c.a)(g,2),y=(b[0],b[1],nt()),E=function(e){h(e),u(null)};return Object(n.useEffect)((function(){if(f){var e=f.n?function(e,t){var a,n=e.n;a=Object.keys(t).sort((function(a,n){return"descending"===e.sort?t[n][e.chartParam]-t[a][e.chartParam]:t[a][e.chartParam]-t[n][e.chartParam]})).slice(0,n);var o={};return Object.keys(t).forEach((function(e){a.includes(e)?o[e]=Object(i.a)({},t[e],{selected:!0}):o[e]=Object(i.a)({},t[e],{selected:!1})})),o}(f,r):function(e,t){var a=Object.keys(t).filter((function(a){return t[a][e.chartParam]===e.name})),n={};return Object.keys(t).forEach((function(e){a.includes(e)?n[e]=Object(i.a)({},t[e],{selected:!0}):n[e]=Object(i.a)({},t[e],{selected:!1})})),n}(f,r);a(e)}}),[f]),o.a.createElement("span",null,o.a.createElement(Qe,{"aria-controls":"cases-btn","aria-haspopup":"true",className:y.tab,nStates:12,selectedStates:t,setSelectedStates:a,handleSelectedFilter:E,onClose:function(e){u(d?null:e.currentTarget)}}),o.a.createElement(et,{"aria-controls":"population-btn","aria-haspopup":"true",className:y.tab,nStates:12,selectedStates:t,setSelectedStates:a,handleSelectedFilter:E}),o.a.createElement(at,{"aria-controls":"region-btn","aria-haspopup":"true",className:y.tab,selectedStates:t,setSelectedStates:a,handleSelectedFilter:E}))},rt=a(141),lt=a.n(rt),it=function(e){var t=e.selectedStates,a=e.handleSelectedStates,n=e.handleSelectAllStates,r=e.handleDeselectAllStates,l=Object(O.a)();return o.a.createElement("div",null,o.a.createElement($.a,{style:{alignItems:"left",backgroundColor:l.palette.primary.main,color:l.palette.text.primary}},o.a.createElement(_.a,{id:"select-all",label:"Select All",name:"Select All",onClick:n,control:o.a.createElement(j.a,{id:"selector-all",name:"select-all",style:{color:"white"}},o.a.createElement(lt.a,null))}),o.a.createElement(_.a,{id:"deselect-all",label:"Deselect All",name:"Deselect All",onClick:r,control:o.a.createElement(j.a,{id:"deselector-all",name:"deselect-all",style:{color:"red"}},o.a.createElement(Ee.a,null))}),o.a.createElement("br",null),o.a.createElement(G.a,{variant:"h6",style:{color:l.palette.primary.contrastText}},"Selected"),o.a.createElement(ee.a,{style:{backgroundColor:l.palette.primary.contrastText}}),t?Object.keys(t).sort().filter((function(e){return!0===t[e].selected})).map((function(e,n){return o.a.createElement(_.a,{key:n,id:t[e].htmlFormat,name:e,checked:t[e].selected,onChange:a,control:o.a.createElement(te.a,{name:e,style:{color:t[e].color}}),label:"".concat(e," (").concat(t[e].abbreviation,")")})})):o.a.createElement("div",null),o.a.createElement("br",null),o.a.createElement(G.a,{variant:"h6",style:{color:l.palette.primary.contrastText}},"Not Selected"),o.a.createElement(ee.a,{style:{backgroundColor:l.palette.primary.contrastText}}),t?Object.keys(t).sort().filter((function(e){return!1===t[e].selected})).map((function(e,n){return o.a.createElement(_.a,{key:n,id:t[e].htmlFormat,name:e,checked:t[e].selected,onChange:a,control:o.a.createElement(te.a,{name:e,style:{color:t[e].color}}),label:"".concat(e," (").concat(t[e].abbreviation,")")})})):o.a.createElement("div",null)))},ct=Object(k.a)((function(e){return{root:{display:"flex",backgroundColor:e.palette.primary.main},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(250,"px)"),marginLeft:250,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{color:e.palette.primary.contrastText,"&:hover":{backgroundColor:"transparent"}},hide:{display:"none"},drawer:{width:250,flexShrink:1},drawerPaper:{width:250},drawerHeader:Object(i.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end",backgroundColor:e.palette.background.default}),tab:{opacity:.7},menuItem:{opacity:.7,"&:hover":{opacity:1}}}})),st=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(!1),s=Object(c.a)(i,2),d=(s[0],s[1],Object(n.useState)(null)),u=Object(c.a)(d,2),m=(u[0],u[1],Object(O.a)()),p=ct();return o.a.createElement("div",{className:p.root},o.a.createElement(xe.a,{position:"relative",className:Object(Z.a)(p.appBar,Object(A.a)({},p.appBarShift,r)),style:{backgroundColor:m.palette.primary.main,color:m.palette.primary.contrastText}},o.a.createElement(De.a,null,o.a.createElement(j.a,{onClick:function(){l(!0)},className:Object(Z.a)(p.menuButton,r&&p.hide),style:{color:m.palette.text.primary},disableRipple:!0},o.a.createElement(Re.a,{className:p.menuButton})),o.a.createElement(ot,e),o.a.createElement("span",{style:{marginLeft:"auto"}},o.a.createElement(S.a,{title:"Line chart"},o.a.createElement(j.a,{component:"a",href:"/covidcompare/line",className:p.menuButton},o.a.createElement(Le.a,null))),o.a.createElement(S.a,{title:"Gapminder chart"},o.a.createElement(j.a,{component:"a",href:"/covidcompare/gapminder",className:p.menuButton},o.a.createElement(Me.a,null)))))),o.a.createElement(Fe.a,{onClickAway:function(e){e.x>250&&e.y>70&&r&&l(!1)}},o.a.createElement(Pe.a,{className:p.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:p.drawerPaper},style:{color:m.palette.text.primary}},o.a.createElement("div",{className:p.drawerHeader,style:{backgroundColor:m.palette.primary.main}},o.a.createElement(j.a,{color:"inherit",edge:"end",onClick:function(){l(!1)},style:{color:m.palette.primary.contrastText}},o.a.createElement(Te.a,null))),o.a.createElement(ee.a,null),o.a.createElement(it,e))))},dt=function(e){var t=e.wrapperDim,a=e.setWrapperDim,o=e.setBoundedDim,r=Object(O.a)(),l=(Object(Ue.a)(r.breakpoints.up("sm")),{wrapperWidth:Object(Ue.a)(r.breakpoints.up("md"))?.8*window.innerWidth:.9*window.innerWidth,wrapperHeight:.9*window.innerHeight,marginTop:60,marginRight:20,marginBottom:130,marginLeft:80});return Object(n.useEffect)((function(){a(l)}),[]),Object(n.useEffect)((function(){o({width:l.wrapperWidth-l.marginLeft-l.marginRight,height:l.wrapperHeight-l.marginTop-l.marginBottom})}),[t]),null},ut={chartType:"line",toTimestamp:null,multiple:!0,normalize:!0,xParam:{type:"linear",format:"number",selected:"dayOfOutbreak",alt1:null,options:["dayOfOutbreak"]},yParam:{type:"linear",format:"number",selected:"casesPerThousand",alt1:"deathsPerThousand",options:["casesPerThousand","cases","deathsPerThousand","deaths"]},zParam:{type:null,format:null,selected:null,options:[null]},cParam:{type:"categorical",selected:"region",options:["region","division","governor"]},tParam:{type:null,selected:null,options:[null]}},mt={chartTitle:"COVID-19 State Comparison",xLabel:"Cases per Thousand",yLabel:"Deaths per Thousand"},pt=function(){var e=Object(n.useContext)(I),t=e.infoStates,a=(e.setInfoStates,Object(n.useState)()),r=Object(c.a)(a,2),l=r[0],s=r[1],d=Object(n.useState)(),u=Object(c.a)(d,2),h=u[0],g=u[1],b=Object(n.useState)(null),y=Object(c.a)(b,2),E=y[0],v=y[1],w=Object(O.a)();return Object(n.useEffect)((function(){t&&v(t)}),[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement(dt,{wrapperDim:l,setWrapperDim:s,setBoundedDim:g}),o.a.createElement(p.a,{utils:f.a},o.a.createElement(m.a,{theme:w},l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(st,{chartParams:ut,selectedStates:E,setSelectedStates:v,handleSelectedStates:function(e){v(Object(i.a)({},E,Object(A.a)({},e.target.name,Object(i.a)({},E[e.target.name],{selected:e.target.checked}))))},handleSelectAllStates:function(e){var t={};Object.keys(E).forEach((function(e,a){t[e]=Object(i.a)({},E[e],{selected:!0})})),v(t)},handleDeselectAllStates:function(e){var t={};Object.keys(E).forEach((function(e,a){t[e]=Object(i.a)({},E[e],{selected:!1})})),v(t)}}),o.a.createElement($e,{chartParams:ut,labelParams:mt,selectedStates:E,setSelectedStates:v,wrapperDim:l,boundedDim:h})))))},ft=a(144),ht=Object(ft.a)({palette:{type:"dark",primary:{main:"#000018",contrastText:"#fff"},secondary:{main:"#1c847f",contrastText:"#fff"},text:{primary:"#fff",secondary:"#fff"},background:{default:"#29293d"},contrastThreshold:3},typography:{fontFamily:["ralewaymedium","Helvetica","Arial","sans-serif"].join(",")},overrides:{MuiFormControlLabel:{root:{color:"#fff",textColor:"#fff"},label:{color:"#fff",textColor:"#fff"}},MuiButton:{root:{color:"#fff"},label:{color:"#fff"},text:{color:"#fff"}},MuiBase:{root:{color:"#fff"}},MuiInputBase:{root:{color:"#fff",maxWidth:115,paddingLeft:10}},MuiPickersCalendarHeader:{switchHeader:{backgroundColor:"#000018"}},MuiPickersDay:{day:{color:"#29293d"},daySelected:{backgroundColor:"#29293d"},dayDisabled:{color:"#29293d"},current:{color:"#29293d"}}}}),gt=function(e,t){return t?Object(ft.a)(Object(i.a)({},e,{palette:Object(i.a)({},e.palette,{type:"dark",primary:{main:"#000018",contrastText:"#fff"},background:{default:"#29293d"},text:{primary:"#fff",secondary:"#fff"}})})):Object(ft.a)(Object(i.a)({},e,{palette:Object(i.a)({},e.palette,{type:"light",primary:{main:"#1c847f",contrastText:"#fff"},background:{default:"#fff"},text:{primary:"#29293d",secondary:"#000018"}})}))},bt=["#7FFFD4","#8EE5EE","#76EE00","#D2691E","#FF7F50","#00CDCD","#DC143C","#00EE00","#00EE76","#8B5A2B","#EE5C42","#00C5CD","#EE3A8C","#9ACD32","#43CD80","#EE0000","#7D26CD","#EE9A00","#C71585","#9F79EE","#8B5742","#CDC673","#218868","#CD5555","#CD9B1D","#79CDCD","#9BCD9B","#FF7F00","#EE3B3B","#BF3EFF","#00CED1","#EE1289","#228B22","#CDAD00","#00CD00","#EE6AA7","#CD5555","#CD8C95","#20B2AA","#CD8162","#CDCDB4","#CD00CD","#E066FF","#00FA9A","#C71585","#FF4500","#EE799F","#CD96CD","#912CEE","#EEB4B4","#4EEE94"],yt=a(278);var Et=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),h=Object(c.a)(l,2),y=h[0],E=h[1],v=Object(n.useState)(!0),w=Object(c.a)(v,2),k=w[0],O=w[1];return Object(n.useEffect)((function(){var e=u.o("%m-%d-%y"),t={};Object.keys(b).forEach((function(a,n){t[a]=Object(i.a)({},b[a],{lockdown:b[a].lockdown.startsWith("none")?b[a].lockdown:e(b[a].lockdown),lockdownEnd:b[a].lockdownEnd.startsWith("none")?b[a].lockdownEnd:e(b[a].lockdownEnd),color:bt[n]})}));var n=u.i().key((function(e){return e.state})).entries(a);Object.keys(n).forEach((function(e){var a=n[e].key,o=n[e].values.length-1,r=n[e].values[o].cases,l=n[e].values[o].cases/b[a].population*1e3;t[a]=Object(i.a)({},t[a],{latestCaseCount:r,latestCaseCountPerThou:l})})),E(t)}),[a]),Object(n.useEffect)((function(){u.d(g.a).then((function(e){var t=u.o("%Y-%m-%d");e.forEach((function(e){e.date=t(e.date),e.fips=parseInt(e.fips),e.cases=parseInt(e.cases),e.deaths=parseInt(e.deaths)})),e=e.filter((function(e){return e.date>new Date(2020,1,26)&&Object.keys(b).includes(e.state)})),Object.keys(b).forEach((function(t){var a=e.filter((function(e){return e.state===t}));a.forEach((function(e){e.dayOfOutbreak=(e.date-a[0].date)/864e5+1,e.casesPerThousand=e.cases/b[t].population*1e3,e.deathsPerThousand=e.deaths/b[t].population*1e3,e.mortalityRate=e.deaths/e.cases*100}))})),r(e),console.log("imported dataset")}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{theme:gt(ht,k)},o.a.createElement(yt.a,null),o.a.createElement(p.a,{utils:f.a},o.a.createElement(W.Provider,{value:{dataStates:a,setDataStates:r}},o.a.createElement(I.Provider,{value:{infoStates:y,setInfoStates:E}},o.a.createElement(s.a,null,o.a.createElement(d.c,null,o.a.createElement(d.a,{path:"/covidcompare/line",className:"line-app",component:pt}),o.a.createElement(d.a,{path:["/covidcompare","/covidcompare/gapminder"],clasName:"gapminder-app",component:Xe}),o.a.createElement(T,{darkMode:k,setDarkMode:O}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[211,1,2]]]);
//# sourceMappingURL=main.292e6deb.chunk.js.map