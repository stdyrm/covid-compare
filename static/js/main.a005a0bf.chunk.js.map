{"version":3,"sources":["context/dataContext.js","context/statesContext.js","context/themeContext.js","components/util/constants.js","components/util/MouseMove.js","components/chart/Line.js","components/chart/ChartUSCompare.js","components/dataParams/BatchSelect.js","styles/colors.js","components/dataParams/Dashboard.js","components/dataParams/FilterBar.js","components/chart/Footnotes.js","styles/theme.js","App.js","serviceWorker.js","index.js","data/us-states.csv"],"names":["dataContext","React","createContext","statesContext","themeContext","date","dateFormatter","d3","dateParser","dimensions","width","window","innerWidth","height","margin","top","right","bottom","left","bounded","MouseMove","focus","overlay","linesStates","dataStates","useContext","selectedStates","xScale","theme","domain","d","dayOfOutbreak","range","yScale","casesPerThousand","useEffect","on","x0","invert","this","bisectDate","Object","keys","sort","filter","s","selected","forEach","state","index","dataEachState","stateHTML","htmlFormat","i","dataEachStateRangeY","length","dataEachStateRangeX","dataEachStateRangeDate","dataEachStateRangeCases","cases","frozen","select","attr","text","abbreviation","color","toFixed","Line","setTheme","useState","setLinesStates","selectAll","lineGenerator","x","y","linesObject","stateInfo","lastDayOfOutbreak","lastCasesPerThousand","lockdownDay","lockdown","lockdownDayDatum","line","lineLabelX","lineLabelY","lockdownMarkerX","lockdownMarkerY","xShift","yShift","append","palette","primary","style","map","key","id","fill","stroke","strokeWidth","strokeLinejoin","strokeLinecap","r","cx","cy","className","fontSize","useStyles","makeStyles","title","axes","axisLabel","footnotes","ChartUSCompare","yAxisRef","useRef","xAxisRef","svgRef","boundsRef","classes","current","yAxisGenerator","scale","xAxisGenerator","call","ref","textAnchor","transform","BatchSelect","setSelectedStates","anchorEl","setAnchorEl","selectedFilter","setSelectedFilter","Date","selectedDate","setDateChange","lockdownRef","handleClick","e","currentTarget","name","handleClose","filterCases","revisedStates","revisedOrder","a","b","latestCaseCount","revisedOrderToPopulation","population","target","reverse","filterLockdown","filterPopulation","filterRegion","filteredByRegion","region","includes","Button","onClick","Menu","keepMounted","open","Boolean","onClose","MenuItem","DatePicker","variant","disableToolbar","autoOk","value","onChange","disableFuture","format","colors","Dashboard","handleChange","checked","timeParse","startsWith","nested","nest","entries","lastIndex","values","FormGroup","alignItems","backgroundColor","FormControlLabel","label","control","IconButton","Typography","Divider","Checkbox","root","display","main","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","spacing","hide","drawer","flexShrink","drawerPaper","drawerHeader","padding","mixins","toolbar","justifyContent","background","default","FilterBar","setOpen","AppBar","position","clsx","contrastText","Toolbar","edge","ClickAwayListener","onClickAway","Drawer","anchor","paper","textAlign","saveButton","float","themeButton","secondary","Footnotes","selectTheme","Tooltip","placement","saveSvgAsPng","document","querySelector","encoderOptions","themeDark","createMuiTheme","contrastThreshold","typography","fontFamily","overrides","MuiMenu","textColor","MuiMenuItem","MuiButton","MuiInputBase","maxWidth","paddingLeft","MuiPickersCalendarHeader","switchHeader","MuiPickersDay","day","daySelected","dayDisabled","App","setDataStates","USStates","then","data","fips","parseInt","deaths","stateData","deathsPerThousand","console","log","minWidth","utils","DateFnsUtils","Provider","ThemeProvider","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","module","exports"],"mappings":"wRAEMA,EAAcC,IAAMC,gBCApBC,EAAgBF,IAAMC,gBCAtBE,EAAeH,IAAMC,gBCArBG,EAAO,CACXC,cAAeC,IAAc,YAC7BC,WAAYD,IAAa,aAGrBE,EAAa,CACjBC,MAAOC,OAAOC,WACdC,OAAQ,IACRC,OAAQ,CACNC,IAAK,GACLC,MAAO,IACPC,OAAQ,IACRC,KAAM,MAIJC,EAAU,CACdT,MAAOD,EAAWC,MAAQD,EAAWK,OAAOI,KAAOT,EAAWK,OAAOE,MACrEH,OAAQJ,EAAWI,OAASJ,EAAWK,OAAOC,IAAMN,EAAWK,OAAOG,QCT3DG,EAAY,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAChCC,EAAeC,qBAAWzB,GAA1BwB,WACHE,EAAmBD,qBAAWtB,GAA9BuB,eAGCC,GAFSF,qBAAWrB,GAArBwB,MAEUrB,MAAiBsB,OAAOtB,IAAUiB,GAAY,SAAAM,GAAC,OAAIA,EAAEC,kBAAgBC,MAAM,CAAC,EAAGb,EAAQT,SAChGuB,EAAS1B,MAAiBsB,OAAOtB,IAAUiB,GAAY,SAAAM,GAAC,OAAIA,EAAEI,qBAAmBF,MAAM,CAACb,EAAQN,OAAQ,IAwD9G,OAtDAsB,qBAAU,WACN,GAAIb,EAAS,CAETA,EAAQc,GAAG,aAIX,WACI,IAAIC,EAAKV,EAAOW,OAAO/B,IAASgC,MAAM,IAChCC,EAAajC,KAAY,SAAAuB,GAAC,OAAIA,EAAEC,iBAAeb,KAErDuB,OAAOC,KAAKhB,GAAgBiB,OACvBC,QAAO,SAAAC,GAAC,OAAmC,IAA/BnB,EAAemB,GAAGC,YAC9BC,SAAQ,SAACC,EAAOC,GACb,IAAMC,EAAgB1B,EAAWoB,QAAO,SAAAd,GAAC,OAAIA,EAAEkB,QAAUA,KACnDG,EAAYzB,EAAesB,GAAOI,WAClCC,EAAIb,EAAWU,EAAeb,EAAI,GAEpCiB,EAAsBJ,EAAcG,GAClCH,EAAcG,GAAGnB,iBACjBgB,EAAcA,EAAcK,OAAS,GAAGrB,iBAC1CsB,EAAsBN,EAAcG,GAClCH,EAAcG,GAAGtB,cACjBmB,EAAcA,EAAcK,OAAS,GAAGxB,cAC1C0B,EAAyBP,EAAcG,GACrChD,EAAKC,cAAc4C,EAAcG,GAAGhD,MACpCA,EAAKC,cAAc4C,EAAcA,EAAcK,OAAS,GAAGlD,MAC7DqD,EAA0BR,EAAcG,GACtCH,EAAcG,GAAGM,MACjBT,EAAcA,EAAcK,OAAS,GAAGI,MAM9CrC,EAAQc,GAAG,SAJU,WACjBwB,GAAUA,KAKTA,IACDvC,EAAMwC,OAAN,kBAAwBV,IACnBW,KAAK,KAAM7B,EAAOqB,IAClBQ,KAAK,KAAMnC,EAAO6B,IAEvBnC,EAAMwC,OAAN,mBAAyBV,IACpBY,KADL,UACarC,EAAesB,GAAOgB,aADnC,eACsDP,EADtD,kBACsFD,EADtF,MAEnBM,KAAK,OAAQpC,EAAesB,GAAOiB,OAEhB5C,EAAMwC,OAAN,qBAA2BV,IACtBY,KADL,UACaL,EADb,mBAC+CJ,EAAoBY,QAAQ,GAD3E,eAEKJ,KAAK,OAAQpC,EAAesB,GAAOiB,cA3CxD,IAAIL,GAAS,KAgDlB,CAACrC,IACG,MCxDL4C,EAAO,SAAC,GAAwB,IAAtB9C,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QACbI,EAAmBD,qBAAWtB,GAA9BuB,eACAF,EAAeC,qBAAWzB,GAA1BwB,WAF2B,EAGPC,qBAAWrB,GAA/BwB,EAH2B,EAG3BA,MAH2B,KAGpBwC,SACuBC,mBAAS,KAJZ,mBAI5B9C,EAJ4B,KAIf+C,EAJe,KA8GnC,OApGAnC,qBAAU,WACR,OAAO,WAJPd,EAAMkD,UAAU,CAAC,SAAU,SAAST,KAAK,UAAW,WAKnD,CAACpC,IAEJS,qBAAU,WACR,GAAIX,EAAW+B,OAAS,EAAG,CAGzB,IAAM5B,EAASpB,MAEZsB,OAAOtB,IAAUiB,GAAY,SAACM,GAAD,OAAOA,EAAEC,kBACtCC,MAAM,CAAC,EAAGb,EAAQT,QACfuB,EAAS1B,MAEZsB,OAAOtB,IAAUiB,GAAY,SAACM,GAAD,OAAOA,EAAEI,qBACtCF,MAAM,CAACb,EAAQN,OAAQ,IAGpB2D,EAAgBjE,MAEnBkE,GAAE,SAAC3C,GAAD,OAAOH,EAAOG,EAAEC,kBAClB2C,GAAE,SAAC5C,GAAD,OAAOG,EAAOH,EAAEI,qBAEfyC,EAAc,GAEpBlC,OAAOC,KAAKhB,GACTiB,OACAC,QAAO,SAACC,GAAD,OAAsC,IAA/BnB,EAAemB,GAAGC,YAChCC,SAAQ,SAACC,EAAOK,GACf,IAAMH,EAAgB1B,EAAWoB,QAAO,SAACd,GAAD,OAAOA,EAAEkB,QAAUA,KACrDG,EAAYyB,EAAU5B,GAAOI,WAG7ByB,EACJ3B,EAAcA,EAAcK,OAAS,GAAGxB,cACpC+C,EACJ5B,EAAcA,EAAcK,OAAS,GAAGrB,iBAIpC6C,GADerD,EAAesB,GAAOgC,SAEzB9B,EAAc,GAAG7C,MAAjC,MAEA,EACI4E,EAAmB/B,EAAcN,QACrC,SAACd,GAAD,OAAOA,EAAEC,gBAAkBgD,KAC3B,GAGAJ,EAAY3B,GADViC,EACmB,CACnBC,KAAMV,EAActB,GACpBiC,WAAYxD,EAAOkD,GAAqB,EACxCO,WAAYnD,EAAO6C,GACnBO,gBAAiB1D,EAAOoD,GACxBO,gBAAiBrD,EAAOgD,EAAiB/C,mBAGtB,CACnBgD,KAAMV,EAActB,GACpBiC,WAAYxD,EAAOkD,GAAqB,EACxCO,WAAYnD,EAAO6C,IAKvB,IAAIS,EAAS,EACTC,EAAS,EAETnC,EAAI,KACNkC,GAAU,IACVC,EAAS,KAGXnE,EACGoE,OAAO,UACP3B,KAAK,KAFR,iBAEwBX,IACrBW,KAAK,IAAK,GACVA,KAAK,OAAQpC,EAAesB,GAAOiB,OAC5CH,KAAK,SAAUlC,EAAM8D,QAAQ3B,KAAK4B,SAExBtC,EAAI,KACNhC,EACGoE,OAAO,QACP3B,KAAK,KAFR,kBAEyBX,IACtBW,KAAK,IAAK,GAAKyB,GACfzB,KAAK,IAAK,GAAS,GAAJT,EAASmC,GACxBI,MAAM,YAAa,IAEtBvE,EACGoE,OAAO,QACP3B,KAAK,KAFR,oBAE2BX,IACxBW,KAAK,IAAK,GAAKyB,GACfzB,KAAK,IAAK,GAAS,GAAJT,EAASmC,GACxBI,MAAM,YAAa,QAG5BtB,EAAeK,MAEhB,CAACnD,EAAYE,IAGd,oCACE,kBAAC,EAAD,CAAWL,MAAOA,EAAOC,QAASA,EAASC,YAAaA,IACvDC,EAAW+B,OAAS,EACnBd,OAAOC,KAAKnB,GACToB,OACAkD,KAAI,SAAC7C,EAAOK,GACX,IAAMF,EAAYyB,EAAU5B,GAAOI,WAEnC,OACE,uBAAG0C,IAAKzC,EAAG0C,GAAE,wBAAmB5C,IAC9B,0BACE6C,KAAK,OACLC,OAAQvE,EAAesB,GAAOiB,MAC9BiC,YAAa,EACbC,eAAe,QACfC,cAAc,QACdtE,EAAGP,EAAYyB,GAAOkC,OAExB,4BACEa,GAAG,uBACHM,EAAG,EACHL,KACEzE,EAAYyB,GAAOqC,gBACf3D,EAAesB,GAAOiB,MACtB,OAENqC,GAAI/E,EAAYyB,GAAOqC,gBACvBkB,GAAIhF,EAAYyB,GAAOsC,kBAEzB,0BACES,GAAE,qBAAgB5C,GAC9BqD,UAAU,aACVZ,MAAO,CAACI,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,QAASc,SAAU,QACxChC,EAAGlD,EAAYyB,GAAOmC,WACtBT,EAAGnD,EAAYyB,GAAOoC,YAErB1D,EAAesB,GAAOgB,kBAMjC,8B,SCzJAtD,EAA0BD,EAA1BC,MAAOG,EAAmBJ,EAAnBI,OAAQC,EAAWL,EAAXK,OAEjB4F,EAAYC,aAAW,SAAC/E,GAAD,MAAY,CACxCgF,MAAO,CACNZ,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,QACzBc,SAAS,SAEVI,KAAM,CACLb,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,SAE1BmB,UAAW,CACVd,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,QACzBc,SAAU,OAEXM,UAAW,CACVN,SAAU,YAINO,EAAiB,WAAO,IACtBxF,EAAcC,qBAAWzB,GAAzBwB,WACAI,EAASH,qBAAWrB,GAApBwB,MACEqF,EAAWC,iBAAO,MAClBC,EAAWD,iBAAO,MAClBE,EAASF,iBAAO,MACnBG,EAAYH,iBAAO,MACrBI,EAAUZ,IAELrF,EAAQd,IAAU8G,EAAUE,SAAS9B,OAAO,KAC7C3B,KAAK,QAAS,SACd8B,MAAM,UAAW,QAEhBtE,EAAUf,IAAU8G,EAAUE,SAAS9B,OAAO,QAC/C3B,KAAK,QAAS,WACdA,KAAK,QAAS3C,EAAQT,OAC5BoD,KAAK,SAAU3C,EAAQN,QACvBiD,KAAK,UAAW,KACV1B,GAAG,aAAa,kBAAMf,EAAMuE,MAAM,UAAW,SAkBlD,OAhBAzD,qBAAU,WAEN,IAAMR,EAASpB,MACVsB,OAAOtB,IAAUiB,GAAY,SAAAM,GAAC,OAAIA,EAAEC,kBACpCC,MAAM,CAAC,EAAGb,EAAQT,QACjBuB,EAAS1B,MACVsB,OAAOtB,IAAUiB,GAAY,SAAAM,GAAC,OAAIA,EAAEI,qBACpCF,MAAM,CAACb,EAAQN,OAAQ,IAGtB2G,EAAiBjH,MAAckH,MAAMxF,GACrCyF,EAAiBnH,MAAgBkH,MAAM9F,GAC7CpB,IAAU4G,EAASI,SAASI,KAAKD,GACjCnH,IAAU0G,EAASM,SAASI,KAAKH,KACrC,CAAChG,EAAYb,OAAOC,aAGhB,yBAAKC,OAAQA,EAAQH,MAAOA,GACxB,yBACIqF,GAAG,QACHlF,OAAQA,EACRH,MAAOA,EACPkH,IAAKR,GAEL,0BACXZ,UAAWc,EAAQV,MACnBhB,MAAO,CAACI,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,SACjCkC,WAAW,SACIC,UAAS,qBAAgBhH,EAAOI,KAAOC,EAAQT,MAAQ,EAA9C,aAAoDI,EAAOC,IAAM,EAAjE,MAJb,gCAQA,0BACXyF,UAAWc,EAAQR,UACnBlB,MAAO,CAACI,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,SAClBkC,WAAW,SACXC,UAAS,oBAAehH,EAAOI,KAAOC,EAAQT,MAAQ,EAA7C,aAAmDS,EAAQN,OAASC,EAAOC,IAAM,GAAjF,MAJb,mBAQA,0BACXyF,UAAWc,EAAQR,UACnBlB,MAAO,CAACI,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,SAClBkC,WAAW,SACXC,UAAS,oBAAepH,EAAQS,EAAQT,MAAQI,EAAOE,MAAQ,GAAtD,aAA6DG,EAAQN,OAAS,EAA9E,kBAJb,yBAQA,0BACI2F,UAAWc,EAAQP,UACnBc,WAAW,OACXjC,MAAO,CAACI,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,SACjCmC,UAAS,oBAAehH,EAAOI,KAAtB,aAA+BC,EAAQN,OAASC,EAAOC,IAAM,GAA7D,MAJb,yFAQA,0BACIyF,UAAWc,EAAQP,UACnBc,WAAW,OACXjC,MAAO,CAACI,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,SACjCmC,UAAS,oBAAehH,EAAOI,KAAtB,aAA+BC,EAAQN,OAASC,EAAOC,IAAM,GAA7D,MAJb,mDAQA,0BACIyF,UAAWc,EAAQP,UACnBc,WAAW,OACXjC,MAAO,CAACI,KAAMpE,EAAM8D,QAAQ3B,KAAK4B,SACjCmC,UAAS,oBAAehH,EAAOI,KAAtB,aAA+BC,EAAQN,OAASC,EAAOC,IAAM,IAA7D,MAJb,uHAQA,uBAAGgF,GAAG,SAAS+B,UAAS,oBAAehH,EAAOI,KAAtB,aAA+BJ,EAAOC,IAAtC,KAA8C6G,IAAKP,GACtF,uBACCO,IAAKX,EACLlB,GAAG,SACHH,MAAO,CAAC3B,MAAOrC,EAAM8D,QAAQ3B,KAAK4B,WACnC,uBACCiC,IAAKT,EACLpB,GAAG,SACH+B,UAAS,sBAAiB3G,EAAQN,OAAzB,KACT+E,MAAO,CAAC3B,MAAOrC,EAAM8D,QAAQ3B,KAAK4B,WACpB,kBAAC,EAAD,CAAMtE,MAAOA,EAAOC,QAASA,Q,iHC/H3CyG,EAAc,WAAO,IAAD,EACmBtG,qBAAWtB,GAAhDuB,EADkB,EAClBA,eAAgBsG,EADE,EACFA,kBADE,GAETvG,qBAAWrB,GAApBwB,MACyByC,mBAAS,OAHhB,mBAGlB4D,EAHkB,KAGRC,EAHQ,OAImB7D,mBAAS,MAJ5B,mBAIlB8D,EAJkB,KAIFC,EAJE,OAKa/D,mBAAS,IAAIgE,MAL1B,mBAKlBC,EALkB,KAKJC,EALI,KAMnBC,EAActB,iBAAO,MAEpBuB,EAAc,SAACC,GACnBR,EAAYQ,EAAEC,eACdP,EAAkBM,EAAEC,cAAcC,OAG9BC,EAAc,WAClBX,EAAY,MACZE,EAAkB,OAOdU,EAAc,SAACJ,GAGnB,IAAMK,EAAgB,GAChBC,EAAevG,OAAOC,KAAKhB,GAAgBiB,MAC/C,SAACsG,EAAGC,GAAJ,OACExH,EAAewH,GAAGC,gBAAkBzH,EAAeuH,GAAGE,mBAEpDC,EAA2B3G,OAAOC,KAAKhB,GAAgBiB,MAC3D,SAACsG,EAAGC,GAAJ,OACExH,EAAewH,GAAGC,gBAAkBzH,EAAewH,GAAGG,WACtD3H,EAAeuH,GAAGE,gBAAkBzH,EAAeuH,GAAGI,cAGtC,iBAAhBX,EAAEY,OAAOvD,GACXiD,EAAajG,SAAQ,SAACF,EAAGQ,GACvB0F,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUO,EAAI,QAGO,oBAAhBqF,EAAEY,OAAOvD,GAClBiD,EAAaO,UAAUxG,SAAQ,SAACF,EAAGQ,GACjC0F,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUO,EAAI,QAGO,0BAAhBqF,EAAEY,OAAOvD,GAClBqD,EAAyBrG,SAAQ,SAACF,EAAGQ,GACnC0F,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUO,EAAI,QAGO,6BAAhBqF,EAAEY,OAAOvD,IAClBqD,EAAyBG,UAAUxG,SAAQ,SAACF,EAAGQ,GAC7C0F,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUO,EAAI,QAIpB2E,EAAkBe,GAClBF,KAGIW,EAAiB,SAACd,GAGtB,IAAMK,EAAgB,GAEF,sBAAhBL,EAAEY,OAAOvD,GACXtD,OAAOC,KAAKhB,GAAgBqB,SAAQ,SAACF,GACnCkG,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUpB,EAAemB,GAAGmC,SAAW,IAAIqD,UAGtB,yBAAhBK,EAAEY,OAAOvD,IAClBtD,OAAOC,KAAKhB,GAAgBqB,SAAQ,SAACF,GACnCkG,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,WAAUpB,EAAemB,GAAGmC,SAAW,IAAIqD,WAIjDL,EAAkBe,GAClBF,KAGIY,EAAmB,SAACf,GAExB,IAAMK,EAAgB,GAChBC,EAAevG,OAAOC,KAAKhB,GAAgBiB,MAC/C,SAACsG,EAAGC,GAAJ,OAAUxH,EAAewH,GAAGG,WAAa3H,EAAeuH,GAAGI,cAGzC,sBAAhBX,EAAEY,OAAOvD,GACXiD,EAAajG,SAAQ,SAACF,EAAGQ,GACvB0F,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUO,EAAI,QAIlB2F,EAAaO,UAAUxG,SAAQ,SAACF,EAAGQ,GACjC0F,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUO,EAAI,QAIpB2E,EAAkBe,GAClBF,KAGIa,EAAe,SAAChB,GACvB,IAAMK,EAAgB,GAChBY,EAAmBlH,OAAOC,KAAKhB,GAAgBkB,QAAO,SAAAC,GAAC,OAAInB,EAAemB,GAAG+G,SAAWlB,EAAEY,OAAOvD,MAEvGtD,OAAOC,KAAKhB,GAAgBqB,SAAQ,SAAAF,GAC/B8G,EAAiBE,SAAShH,GAC7BkG,EAAclG,GAAd,eACInB,EAAemB,GADnB,CAECC,UAAU,IAGXiG,EAAclG,GAAd,eACInB,EAAemB,GADnB,CAECC,UAAU,OAKbkF,EAAkBe,GAClBF,KAyBC,OAtBA1G,qBAAU,WACR,IAAM4G,EAAgB,GAEM,oBAAxBP,EAAYjB,QACd9E,OAAOC,KAAKhB,GAAgBqB,SAAQ,SAACF,GACnCkG,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUpB,EAAemB,GAAGmC,SAAWsD,OAGV,mBAAxBE,EAAYjB,SACrB9E,OAAOC,KAAKhB,GAAgBqB,SAAQ,SAACF,GACnCkG,EAAclG,GAAd,eACKnB,EAAemB,GADpB,CAEEC,SAAUpB,EAAemB,GAAGmC,SAAWsD,OAI7CN,EAAkBe,GAClBF,MACC,CAACP,IAGF,8BACE,kBAACwB,EAAA,EAAD,CAAQ/D,GAAG,eAAe6C,KAAK,QAAQmB,QAAStB,GAAhD,yBAGA,kBAACuB,EAAA,EAAD,CACEjE,GAAG,oBACHkC,SAAUA,EACVgC,aAAW,EACXC,KAAMC,QAA2B,UAAnBhC,GACpBiC,QAASvB,GAEH,kBAACwB,EAAA,EAAD,CAAUtE,GAAG,eAAegE,QAASjB,GAArC,sBACA,kBAACuB,EAAA,EAAD,CAAUtE,GAAG,kBAAkBgE,QAASjB,GAAxC,qBACA,kBAACuB,EAAA,EAAD,CAAUtE,GAAG,wBAAwBgE,QAASjB,GAA9C,yBACA,kBAACuB,EAAA,EAAD,CAAUtE,GAAG,2BAA2BgE,QAASjB,GAAjD,yBAGF,kBAACgB,EAAA,EAAD,CAAQ/D,GAAG,kBAAkB6C,KAAK,WAAWmB,QAAStB,GAAtD,2BAGA,kBAACuB,EAAA,EAAD,CACEjE,GAAG,uBACHkC,SAAUA,EACVgC,aAAW,EACXC,KAAMC,QAA2B,aAAnBhC,GACdiC,QAASvB,GAET,kBAACwB,EAAA,EAAD,CAAUtE,GAAG,oBAAoBgE,QAASP,GAA1C,qBACA,kBAACa,EAAA,EAAD,CAAUtE,GAAG,uBAAuBgE,QAASP,GAA7C,wBACA,kBAACa,EAAA,EAAD,CACEtE,GAAG,kBACH6B,IAAKY,EACLuB,QAAS,SAACrB,GAAD,OAAQF,EAAYjB,QAAUmB,EAAEC,cAAc5C,KAHzD,mBAME,kBAACuE,EAAA,EAAD,CACEC,QAAQ,SACRC,gBAAc,EACdC,QAAM,EACNC,MAAOpC,EACPqC,SA1Le,SAACjC,GACxBH,EAAcG,IA0LNkC,eAAe,EACfC,OAAO,gBAGX,kBAACR,EAAA,EAAD,CACEtE,GAAG,iBACH6B,IAAKY,EACLuB,QAAS,SAACrB,GAAD,OAAQF,EAAYjB,QAAUmB,EAAEC,cAAc5C,KAHzD,kBAME,kBAACuE,EAAA,EAAD,CACEC,QAAQ,SACRC,gBAAc,EACdC,QAAM,EACNC,MAAOpC,EACPqC,SAAU,SAACtK,GAAD,OAAUkI,EAAclI,IAClCuK,eAAe,EACfC,OAAO,iBAKb,kBAACf,EAAA,EAAD,CAAQ/D,GAAG,oBAAoB6C,KAAK,aAAamB,QAAStB,GAA1D,8BAGA,kBAACuB,EAAA,EAAD,CACJjE,GAAG,yBACHkC,SAAUA,EACVgC,aAAW,EACXC,KAAMC,QAA2B,eAAnBhC,GACdiC,QAASvB,GAEH,kBAACwB,EAAA,EAAD,CAAUtE,GAAG,oBAAoBgE,QAASN,GAA1C,cACA,kBAACY,EAAA,EAAD,CAAUtE,GAAG,uBAAuBgE,QAASN,GAA7C,cAGF,kBAACK,EAAA,EAAD,CAAQ/D,GAAG,gBAAgB6C,KAAK,SAASmB,QAAStB,GAAlD,oBAGA,kBAACuB,EAAA,EAAD,CACEjE,GAAG,qBACHkC,SAAUA,EACVgC,aAAW,EACXC,KAAMC,QAA2B,WAAnBhC,GACdiC,QAASvB,GAET,kBAACwB,EAAA,EAAD,CAAUtE,GAAG,YAAYgE,QAASL,GAAlC,aACN,kBAACW,EAAA,EAAD,CAAUtE,GAAG,UAAUgE,QAASL,GAAhC,WACA,kBAACW,EAAA,EAAD,CAAUtE,GAAG,QAAQgE,QAASL,GAA9B,SACA,kBAACW,EAAA,EAAD,CAAUtE,GAAG,OAAOgE,QAASL,GAA7B,W,oCCzQWoB,EAAS,CAClB,YACA,eACA,aACA,QACA,QACA,aACA,QACA,YACA,YACA,aACA,YACA,OACA,QACA,WACA,UACA,OACA,WACA,cACA,aACA,YACA,cACA,cACA,UACA,YACA,aACA,OACA,YACA,QACA,cACA,WACA,UACA,YACA,QACA,WACA,gBACA,YACA,eACA,YACA,aACA,YACA,uBACA,YACA,YACA,aACA,YACA,cACA,gBACA,eACA,iBACA,iBACA,iBACA,cACA,OACA,YACA,QACA,UACA,SACA,mBACA,aACA,eACA,eACA,iBACA,kBACA,oBACA,kBACA,kBACA,eACA,YACA,YACA,WACA,cACA,OACA,UACA,QACA,YACA,SACA,YACA,SACA,gBACA,YACA,gBACA,gBACA,aACA,YACA,OACA,OACA,OACA,aACA,SACA,gBACA,MACA,YACA,YACA,cACA,SACA,aACA,WACA,WACA,SACA,SACA,UACA,YACA,YACA,YACA,OACA,cACA,YACA,MACA,OACA,UACA,SACA,YACA,SACA,QACA,QACA,aACA,SACA,e,kCCtGEC,EAAY,WAAO,IACdvJ,EAAcC,qBAAWzB,GAAzBwB,WADa,EAEwBC,qBAAWtB,GAAhDuB,EAFa,EAEbA,eAAgBsG,EAFH,EAEGA,kBAEjBgD,EAAe,SAACtC,GAClBV,EAAkB,eACXtG,EADU,eAEZgH,EAAEY,OAAOV,KAFG,eAGNlH,EAAegH,EAAEY,OAAOV,MAHlB,CAIT9F,SAAU4F,EAAEY,OAAO2B,cAyD/B,OA9BA9I,qBAAU,WAEN,IAAM3B,EAAa0K,YAAU,YACvBnC,EAAgB,GAEtBtG,OAAOC,KAAKkC,GAAW7B,SAAQ,SAACF,EAAEQ,GAC9B0F,EAAclG,GAAd,eACO+B,EAAU/B,GADjB,CAEImC,SAAUJ,EAAU/B,GAAGmC,SAASmG,WAAW,QAAUvG,E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","file":"static/js/main.a005a0bf.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst dataContext = React.createContext();\r\n\r\nexport { dataContext };","import React from 'react';\r\n\r\nconst statesContext = React.createContext();\r\n\r\nexport { statesContext };","import React from 'react';\r\n\r\nconst themeContext = React.createContext();\r\n\r\nexport { themeContext };","import * as d3 from \"d3\";\r\n\r\nconst date = {\r\n  dateFormatter: d3.timeFormat(\"%m-%d-%y\"),\r\n  dateParser: d3.timeParse(\"%m-%d-%y\"),\r\n};\r\n\r\nconst dimensions = {\r\n  width: window.innerWidth,\r\n  height: 750,\r\n  margin: {\r\n    top: 80,\r\n    right: 100,\r\n    bottom: 120,\r\n    left: 100,\r\n  },\r\n};\r\n\r\nconst bounded = {\r\n  width: dimensions.width - dimensions.margin.left - dimensions.margin.right,\r\n  height: dimensions.height - dimensions.margin.top - dimensions.margin.bottom,\r\n};\r\n\r\nexport { date, dimensions, bounded };\r\n","import { useEffect, useContext } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n// context\r\nimport { dataContext } from '../../context/dataContext';\r\nimport { statesContext } from '../../context/statesContext';\r\nimport { themeContext } from '../../context/themeContext';\r\n\r\n// constants\r\nimport { date, bounded } from '../util/constants';\r\n\r\nexport const MouseMove = ({ focus, overlay, linesStates }) => {\r\n    const { dataStates } = useContext(dataContext);\r\n\tconst { selectedStates } = useContext(statesContext);\r\n\tconst { theme } = useContext(themeContext);\r\n\r\n    const xScale = d3.scaleLinear().domain(d3.extent(dataStates, d => d.dayOfOutbreak)).range([0, bounded.width]);\r\n    const yScale = d3.scaleLinear().domain(d3.extent(dataStates, d => d.casesPerThousand)).range([bounded.height, 0]);\r\n\r\n    useEffect(() => {\r\n        if (overlay) {\r\n\r\n            overlay.on('mousemove', mousemove);\r\n\r\n            let frozen = false;\r\n\r\n            function mousemove() {\r\n                let x0 = xScale.invert(d3.mouse(this)[0]);\r\n                const bisectDate = d3.bisector(d => d.dayOfOutbreak).left;\r\n\r\n                Object.keys(selectedStates).sort()\r\n                    .filter(s => selectedStates[s].selected === true)\r\n                    .forEach((state, index) => {\r\n                        const dataEachState = dataStates.filter(d => d.state === state);\r\n                        const stateHTML = selectedStates[state].htmlFormat;\r\n                        const i = bisectDate(dataEachState, x0, 0);\r\n\r\n                        let dataEachStateRangeY = dataEachState[i]\r\n                            ? dataEachState[i].casesPerThousand \r\n                            : dataEachState[dataEachState.length - 1].casesPerThousand;\r\n                        let dataEachStateRangeX = dataEachState[i] \r\n                            ? dataEachState[i].dayOfOutbreak \r\n                            : dataEachState[dataEachState.length - 1].dayOfOutbreak;\r\n                        let dataEachStateRangeDate = dataEachState[i] \r\n                            ? date.dateFormatter(dataEachState[i].date) \r\n                            : date.dateFormatter(dataEachState[dataEachState.length - 1].date);\r\n                        let dataEachStateRangeCases = dataEachState[i]\r\n                            ? dataEachState[i].cases \r\n                            : dataEachState[dataEachState.length - 1].cases;\r\n\r\n                        const toggleFreeze = () => {\r\n                            frozen = !frozen;\r\n                        };\r\n\r\n                        overlay.on('click', toggleFreeze);\r\n\r\n                        if (!frozen) {\r\n                            focus.select(`#circle-${stateHTML}`)\r\n                                .attr('cy', yScale(dataEachStateRangeY))\r\n                                .attr('cx', xScale(dataEachStateRangeX));\r\n\r\n                            focus.select(`#d-label-${stateHTML}`)\r\n                                .text(`${selectedStates[state].abbreviation} => ${dataEachStateRangeDate} (Day: ${dataEachStateRangeX})`)\r\n\t\t\t\t\t\t\t\t.attr('fill', selectedStates[state].color)\r\n\r\n                            focus.select(`#d-label-b-${stateHTML}`)\r\n                                .text(`${dataEachStateRangeCases} cases (${dataEachStateRangeY.toFixed(3)} per 1000)`)\r\n                                .attr('fill', selectedStates[state].color)\r\n                        } \r\n                    });\r\n                }\r\n            }\r\n    }, [linesStates]);\r\n    return null;\r\n}","import React, { useState, useContext, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\n// functions\r\nimport { MouseMove } from \"../util/MouseMove\";\r\n\r\n// data\r\nimport stateInfo from \"../../data/stateInfo.json\";\r\n\r\n// context\r\nimport { dataContext } from \"../../context/dataContext\";\r\nimport { statesContext } from \"../../context/statesContext\";\r\nimport { themeContext } from '../../context/themeContext';\r\n\r\n// constants\r\nimport { bounded } from \"../util/constants\";\r\n\r\nconst Line = ({ focus, overlay }) => {\r\n  const { selectedStates } = useContext(statesContext);\r\n  const { dataStates } = useContext(dataContext);\r\n  const { theme, setTheme } = useContext(themeContext);\r\n  const [linesStates, setLinesStates] = useState([]);\r\n\r\n  const clearFocus = () => {\r\n    focus.selectAll(['circle', 'text']).attr('display', 'none')\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => clearFocus();\r\n  }, [selectedStates]);\r\n\r\n  useEffect(() => {\r\n    if (dataStates.length > 0) {\r\n\r\n      // Scales\r\n      const xScale = d3\r\n        .scaleLinear()\r\n        .domain(d3.extent(dataStates, (d) => d.dayOfOutbreak))\r\n        .range([0, bounded.width]);\r\n      const yScale = d3\r\n        .scaleLinear()\r\n        .domain(d3.extent(dataStates, (d) => d.casesPerThousand))\r\n        .range([bounded.height, 0]);\r\n\r\n      // Lines\r\n      const lineGenerator = d3\r\n        .line()\r\n        .x((d) => xScale(d.dayOfOutbreak))\r\n        .y((d) => yScale(d.casesPerThousand));\r\n\r\n      const linesObject = {};\r\n\r\n      Object.keys(selectedStates)\r\n        .sort()\r\n        .filter((s) => selectedStates[s].selected === true)\r\n        .forEach((state, i) => {\r\n          const dataEachState = dataStates.filter((d) => d.state === state);\r\n          const stateHTML = stateInfo[state].htmlFormat;\r\n\r\n          // Line label placement\r\n          const lastDayOfOutbreak =\r\n            dataEachState[dataEachState.length - 1].dayOfOutbreak;\r\n          const lastCasesPerThousand =\r\n            dataEachState[dataEachState.length - 1].casesPerThousand;\r\n\r\n          // markers for lockdown date\r\n          const lockdownDate = selectedStates[state].lockdown;\r\n          const lockdownDay =\r\n            (lockdownDate - dataEachState[0].date) /\r\n              (24 * 60 * 60 * 10 * 10 * 10) +\r\n            1;\r\n          const lockdownDayDatum = dataEachState.filter(\r\n            (d) => d.dayOfOutbreak === lockdownDay\r\n          )[0];\r\n\r\n          if (lockdownDayDatum) {\r\n            linesObject[state] = {\r\n              line: lineGenerator(dataEachState),\r\n              lineLabelX: xScale(lastDayOfOutbreak) + 3,\r\n              lineLabelY: yScale(lastCasesPerThousand),\r\n              lockdownMarkerX: xScale(lockdownDay),\r\n              lockdownMarkerY: yScale(lockdownDayDatum.casesPerThousand),\r\n            };\r\n          } else {\r\n            linesObject[state] = {\r\n              line: lineGenerator(dataEachState),\r\n              lineLabelX: xScale(lastDayOfOutbreak) + 3,\r\n              lineLabelY: yScale(lastCasesPerThousand),\r\n            };\r\n          }\r\n\r\n          // for mousemove\r\n          let xShift = 0;\r\n          let yShift = 0;\r\n\r\n          if (i > 12) {\r\n            xShift += 200;\r\n            yShift = 13 * 40;\r\n          }\r\n\r\n          focus\r\n            .append(\"circle\")\r\n            .attr(\"id\", `circle-${stateHTML}`)\r\n            .attr(\"r\", 5)\r\n            .attr(\"fill\", selectedStates[state].color)\r\n\t\t\t.attr(\"stroke\", theme.palette.text.primary);\r\n\r\n          if (i < 26) {\r\n            focus\r\n              .append(\"text\")\r\n              .attr(\"id\", `d-label-${stateHTML}`)\r\n              .attr(\"x\", 10 + xShift)\r\n              .attr(\"y\", 10 + i * 40 - yShift)\r\n              .style(\"font-size\", 12);\r\n\r\n            focus\r\n              .append(\"text\")\r\n              .attr(\"id\", `d-label-b-${stateHTML}`)\r\n              .attr(\"x\", 10 + xShift)\r\n              .attr(\"y\", 25 + i * 40 - yShift)\r\n              .style(\"font-size\", 12);\r\n          }\r\n        });\r\n      setLinesStates(linesObject);\r\n    }\r\n  }, [dataStates, selectedStates]);\r\n\r\n  return (\r\n    <>\r\n      <MouseMove focus={focus} overlay={overlay} linesStates={linesStates} />\r\n      {dataStates.length > 0 ? (\r\n        Object.keys(linesStates)\r\n          .sort()\r\n          .map((state, i) => {\r\n            const stateHTML = stateInfo[state].htmlFormat;\r\n\r\n            return (\r\n              <g key={i} id={`bounds-render-${stateHTML}`}>\r\n                <path\r\n                  fill=\"none\"\r\n                  stroke={selectedStates[state].color}\r\n                  strokeWidth={2}\r\n                  strokeLinejoin=\"round\"\r\n                  strokeLinecap=\"round\"\r\n                  d={linesStates[state].line}\r\n                />\r\n                <circle\r\n                  id=\"line-marker-lockdown\"\r\n                  r={4}\r\n                  fill={\r\n                    linesStates[state].lockdownMarkerX\r\n                      ? selectedStates[state].color\r\n                      : \"none\"\r\n                  }\r\n                  cx={linesStates[state].lockdownMarkerX}\r\n                  cy={linesStates[state].lockdownMarkerY}\r\n                />\r\n                <text\r\n                  id={`line-label-${stateHTML}`}\r\n\t\t\t\t  className=\"line-label\"\r\n\t\t\t\t  style={{fill: theme.palette.text.primary, fontSize: \"14px\"}}\r\n                  x={linesStates[state].lineLabelX}\r\n                  y={linesStates[state].lineLabelY}\r\n                >\r\n                  {selectedStates[state].abbreviation}\r\n                </text>\r\n              </g>\r\n            );\r\n          })\r\n      ) : (\r\n        <g></g>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { Line };\r\n","import React, { useContext, useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n// Components\r\nimport { Line } from './Line';\r\n\r\n// Context\r\nimport { dataContext } from '../../context/dataContext';\r\nimport { themeContext } from '../../context/themeContext';\r\n\r\n// constants\r\nimport { dimensions, bounded } from '../util/constants';\r\n\r\n// Styles\r\n// import '../../styles/styles.css';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst { width, height, margin } = dimensions;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\ttitle: {\r\n\t\tfill: theme.palette.text.primary,\r\n\t\tfontSize:'2.5vh'\r\n\t},\r\n\taxes: {\r\n\t\tfill: theme.palette.text.primary,\r\n\t},\r\n\taxisLabel: {\r\n\t\tfill: theme.palette.text.primary,\r\n\t\tfontSize: '2vh'\r\n\t},\r\n\tfootnotes: {\r\n\t\tfontSize: '10px'\r\n\t}\r\n}));\r\n\r\nconst ChartUSCompare = () => {\r\n\tconst {dataStates} = useContext(dataContext);\r\n\tconst {theme} = useContext(themeContext);\r\n    const yAxisRef = useRef(null);\r\n    const xAxisRef = useRef(null);\r\n    const svgRef = useRef(null);\r\n\tconst boundsRef = useRef(null);\r\n\tlet classes = useStyles();\r\n\r\n    const focus = d3.select(boundsRef.current).append('g')\r\n        .attr('class', 'focus')\r\n        .style('display', 'none');\r\n\r\n    const overlay = d3.select(boundsRef.current).append('rect')\r\n        .attr('class', 'overlay')\r\n        .attr('width', bounded.width)\r\n\t\t.attr('height', bounded.height)\r\n\t\t.attr('opacity', '0')\r\n        .on('mouseover', () => focus.style('display', null))\r\n\r\n    useEffect(() => {\r\n        // Scales\r\n        const xScale = d3.scaleLinear()\r\n            .domain(d3.extent(dataStates, d => d.dayOfOutbreak))\r\n            .range([0, bounded.width]);\r\n        const yScale = d3.scaleLinear()\r\n            .domain(d3.extent(dataStates, d => d.casesPerThousand))\r\n            .range([bounded.height, 0]);\r\n\r\n        // Axes\r\n        const yAxisGenerator = d3.axisLeft().scale(yScale);\r\n        const xAxisGenerator = d3.axisBottom().scale(xScale);\r\n        d3.select(xAxisRef.current).call(xAxisGenerator);\r\n        d3.select(yAxisRef.current).call(yAxisGenerator);\r\n\t}, [dataStates, window.innerWidth]);\r\n\r\n    return (\r\n        <div height={height} width={width}>\r\n            <svg \r\n                id=\"chart\" \r\n                height={height} \r\n                width={width} \r\n                ref={svgRef}\r\n            >\r\n                <text\r\n\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\tstyle={{fill: theme.palette.text.primary}}\r\n\t\t\t\t\ttextAnchor=\"middle\"\r\n                    transform={`translate (${margin.left + bounded.width / 2}, ${margin.top / 2})`}\r\n                >\r\n                    COVID-19 US State Comparison\r\n                </text>\r\n                <text \r\n\t\t\t\t\tclassName={classes.axisLabel}\r\n\t\t\t\t\tstyle={{fill: theme.palette.text.primary}}\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate(${margin.left + bounded.width / 2}, ${bounded.height + margin.top + 40})`}\r\n                >\r\n                    Day of Outbreak\r\n                </text>\r\n                <text \r\n\t\t\t\t\tclassName={classes.axisLabel}\r\n\t\t\t\t\tstyle={{fill: theme.palette.text.primary}}\r\n                    textAnchor=\"middle\"\r\n                    transform={`translate(${width - bounded.width - margin.right - 40}, ${bounded.height / 2}) rotate(-90)`}\r\n                >\r\n                    Cases per 1000 people\r\n                </text>\r\n                <text \r\n                    className={classes.footnotes}\r\n                    textAnchor=\"left\"\r\n                    style={{fill: theme.palette.text.primary}}\r\n                    transform={`translate(${margin.left}, ${bounded.height + margin.top + 60})`}\r\n                >\r\n                    *Data from The New York Times, based on reports from state and local health agencies.\r\n                </text>\r\n                <text \r\n                    className={classes.footnotes} \r\n                    textAnchor=\"left\"\r\n                    style={{fill: theme.palette.text.primary}}\r\n                    transform={`translate(${margin.left}, ${bounded.height + margin.top + 80})`}\r\n                >\r\n                    **Population data from US Census Bureau (2019).\r\n                </text>\r\n                <text \r\n                    className={classes.footnotes} \r\n                    textAnchor=\"left\"\r\n                    style={{fill: theme.palette.text.primary}}\r\n                    transform={`translate(${margin.left}, ${bounded.height + margin.top + 100})`}\r\n                >\r\n                    ***2/27 is earliest possible 'Day 1,' since prior cases were isolated and may skew insights of \"community spread\"\r\n                </text>\r\n                <g id=\"bounds\" transform={`translate(${margin.left}, ${margin.top})`} ref={boundsRef}>\r\n\t\t\t\t\t<g \r\n\t\t\t\t\t\tref={yAxisRef} \r\n\t\t\t\t\t\tid=\"y-axis\"\r\n\t\t\t\t\t\tstyle={{color: theme.palette.text.primary}} />\r\n\t\t\t\t\t<g \r\n\t\t\t\t\t\tref={xAxisRef} \r\n\t\t\t\t\t\tid=\"x-axis\" \r\n\t\t\t\t\t\ttransform={`translate(0,${bounded.height})`}\r\n\t\t\t\t\t\tstyle={{color: theme.palette.text.primary}} />\r\n                    <Line focus={focus} overlay={overlay}/>\r\n                </g>\r\n            </svg>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport { ChartUSCompare };","import React, { useState, useContext, useEffect, useRef } from \"react\";\r\nimport { Button, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { DatePicker } from \"@material-ui/pickers\";\r\n\r\n// context\r\nimport { statesContext } from \"../../context/statesContext\";\r\nimport { themeContext } from '../../context/themeContext';\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst BatchSelect = () => {\r\n\tconst {selectedStates, setSelectedStates} = useContext(statesContext);\r\n\tconst {theme} = useContext(themeContext);\r\n\tconst [anchorEl, setAnchorEl] = useState(null);\r\n\tconst [selectedFilter, setSelectedFilter] = useState(null);\r\n\tconst [selectedDate, setDateChange] = useState(new Date());\r\n\tconst lockdownRef = useRef(null);\r\n\t\r\n  const handleClick = (e) => {\r\n    setAnchorEl(e.currentTarget);\r\n    setSelectedFilter(e.currentTarget.name);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    setSelectedFilter(null);\r\n  };\r\n\r\n  const handleDateChange = (e) => {\r\n    setDateChange(e);\r\n  };\r\n\r\n  const filterCases = (e) => {\r\n    // top/bottom by total cases\r\n    // top/bottom by cases per 1000 people\r\n    const revisedStates = {};\r\n    const revisedOrder = Object.keys(selectedStates).sort(\r\n      (a, b) =>\r\n        selectedStates[b].latestCaseCount - selectedStates[a].latestCaseCount\r\n    );\r\n    const revisedOrderToPopulation = Object.keys(selectedStates).sort(\r\n      (a, b) =>\r\n        selectedStates[b].latestCaseCount / selectedStates[b].population -\r\n        selectedStates[a].latestCaseCount / selectedStates[a].population\r\n    );\r\n\r\n    if (e.target.id === \"cases-top-12\") {\r\n      revisedOrder.forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    } else if (e.target.id === \"cases-bottom-12\") {\r\n      revisedOrder.reverse().forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    } else if (e.target.id === \"cases-top-12-per-1000\") {\r\n      revisedOrderToPopulation.forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    } else if (e.target.id === \"cases-bottom-12-per-1000\") {\r\n      revisedOrderToPopulation.reverse().forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    }\r\n    setSelectedStates(revisedStates);\r\n    handleClose();\r\n  };\r\n\r\n  const filterLockdown = (e) => {\r\n    // before/after x date\r\n    // no current lockdown\r\n    const revisedStates = {};\r\n\r\n    if (e.target.id === \"all-with-lockdown\") {\r\n      Object.keys(selectedStates).forEach((s) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: selectedStates[s].lockdown < new Date() ? true : false,\r\n        };\r\n      });\r\n    } else if (e.target.id === \"all-without-lockdown\") {\r\n      Object.keys(selectedStates).forEach((s) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: selectedStates[s].lockdown < new Date() ? false : true,\r\n        };\r\n      });\r\n    }\r\n    setSelectedStates(revisedStates);\r\n    handleClose();\r\n  };\r\n\r\n  const filterPopulation = (e) => {\r\n    // above/below x population\r\n    const revisedStates = {};\r\n    const revisedOrder = Object.keys(selectedStates).sort(\r\n      (a, b) => selectedStates[b].population - selectedStates[a].population\r\n    );\r\n\r\n    if (e.target.id === \"population-top-12\") {\r\n      revisedOrder.forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    } else {\r\n      revisedOrder.reverse().forEach((s, i) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: i < 12 ? true : false,\r\n        };\r\n      });\r\n    }\r\n    setSelectedStates(revisedStates);\r\n    handleClose();\r\n  };\r\n\r\n  const filterRegion = (e) => {\r\n\tconst revisedStates = {};\r\n\tconst filteredByRegion = Object.keys(selectedStates).filter(s => selectedStates[s].region === e.target.id);\r\n\r\n\tObject.keys(selectedStates).forEach(s => {\r\n\t\tif (filteredByRegion.includes(s)) {\r\n\t\t\trevisedStates[s] = {\r\n\t\t\t\t...selectedStates[s],\r\n\t\t\t\tselected: true\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\trevisedStates[s] = {\r\n\t\t\t\t...selectedStates[s],\r\n\t\t\t\tselected: false\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\tsetSelectedStates(revisedStates);\r\n\thandleClose();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const revisedStates = {};\r\n\r\n    if (lockdownRef.current === \"lockdown-before\") {\r\n      Object.keys(selectedStates).forEach((s) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: selectedStates[s].lockdown < selectedDate ? true : false,\r\n        };\r\n      });\r\n    } else if (lockdownRef.current === \"lockdown-after\") {\r\n      Object.keys(selectedStates).forEach((s) => {\r\n        revisedStates[s] = {\r\n          ...selectedStates[s],\r\n          selected: selectedStates[s].lockdown > selectedDate ? true : false,\r\n        };\r\n      });\r\n    }\r\n    setSelectedStates(revisedStates);\r\n    handleClose();\r\n  }, [selectedDate]);\r\n\r\n  return (\r\n    <span>\r\n      <Button id=\"filter-cases\" name=\"cases\" onClick={handleClick} >\r\n        Filter by Case Counts\r\n      </Button>\r\n      <Menu\r\n        id=\"filter-cases-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(selectedFilter === \"cases\")}\r\n\t\tonClose={handleClose}\r\n      >\r\n        <MenuItem id=\"cases-top-12\" onClick={filterCases}>Highest 12 (total)</MenuItem>\r\n        <MenuItem id=\"cases-bottom-12\" onClick={filterCases}>Lowest 12 (total)</MenuItem>\r\n        <MenuItem id=\"cases-top-12-per-1000\" onClick={filterCases}>Highest 12 (per 1000)</MenuItem>\r\n        <MenuItem id=\"cases-bottom-12-per-1000\" onClick={filterCases}>Lowest 12 (per 1000)</MenuItem>\r\n\t  </Menu>\r\n\t  \r\n      <Button id=\"filter-lockdown\" name=\"lockdown\" onClick={handleClick}>\r\n        Filter by Lockdown Date\r\n      </Button>\r\n      <Menu\r\n        id=\"filter-lockdown-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(selectedFilter === \"lockdown\")}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem id=\"all-with-lockdown\" onClick={filterLockdown}>All with lockdown</MenuItem>\r\n        <MenuItem id=\"all-without-lockdown\" onClick={filterLockdown}>All without lockdown</MenuItem>\r\n        <MenuItem\r\n          id=\"lockdown-before\"\r\n          ref={lockdownRef}\r\n          onClick={(e) => (lockdownRef.current = e.currentTarget.id)}\r\n        >\r\n          Lockdown before:\r\n          <DatePicker\r\n            variant=\"inline\"\r\n            disableToolbar\r\n            autoOk\r\n            value={selectedDate}\r\n            onChange={handleDateChange}\r\n            disableFuture={true}\r\n            format=\"MM/dd/yyyy\"\r\n          />\r\n        </MenuItem>\r\n        <MenuItem\r\n          id=\"lockdown-after\"\r\n          ref={lockdownRef}\r\n          onClick={(e) => (lockdownRef.current = e.currentTarget.id)}\r\n        >\r\n          Lockdown after:\r\n          <DatePicker\r\n            variant=\"inline\"\r\n            disableToolbar\r\n            autoOk\r\n            value={selectedDate}\r\n            onChange={(date) => setDateChange(date)}\r\n            disableFuture={true}\r\n            format=\"MM/dd/yyyy\"\r\n          />\r\n        </MenuItem>\r\n      </Menu>\r\n\r\n      <Button id=\"filter-population\" name=\"population\" onClick={handleClick}>\r\n        Filter by Total Population\r\n      </Button>\r\n      <Menu\r\n\t\tid=\"filter-population-menu\"\r\n\t\tanchorEl={anchorEl}\r\n\t\tkeepMounted\r\n\t\topen={Boolean(selectedFilter === \"population\")}\r\n\t\tonClose={handleClose}\r\n      >\r\n        <MenuItem id=\"population-top-12\" onClick={filterPopulation}>Highest 12</MenuItem>\r\n        <MenuItem id=\"population-bottom-12\" onClick={filterPopulation}>Lowest 12</MenuItem>\r\n      </Menu>\r\n\r\n      <Button id=\"filter-region\" name=\"region\" onClick={handleClick}>\r\n        Filter by Region\r\n      </Button>\r\n      <Menu\r\n        id=\"filter-region-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(selectedFilter === \"region\")}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem id=\"northeast\" onClick={filterRegion}>Northeast</MenuItem>\r\n\t\t<MenuItem id=\"midwest\" onClick={filterRegion}>Midwest</MenuItem>\r\n\t\t<MenuItem id=\"south\" onClick={filterRegion}>South</MenuItem>\r\n\t\t<MenuItem id=\"west\" onClick={filterRegion}>West</MenuItem>\r\n      </Menu>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport { BatchSelect };\r\n","export const colors = [\r\n    \"AliceBlue\",\r\n    \"AntiqueWhite\",\r\n    \"Aquamarine\",\r\n    \"Azure\",\r\n    \"Beige\",\r\n    \"BlueViolet\",\r\n    \"Brown\",\r\n    \"BurlyWood\",\r\n    \"CadetBlue\",\r\n    \"Chartreuse\",\r\n    \"Chocolate\",\r\n    \"Aqua\",\r\n    \"Coral\",\r\n    \"Cornsilk\",\r\n    \"Crimson\",\r\n    \"Cyan\",\r\n    \"DeepPink\",\r\n    \"DeepSkyBlue\",\r\n    \"DodgerBlue\",\r\n    \"FireBrick\",\r\n    \"FloralWhite\",\r\n    \"ForestGreen\",\r\n    \"Fuchsia\",\r\n    \"Gainsboro\",\r\n    \"GhostWhite\",\r\n    \"Gold\",\r\n    \"GoldenRod\",\r\n    \"Green\",\r\n    \"GreenYellow\",\r\n    \"HoneyDew\",\r\n    \"HotPink\",\r\n    \"IndianRed\",\r\n    \"Ivory\",\r\n    \"Lavender\",\r\n    \"LavenderBlush\",\r\n    \"LawnGreen\",\r\n    \"LemonChiffon\",\r\n    \"LightBlue\",\r\n    \"LightCoral\",\r\n    \"LightCyan\",\r\n    \"LightGoldenRodYellow\",\r\n    \"LightGray\",\r\n    \"LightGrey\",\r\n    \"LightGreen\",\r\n    \"LightPink\",\r\n    \"LightSalmon\",\r\n    \"LightSeaGreen\",\r\n    \"LightSkyBlue\",\r\n    \"LightSlateGray\",\r\n    \"LightSlateGrey\",\r\n    \"LightSteelBlue\",\r\n    \"LightYellow\",\r\n    \"Lime\",\r\n    \"LimeGreen\",\r\n    \"Linen\",\r\n    \"Magenta\",\r\n    \"Maroon\",\r\n    \"MediumAquaMarine\",\r\n    \"MediumBlue\",\r\n    \"MediumOrchid\",\r\n    \"MediumPurple\",\r\n    \"MediumSeaGreen\",\r\n    \"MediumSlateBlue\",\r\n    \"MediumSpringGreen\",\r\n    \"MediumTurquoise\",\r\n    \"MediumVioletRed\",\r\n    \"MidnightBlue\",\r\n    \"MintCream\",\r\n    \"MistyRose\",\r\n    \"Moccasin\",\r\n    \"NavajoWhite\",\r\n    \"Navy\",\r\n    \"OldLace\",\r\n    \"Olive\",\r\n    \"OliveDrab\",\r\n    \"Orange\",\r\n    \"OrangeRed\",\r\n    \"Orchid\",\r\n    \"PaleGoldenRod\",\r\n    \"PaleGreen\",\r\n    \"PaleTurquoise\",\r\n    \"PaleVioletRed\",\r\n    \"PapayaWhip\",\r\n    \"PeachPuff\",\r\n    \"Peru\",\r\n    \"Pink\",\r\n    \"Plum\",\r\n    \"PowderBlue\",\r\n    \"Purple\",\r\n    \"RebeccaPurple\",\r\n    \"Red\",\r\n    \"RosyBrown\",\r\n    \"RoyalBlue\",\r\n    \"SaddleBrown\",\r\n    \"Salmon\",\r\n    \"SandyBrown\",\r\n    \"SeaGreen\",\r\n    \"SeaShell\",\r\n    \"Sienna\",\r\n    \"Silver\",\r\n    \"SkyBlue\",\r\n    \"SlateBlue\",\r\n    \"SlateGray\",\r\n    \"SlateGrey\",\r\n    \"Snow\",\r\n    \"SpringGreen\",\r\n    \"SteelBlue\",\r\n    \"Tan\",\r\n    \"Teal\",\r\n    \"Thistle\",\r\n    \"Tomato\",\r\n    \"Turquoise\",\r\n    \"Violet\",\r\n    \"Wheat\",\r\n    \"White\",\r\n    \"WhiteSmoke\",\r\n    \"Yellow\",\r\n    \"YellowGreen\",\r\n  ];","import React, { useContext, useEffect } from 'react';\r\nimport { timeParse, nest } from 'd3';\r\nimport { IconButton, FormControlLabel, FormGroup, Checkbox, Typography, Divider } from '@material-ui/core';\r\n\r\n// context\r\nimport { dataContext } from '../../context/dataContext';\r\nimport { statesContext } from '../../context/statesContext';\r\n\r\n// data\r\nimport stateInfo from '../../data/stateInfo.json';\r\n\r\n// styles\r\nimport { colors } from '../../styles/colors';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst Dashboard = () => {\r\n    const {dataStates} = useContext(dataContext);\r\n    const {selectedStates, setSelectedStates} = useContext(statesContext);\r\n\r\n    const handleChange = (e) => {\r\n        setSelectedStates({\r\n            ...selectedStates,\r\n            [e.target.name]: {\r\n                ...selectedStates[e.target.name],\r\n                selected: e.target.checked\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleSelectAll = (e) => {\r\n        const revisedStates = {}\r\n        Object.keys(selectedStates).forEach((s,i) => {\r\n            revisedStates[s] = {\r\n                ...selectedStates[s],\r\n                selected: true\r\n            }\r\n        });\r\n        setSelectedStates(revisedStates);\r\n    };\r\n\r\n    const handleDeselectAll = (e) => {\r\n        const revisedStates = {}\r\n        Object.keys(selectedStates).forEach((s,i) => {\r\n            revisedStates[s] = {\r\n                ...selectedStates[s],\r\n                selected: false\r\n            }\r\n         });\r\n        setSelectedStates(revisedStates);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // clean stateInfo data and assign selectedStates\r\n        const dateParser = timeParse('%m-%d-%y');\r\n        const revisedStates = {};\r\n\r\n        Object.keys(stateInfo).forEach((s,i) => {\r\n            revisedStates[s] = {\r\n                ...stateInfo[s],\r\n                lockdown: stateInfo[s].lockdown.startsWith(\"none\") ? stateInfo[s].lockdown : dateParser(stateInfo[s].lockdown),\r\n                color: colors[i],\r\n            }\r\n        });\r\n\r\n        const nested = nest()\r\n            .key(d => d.state)\r\n            .entries(dataStates);\r\n\r\n        Object.keys(nested).forEach(i => {\r\n            const s = nested[i].key;\r\n\r\n            const lastIndex = nested[i].values.length - 1;\r\n            const latestCaseCount = nested[i].values[lastIndex].cases;\r\n            revisedStates[s] = {\r\n                ...revisedStates[s],\r\n                latestCaseCount: latestCaseCount\r\n            };\r\n        });\r\n        setSelectedStates(revisedStates);\r\n    }, [dataStates]);\r\n\r\n    return (\r\n        <div>\r\n            <FormGroup style={{alignItems: 'left', backgroundColor: '#29293d'}}>\r\n                <FormControlLabel\r\n                id=\"select-all\"\r\n                label=\"Select All\"\r\n                name=\"Select All\"\r\n                onClick={handleSelectAll} \r\n                control={\r\n                    <IconButton \r\n                        id='selector-all' \r\n                        name=\"select-all\"\r\n                        style={{color: 'green'}}\r\n                    >\r\n                        <CheckIcon />\r\n                    </IconButton>\r\n                }\r\n                />\r\n                <FormControlLabel\r\n                    id=\"deselect-all\"\r\n                    label=\"Deselect All\"\r\n                    name=\"Deselect All\"\r\n                    onClick={handleDeselectAll}  \r\n                    control={\r\n                        <IconButton \r\n                            id='deselector-all' \r\n                            name=\"deselect-all\"\r\n                            style={{color: 'red'}}\r\n                        >\r\n                            <ClearIcon />\r\n                        </IconButton>\r\n                    }\r\n                /><br />\r\n                <Typography variant=\"h6\">Selected</Typography>\r\n                <Divider style={{backgroundColor: \"white\"}} />\r\n                {selectedStates\r\n                    ? Object.keys(selectedStates).sort()\r\n                        .filter(s => selectedStates[s].selected === true)\r\n                        .map((state, i) => {\r\n                            return (\r\n                                <FormControlLabel\r\n                                    key={i} \r\n                                    id={selectedStates[state].htmlFormat}\r\n                                    name={state}\r\n                                    checked={selectedStates[state].selected}\r\n                                    onChange={handleChange}\r\n                                    control={<Checkbox name={state} style={{color: selectedStates[state].color}}/>}\r\n                                    label={`${state} (${selectedStates[state].abbreviation})`} \r\n                                />\r\n                            )\r\n                        })\r\n                    : <div />\r\n                }<br />\r\n                <Typography variant=\"h6\">Not Selected</Typography>\r\n                <Divider style={{backgroundColor: \"white\"}} />\r\n                {selectedStates\r\n                    ? Object.keys(selectedStates).sort()\r\n                        .filter(s => selectedStates[s].selected === false)\r\n                        .map((state, i) => {\r\n                            return (\r\n                                <FormControlLabel\r\n                                    key={i} \r\n                                    id={selectedStates[state].htmlFormat}\r\n                                    name={state}\r\n                                    checked={selectedStates[state].selected}\r\n                                    onChange={handleChange}\r\n                                    control={<Checkbox name={state} style={{color: selectedStates[state].color}}/>}\r\n                                    label={`${state} (${selectedStates[state].abbreviation})`} \r\n                                />\r\n                            )\r\n                        })\r\n                    : <div />\r\n                }\r\n            </FormGroup>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport { Dashboard };","import React, { useState, useContext } from \"react\";\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  ClickAwayListener,\r\n  Drawer,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\n\r\n// components\r\nimport { BatchSelect } from \"./BatchSelect\";\r\nimport { Dashboard } from \"./Dashboard\";\r\n\r\n// context\r\nimport { themeContext } from '../../context/themeContext';\r\n\r\n// styles\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuOutlinedIcon from \"@material-ui/icons/MenuOutlined\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\n\r\nconst drawerWidth = 250;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n\tdisplay: \"flex\",\r\n\tbackgroundColor: theme.palette.primary.main,\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    })\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    color: theme.palette.text.primary,\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 1,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n    backgroundColor: theme.palette.background.default,\r\n  }\r\n}));\r\n\r\nconst FilterBar = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const {theme, setTheme} = useContext(themeContext);\r\n  const classes = useStyles();\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClickAway = (e) => {\r\n    if (e.x > drawerWidth && e.y > 70 && open) {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        position=\"relative\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n\t\t})}\r\n\t\tstyle={{backgroundColor: theme.palette.primary.main, color: theme.palette.primary.contrastText}}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n\t\t\tclassName={clsx(classes.menuButton, open && classes.hide)}\r\n\t\t\tstyle={{color: theme.palette.text.primary}}\r\n          >\r\n            <MenuOutlinedIcon />\r\n          </IconButton>\r\n          <BatchSelect />\r\n        </Toolbar>\r\n      </AppBar>\r\n      <ClickAwayListener onClickAway={handleClickAway}>\r\n        <Drawer\r\n          className={classes.drawer}\r\n          variant=\"persistent\"\r\n          anchor=\"left\"\r\n          open={open}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n\t\t  }}\r\n\t\t  style={{color: theme.palette.text.primary}}\r\n        >\r\n          <div className={classes.drawerHeader}>\r\n            <IconButton color=\"inherit\" edge=\"end\" onClick={handleDrawerClose}>\r\n              <ChevronLeftIcon />\r\n            </IconButton>\r\n          </div>\r\n          <Divider />\r\n          <Dashboard />\r\n        </Drawer>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { FilterBar };\r\n","import React, { useState, useContext } from 'react';\r\nimport { saveSvgAsPng } from 'save-svg-as-png';\r\n\r\n// context\r\nimport { themeContext } from '../../context/themeContext';\r\n\r\n// constants\r\nimport { dimensions } from '../util/constants';\r\n\r\n// styles\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport '../../styles/styles.css';\r\nimport { IconButton, Tooltip } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\r\n\r\nconst { margin } = dimensions;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        color: '#f2ffcc',\r\n        textAlign: 'left',\r\n        padding: 0,\r\n        fontSize: 10,\r\n        marginLeft: margin.left,\r\n        marginRight: margin.right\r\n    },\r\n    saveButton: {\r\n        float: 'left',\r\n        marginLeft: margin.left,\r\n        padding: 0\r\n    },\r\n    themeButton: {\r\n        color: theme.palette.text.secondary,\r\n        float: 'left',\r\n        marginLeft: 20,\r\n        padding: 0\r\n    }\r\n}));\r\n\r\nconst Footnotes = () => {\r\n    const classes = useStyles();\r\n\tconst {theme, selectTheme} = useContext(themeContext);\r\n\t// const [darkTheme, setDarkTheme] = useState(true);\r\n\r\n    const saveImage = () => {\r\n        saveSvgAsPng(document.querySelector(\"#chart\"), \"covid-19_chart.png\", {\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n            encoderOptions: 1 \r\n        });\r\n\t};\r\n\r\n    return (\r\n        <div style={{backgroundColor: theme.palette.background.default}}>\r\n            <p className={classes.root}>Line marking indicates day of lockdown order/advisory</p>\r\n            <p className={classes.root}>Freeze/unfreeze focus by clicking on chart</p>\r\n            <Tooltip title=\"Save chart as image\" placement=\"right\">\r\n                <IconButton onClick={saveImage} className={classes.saveButton} style={{color: theme.palette.text.primary}}>\r\n                    <SaveIcon />\r\n                </IconButton>\r\n\t\t\t</Tooltip>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport { Footnotes };","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nconst themeDark = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n\t  main: \"#000018\",\r\n      contrastText: \"#fff\",\r\n    },\r\n    background: {\r\n      default: \"#29293d\",\r\n    },\r\n    text: {\r\n      primary: \"#f2ffcc\",\r\n      secondary: \"#fff\",\r\n    },\r\n    contrastThreshold: 3,\r\n  },\r\n  typography: {\r\n    fontFamily: \"Raleway, Arial\",\r\n  },\r\n  overrides: {\r\n    MuiMenu: {\r\n\t\troot: {\r\n\t\t\tcolor: \"#fff\"\r\n\t\t},\r\n      paper: {\r\n\t\tbackgroundColor: \"#29293d\",\r\n\t\ttextColor: \"#fff\"\r\n      },\r\n\t},\r\n\tMuiMenuItem: {\r\n\t\troot: {\r\n\t\t  backgroundColor: \"#29293d\",\r\n\t\t  color: \"#fff\"\r\n\t\t},\r\n\t},\r\n\tMuiButton: {\r\n\t\troot: {\r\n\t\t  color: \"#fff\",\r\n\t\t},\r\n\t},\r\n\tMuiInputBase: {\r\n\t\troot: {\r\n\t\t  color: \"#fff\",\r\n\t\t  maxWidth: 100,\r\n\t\t  paddingLeft: 10,\r\n\t\t},\r\n\t  },\r\n    MuiPickersCalendarHeader: {\r\n      switchHeader: {\r\n        color: \"#29293d\",\r\n      },\r\n    },\r\n    MuiPickersDay: {\r\n      day: {\r\n        color: \"#29293d\",\r\n      },\r\n      daySelected: {\r\n        backgroundColor: \"#29293d\",\r\n      },\r\n      dayDisabled: {\r\n        color: \"#29293d\",\r\n      },\r\n      current: {\r\n        color: \"#29293d\",\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst themeLight = createMuiTheme({\r\n\tpalette: {\r\n\t  primary: {\r\n\t\tmain: \"#80deea\",\r\n\t\tcontrastText: \"#fff\",\r\n\t  },\r\n\t  background: {\r\n\t\tdefault: \"#fff\",\r\n\t  },\r\n\t  text: {\r\n\t\tprimary: \"#29293d\",\r\n\t\tsecondary: \"#000018\",\r\n\t  },\r\n\t  contrastThreshold: 3,\r\n\t},\r\n\ttypography: {\r\n\t  fontFamily: \"Raleway, Arial\",\r\n\t},\r\n\toverrides: {\r\n\t  MuiMenu: {\r\n\t\tpaper: {\r\n\t\t  backgroundColor: \"#29293d\",\r\n\t\t},\r\n\t  },\r\n\t  MuiPickersCalendarHeader: {\r\n\t\tswitchHeader: {\r\n\t\t  color: \"#29293d\",\r\n\t\t},\r\n\t  },\r\n\t  MuiPickersDay: {\r\n\t\tday: {\r\n\t\t  color: \"#29293d\",\r\n\t\t},\r\n\t\tdaySelected: {\r\n\t\t  backgroundColor: \"#29293d\",\r\n\t\t},\r\n\t\tdayDisabled: {\r\n\t\t  color: \"#29293d\",\r\n\t\t},\r\n\t\tcurrent: {\r\n\t\t  color: \"#29293d\",\r\n\t\t},\r\n\t  },\r\n\t},\r\n  });\r\n\r\nexport { themeDark, themeLight };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\n// data\r\nimport USStates from \"./data/us-states.csv\";\r\nimport stateInfo from \"./data/stateInfo.json\";\r\n\r\n// components\r\nimport { ChartUSCompare } from \"./components/chart/ChartUSCompare\";\r\nimport { FilterBar } from \"./components/dataParams/FilterBar\";\r\nimport { Footnotes } from \"./components/chart/Footnotes\";\r\n\r\n// context\r\nimport { dataContext } from \"./context/dataContext\";\r\nimport { statesContext } from \"./context/statesContext\";\r\nimport { themeContext } from './context/themeContext';\r\n\r\n// styles\r\n// import './styles/styles.css';\r\nimport { themeDark, themeLight } from './styles/theme';\r\n\r\nfunction App() {\r\n\tconst [dataStates, setDataStates] = useState([]);\r\n\tconst [selectedStates, setSelectedStates] = useState([]);\r\n\tconst [theme, setTheme] = useState(themeDark);\r\n\tconst [darkTheme, setDarkTheme] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // get COVID-19 state data\r\n    d3.csv(USStates).then((data) => {\r\n      // clean data\r\n      const dateParser = d3.timeParse(\"%Y-%m-%d\");\r\n\r\n      data.forEach((d) => {\r\n        d.date = dateParser(d.date);\r\n        d.fips = parseInt(d.fips);\r\n        d.cases = parseInt(d.cases);\r\n        d.deaths = parseInt(d.deaths);\r\n      });\r\n\r\n      // Filter data:\r\n      // Prior to 02-27-20, Washington had 1 or 2 cases from January.\r\n      // However, these were isolated cases and this graph is trying to track Covid-19 spread\r\n      // Also filter out territories Guam, Puerto Rico, etc.\r\n      data = data.filter(\r\n        (d) =>\r\n          d.date > new Date(2020, 1, 26) &&\r\n          Object.keys(stateInfo).includes(d.state)\r\n      );\r\n\r\n      // Normalize data:\r\n      // Add \"dayOfOutbreak\" to show elapsed time\r\n      // Add state population\r\n      // Add \"casesPerThousand\" and \"deathsPerThousand\"\r\n      Object.keys(stateInfo).forEach((state) => {\r\n        const stateData = data.filter((d) => d.state === state);\r\n        stateData.forEach((d) => {\r\n          d.dayOfOutbreak =\r\n            (d.date - stateData[0].date) / (24 * 60 * 60 * 10 * 10 * 10) + 1; // day - day one, convert ms to days\r\n          d.casesPerThousand = (d.cases / stateInfo[state].population) * 1000;\r\n          d.deathsPerThousand = (d.deaths / stateInfo[state].population) * 1000;\r\n        });\r\n      });\r\n      setDataStates(data);\r\n      console.log(\"imported dataset\");\r\n    });\r\n  }, []);\r\n\r\n//   useEffect(() => {\r\n// \tif (!darkTheme) {\r\n// \t\tsetTheme(themeDark);\r\n// \t} else {\r\n// \t\tsetTheme(themeLight)\r\n// \t}\r\n//   }, [darkTheme]);\r\n\r\n  return (\r\n    <div minWidth=\"sm\" style={{backgroundColor: theme.palette.background.default}}>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <dataContext.Provider value={{ dataStates, setDataStates }}>\r\n          <statesContext.Provider value={{ selectedStates, setSelectedStates }}>\r\n\t\t\t<themeContext.Provider value={{ theme, setTheme }}>\r\n\t\t\t\t<ThemeProvider theme={themeDark}>\r\n\t\t\t\t<FilterBar className=\"header\" />\r\n\t\t\t\t<ChartUSCompare className=\"chart\" />\r\n\t\t\t\t<Footnotes />\r\n\t\t\t\t</ThemeProvider>\r\n            </themeContext.Provider>\r\n          </statesContext.Provider>\r\n        </dataContext.Provider>\r\n      </MuiPickersUtilsProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/us-states.bd1c1d10.csv\";"],"sourceRoot":""}